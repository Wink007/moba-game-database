# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö MLBB

## –©–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ

–°–∫—Ä–∏–ø—Ç `sync_mlbb_stats.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î –¥–ª—è –≤—Å—ñ—Ö –≥–µ—Ä–æ—ó–≤ Mobile Legends:

1. **abilityshow** - –ø–æ–∫–∞–∑–Ω–∏–∫–∏ –∑–¥—ñ–±–Ω–æ—Å—Ç–µ–π `["60", "60", "50", "50"]`
2. **relation** - compatibility data (assist/weak hero IDs) –∑ —Ä–µ–∞–ª—å–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. **statistics** - ban rate, appearance rate, win rate

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (–ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ—Å—Ç—É–ø –¥–æ Railway)
cd game_database
railway run python3 sync_mlbb_stats.py

# –ê–±–æ —á–µ—Ä–µ–∑ DATABASE_URL
export DATABASE_URL="postgresql://..."
python3 sync_mlbb_stats.py
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ (cron)

```bash
# –î–æ–¥–∞—Ç–∏ –≤ crontab
crontab -e

# –©–æ–¥–Ω—è –æ 03:00
0 3 * * * /path/to/game_database/cron_sync_mlbb_stats.sh
```

### Railway Cron (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–£ Railway.app –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ cron job:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings ‚Üí Cron Jobs
2. –î–æ–¥–∞—Ç–∏: `0 3 * * * railway run python3 sync_mlbb_stats.py`

## –©–æ —Ä–æ–±–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

1. –û—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –≥–µ—Ä–æ—ó–≤ Mobile Legends –∑ –ë–î
2. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥–µ—Ä–æ—è:
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –¥–∞–Ω—ñ (abilityshow, relation, statistics)
   - –Ø–∫—â–æ —Ç–∞–∫ - –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ mlbb-stats API
   - –û–Ω–æ–≤–ª—é—î –≤ –ë–î —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –ø–æ–ª—è
3. –í–∏–≤–æ–¥–∏—Ç—å –∑–≤—ñ—Ç –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

## API endpoints —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è

- `https://mlbb-stats.ridwaanhall.com/api/hero-detail/{slug}/` - abilityshow
- `https://mlbb-stats.ridwaanhall.com/api/hero-compatibility/{id}/` - relation
- `https://mlbb-stats.ridwaanhall.com/api/hero-detail-stats/{slug}/` - statistics

## –õ–æ–≥–∏

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `logs/sync_mlbb_stats.log`:

```bash
tail -f logs/sync_mlbb_stats.log
```

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É

```
============================================================
üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑ mlbb-stats API
============================================================
–ó–Ω–∞–π–¥–µ–Ω–æ 130 –≥–µ—Ä–æ—ó–≤ Mobile Legends

üì• Sora (ID: 132, game_id: 132)
  ‚úÖ abilityshow: ['60', '60', '50', '50']
  ‚úÖ relation: 5 assist, 5 weak
  ‚úÖ statistics: ban=55.2%, pick=1.4%, win=46.0%
  üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–æ

üì• Aurora (ID: 12, game_id: 12)
  ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥–∞–Ω—ñ –∞–∫—Ç—É–∞–ª—å–Ω—ñ)

============================================================
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ!
   –û–Ω–æ–≤–ª–µ–Ω–æ: 15
   –ü—Ä–æ–ø—É—â–µ–Ω–æ: 115
   –í—Å—å–æ–≥–æ: 130
============================================================
```

## –ë–µ–∑–ø–µ–∫–∞

- –°–∫—Ä–∏–ø—Ç **–ù–ï** –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—î —ñ—Å–Ω—É—é—á—ñ –¥–∞–Ω—ñ
- –û–Ω–æ–≤–ª—é—î —Ç—ñ–ª—å–∫–∏ NULL/–ø–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è
- –ó–±–µ—Ä—ñ–≥–∞—î —ñ—Å–Ω—É—é—á—ñ –æ–ø–∏—Å–∏ –≤ relation
- Rate limiting: 0.5s –ø–∞—É–∑–∞ –º—ñ–∂ –≥–µ—Ä–æ—è–º–∏

## –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–î–ª—è –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó:

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ –∑ crontab
crontab -e
# (–≤–∏–¥–∞–ª–∏—Ç–∏ —Ä—è–¥–æ–∫ –∑ cron_sync_mlbb_stats.sh)
```
