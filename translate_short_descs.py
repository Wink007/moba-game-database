#!/usr/bin/env python3
"""
Translate hero short_description and full_description to Ukrainian.
Part 1: All short descriptions (131 heroes)
"""
import psycopg2

DB_URL = 'postgresql://postgres:AgAAUwYzsOuUEzuKvjSQIUUXaxoTfGIn@crossover.proxy.rlwy.net:34790/railway?sslmode=require'

# All 131 short_description translations
SHORT_DESCRIPTIONS = {
    "Aamon": "Відлюдний герцог замку Аберлін.",
    "Akai": "Всемогутній панда-герой Долини Потоків.",
    "Aldous": "Охоронець Мінойського Лабіринту.",
    "Alice": "Королева Кривавих Демонів та одна з двох домінуючих сил Безодні.",
    "Alpha": "Чистий кіборг, створений Лабораторією 1718.",
    "Alucard": "Мисливець на демонів, який зневажає темряву.",
    "Angela": "Штучна людина, створена в Лабораторії 1718.",
    "Argus": "Ангел, що впав зі світла у темряву.",
    "Arlott": "Напівдемон-напівлюдина з двома списами, що жадає помсти Церкві та демонам.",
    "Atlas": "Глибоководна істота, що звільнилася від печатки.",
    "Aulus": "Воїн-леонін, що бореться, щоб довести свою вартість.",
    "Aurora": "Діва Льодовика, що дарує вічну пам'ять у легендах Півночі.",
    "Badang": "Острівний герой, який отримав надприродну силу після перемоги над водяним монстром.",
    "Balmond": "Лідер Орочого Легіону.",
    "Bane": "Жорстокий ватажок піратів, заклятий ворог Франко.",
    "Barats": "Шукач пригод верхом на драконовій ящірці.",
    "Baxia": "Містичний Черепах зі Східних Бійців, невпинне колесо полум'я зі щитом.",
    "Beatrix": "Впевнена у собі дівчина-винахідниця.",
    "Belerick": "Добра та братерська елементальна істота.",
    "Benedetta": "Жінка-воїн, яка захищає Пустельні Землі від вторгнення демонів.",
    "Brody": "Таємничий чоловік, чия права рука була зіпсована і який втратив пам'ять.",
    "Bruno": "Капітан Рейнджерів Ерудіціо, що захищає місто своїми дивовижними футбольними навичками.",
    "Carmilla": "Дівчина, яка стала Кривавим Демоном заради кохання.",
    "Cecilion": "Коханий Карміли, Кривавий Демон.",
    "Chang'e": "Неслухняна та мила учениця Великого Дракона.",
    "Chip": "Безтурботна генетично вдосконалена лисиця, що володіє передовою портальною технологією.",
    "Chou": "Талановитий боєць із лицарським серцем.",
    "Cici": "Весела артистка, що несе радість і дива всюди, куди б не йшла.",
    "Claude": "Чудовий злодій, який приходить і зникає без сліду.",
    "Clint": "Влучний стрілець, сповнений праведності та справедливості.",
    "Cyclops": "Небесний мандрівник у Всесвіті.",
    "Diggie": "Вчений-сова, який може контролювати час.",
    "Dyrroth": "Колись благородний принц Монійської Імперії, він був викрадений Алісою, Королевою Кривавих Демонів, і перетворений на Принца Безодні.",
    "Edith": "Покинута Вартова із запечатаними спогадами.",
    "Esmeralda": "Таємнича астрологиня.",
    "Estes": "Король Ельфів, що править Місячними Ельфами.",
    "Eudora": "Декан школи Ультурія в Магічній Академії, Світлий Ельф.",
    "Fanny": "Танцівниця з клинками на полі бою.",
    "Faramis": "Некромант у Некрокіпі, який прагне знайти зцілення від Туману.",
    "Floryn": "Добросердечна дівчина, яка прагне поширити зелень по всьому світу.",
    "Franco": "Хоробрий воїн вічної мерзлоти, заклятий ворог Бейна.",
    "Fredrinn": "Майстер-оцінювач скарбів у Лос-Пекадос, що накопичує багатство і шукає загубленого друга.",
    "Freya": "Валькірія, що охороняє Північну Долину.",
    "Gatotkaca": "Воїн зі Всесвіту Аркадем.",
    "Gloo": "Таємнича істота, яка може розділятися на безліч менших.",
    "Gord": "Декан школи Ікара в Магічній Академії.",
    "Granger": "Таємничий мисливець на демонів, що діє поза рамками Церкви Світла. Завжди зі скрипковим футляром у руках, він полює на демонів двома зброями, що пожирають душі.",
    "Grock": "Кам'яна людина, пробуджена від сну.",
    "Guinevere": "Аристократична дівчина з особливим характером, улюблениця свого старшого брата Ланселота.",
    "Gusion": "Бунтівний син Дому Пакслі.",
    "Hanabi": "Лідер Червоної Секти у Червоній Тіні річок Кадія.",
    "Hanzo": "Геніальний ніндзя Тіньової Секти, що стоїть на роздоріжжі.",
    "Harith": "Хлопчик-леонін, що прибув до Монійської Імперії з Азрії.",
    "Harley": "Юний маг, чиї сили пробудилися в момент небезпеки, і який тепер прибув до Магічної Академії на навчання.",
    "Hayabusa": "Молодий лідер Тіньової Секти, що крокує шляхом ніндо без страху крізь безмісячні ночі.",
    "Helcurt": "Жах Безодні, готовий зрадити будь-кого заради виживання.",
    "Hilda": "Спадкоємиця Сили Мегаліту.",
    "Hylos": "Кентавр, що охороняє Туманні Гори.",
    "Irithel": "Лісова мисливиця зі смілодоном.",
    "Ixia": "Лідер Bad Soul та самопроголошена винахідниця, вона використовує саморобну зброю на реакторі з краденого Старліуму.",
    "Jawhead": "Розумний робот, створений для захисту маленької Ейлі.",
    "Johnson": "Суперкіборг, що може перетворюватися на автомобіль і вести команду в бій.",
    "Joy": "«Дитя Чуда», яка повернулась до леонінів після років мандрівок.",
    "Julian": "Вбивця-воронів Церкви Світла, юнак у пошуках свого дому…",
    "Kadita": "Прекрасна і могутня королева русалок.",
    "Kagura": "Юний дух, народжений із глибоких прагнень, що зберігалися в Парасольці Сеймей. Вона нарешті вийшла зі свого сну, як сяючий квіт, що кидає виклик темній ночі.",
    "Kaja": "Лідер Назара, що охороняє Небесний Палац.",
    "Kalea": "Зі зміїним хвостом, ця горда нащадок Великого Змія грациозно плаває морем Вонетіс, мріючи одного дня нести повну силу свого спадку.",
    "Karina": "Вбивця з племені Темних Ельфів, яка бореться за порятунок своєї сестри Селени.",
    "Karrie": "Байдужа і могутня Яссон.",
    "Khaleed": "Відважний вождь клану, що крокує пісками.",
    "Khufra": "Запечатаний стародавній тиран.",
    "Kimmy": "Народжена у військовій сім'ї, вона здобула визнання власними заслугами як смілива, але невимушена «крута дівчина» Прикордонної Варти.",
    "Lancelot": "Блудний син та геніальний мечник Дому Бароко.",
    "Lapu-Lapu": "Герой, що захищає острови Вонетіс від чужинців.",
    "Layla": "Опора Рейнджерів Ерудіціо, також відома як Сяюча Зірка.",
    "Leomord": "Відданий лицар, що присягнувся охороняти Некрокіп до останнього подиху.",
    "Lesley": "Прийомна дочка Дому Венс, таємний снайпер.",
    "Ling": "Граціозний, вільний Зяблик та Східний Боєць, що успадкував силу Червоного Птаха.",
    "Lolita": "Член Рейнджерів Ерудіціо та захисниця майстерні Левіафан.",
    "Lukas": "Легендарний Священний Звір, що може набувати форми бешкетного юнака.",
    "Lunox": "Чудесна істота, народжена у Сутінковій Сфері.",
    "Luo Yi": "Прагнучи відродити стародавнє минуле, вона — єдина істота, що опанувала таємниці Інь та Янь.",
    "Lylia": "Кумедна та дотепна маленька відьма.",
    "Martis": "Непохитний та переможний Король Асурів.",
    "Masha": "Захисниця Ведмедів-Жахів.",
    "Mathilda": "Хоробра дівчина, яка не боїться влади.",
    "Melissa": "Дівчина з проклятими голками, яка тримає кравецьку майстерню та вирішує проблеми клієнтів.",
    "Minotaur": "Мінойський принц, який прагне відновити свою батьківщину.",
    "Minsitthar": "Молодий король, що привів народ Махар Пура до перемоги над загарбниками.",
    "Miya": "Жриця Місяця та захисниця Місячного Лісу.",
    "Moskov": "Воїн пустелі, який прийняв темряву заради помсти.",
    "Nana": "Маленька безтурботна леонінка.",
    "Natalia": "Вбивця, вигнана Імперією.",
    "Natan": "Рятівник, що подорожує крізь час і простір.",
    "Nolan": "Вчений, що мандрує Всесвітом із розділеними душами заради порятунку своєї доньки.",
    "Novaria": "Юна дівчина, яка прагне відновити Зоряний Атлас, щоб розкрити таємниці Зірок.",
    "Obsidia": "Стародавня Володарка Безодні, повстала з руїн, тепер прагне вбити Бога Темряви та полювати на його Витвори Згнилі.",
    "Odette": "Невинна принцеса, що виросла в Лебединому Замку, та геніальна чаклунка, майстерна у мечі та скіпетрі.",
    "Paquito": "Герой, що захищає надію та кохання двома кулаками.",
    "Pharsa": "Принцеса Ворон із лісу Аскаті.",
    "Phoveus": "Колишній солдат із прикордоння Імперії, що прийняв кайдани гріха заради захисту свого народу.",
    "Popol and Kupa": "Хлопець та Крижаний Вовк, партнери, які чудово розуміють одне одного.",
    "Rafaela": "Ангел, якого люблять та поважають люди цього світу.",
    "Roger": "Перевертень, що блукає темним лісом у жазі помсти.",
    "Ruby": "Дівчина, яка виросла завдяки допомозі Роджера.",
    "Saber": "Мечник у пошуках непереможності, використаний Лабораторією 1718.",
    "Selena": "Дівчина-Темний Ельф, що впала в Безодню.",
    "Silvanna": "Принцеса Монійської Імперії та королева-регентка.",
    "Sora": "Універсальний боєць, що може перетворюватися між формами Грому та Потоку.",
    "Sun": "Безсмертний Король Мавп, рішучий і непохитний, як гора, що його породила.",
    "Suyou": "Екзорцистка з Чжуань, яка успадкувала силу Безсмертного Нуо.",
    "Terizla": "Колись ексцентричний майстер-коваль, а тепер месник на боці Безодні.",
    "Thamuz": "Повелитель Вогняних Демонів, що прагне розпалити полум'я Безодні через війну та насильство.",
    "Tigreal": "Лідер Ордену Світла, охоронець Монійської Імперії.",
    "Uranus": "Охоронець із блискавки та повітря, що стереже Небесний Палац.",
    "Vale": "Спадкоємець Вітряної Фортеці, маг вітру.",
    "Valentina": "Колишня голова Дому Пакслі, яка готова на все заради воскресіння коханого.",
    "Valir": "Спадкоємець Вогняної Горлянки, маг вогню.",
    "Vexana": "Молода герцогиня, що охороняє Некрокіп.",
    "Wanwan": "Спритний Тигр зі Східних Бійців та жвава дівчина, що володіє Арбалетом Тан.",
    "Xavier": "Колишній член Лицарів Світла, який прагне прокласти власний шлях.",
    "X.Borg": "Некероване полум'я, що прагне помститися Ерудіціо.",
    "Yin": "Юний майстер бойових мистецтв у подорожі, щоб перемогти Злого Бога всередині себе.",
    "Yi Sun-shin": "Лідер Міста Флоту Драконів.",
    "Yu Zhong": "Юй Чжун, реінкарнація Чорного Дракона, прагне об'єднати річки Кадія завоюванням та відкрити еру процвітання.",
    "Yve": "Охоронниця рівноваги Всесвіту.",
    "Zetian": "Визнана Небесами та шанована народом, Небесна Імператриця річок Кадія сходить, щоб принести мир у смертний світ.",
    "Zhask": "Король Рою, що порушує рівновагу Всесвіту.",
    "Zhuxin": "Таємнича молода жінка, яка спрямовує вогняних метеликів за допомогою свого Ліхтаря Духів.",
    "Zilong": "Охоронець Вівтаря Дракона та Східний Боєць, що успадкував силу Хмарного Дракона.",
}

def main():
    import sys
    dry_run = '--dry-run' in sys.argv
    
    conn = psycopg2.connect(DB_URL)
    cur = conn.cursor()
    
    # Get all heroes
    cur.execute("SELECT id, name FROM heroes WHERE game_id = 2 ORDER BY name")
    heroes = cur.fetchall()
    
    updated = 0
    missing = []
    
    for hero_id, name in heroes:
        if name in SHORT_DESCRIPTIONS:
            if dry_run:
                print(f"  Would update {name}: {SHORT_DESCRIPTIONS[name][:60]}")
            else:
                cur.execute(
                    "UPDATE heroes SET short_description_uk = %s WHERE id = %s",
                    (SHORT_DESCRIPTIONS[name], hero_id)
                )
            updated += 1
        else:
            missing.append(name)
    
    if not dry_run:
        conn.commit()
    
    conn.close()
    
    print(f"\n{'[DRY RUN] ' if dry_run else ''}Updated short_description_uk for {updated} heroes")
    if missing:
        print(f"Missing translations for: {', '.join(missing)}")
    
    with open('/tmp/short_desc_result.txt', 'w') as f:
        f.write(f"Updated: {updated}\nMissing: {missing}\n")

if __name__ == '__main__':
    main()
