{"version":3,"file":"static/js/471.c5888e5e.chunk.js","mappings":"+JAiCO,MAAMA,EAAcC,IAClBC,EAAAA,EAAAA,GAAmB,CACxBC,SAAUC,EAAAA,EAAUC,QAAQC,IAAIC,OAAON,IACvCO,QAASA,KAAMC,EAAAA,EAAAA,GAAU,oBAAAC,OAA+BT,IACxDU,UAAWV,EACXW,UAAWC,EAAAA,IAIFC,EAAoBb,IAAgC,IAADc,EAC9D,MAAMC,GAAkBd,EAAAA,EAAAA,GAAmB,CACzCC,SAAUC,EAAAA,EAAUC,QAAQY,QAAQV,OAAON,IAC3CO,QAASA,KAAMC,EAAAA,EAAAA,GAAU,2BAAAC,OAAsCT,IAC/DU,UAAWV,EACXW,UAAWC,EAAAA,IAGPK,EAAiC,QAAvBH,EAAGC,EAAgBG,YAAI,IAAAJ,EAAAA,EAAI,GAE3C,MAAO,CACLK,MAAOF,EAAWG,OAAOC,GAAgB,IAAXA,EAAEC,MAChCC,MAAON,EAAWG,OAAOC,GAAgB,IAAXA,EAAEC,MAChCE,MAAOP,EAAWG,OAAOC,GAAgB,IAAXA,EAAEC,MAChCG,UAAWV,EAAgBU,W,uFCvD/B,QAA6B,2BAA7B,EAAsE,4BAAtE,EAA2G,uBAA3G,EAA4I,wBAA5I,EAAmL,6BAAnL,EAAkU,gC,aCY3T,MAAMC,EAAgDC,IAAwD,IAAvD,OAAEC,EAAM,UAAEC,EAAS,gBAAEC,EAAkB,UAAUH,EAC7G,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,OACR,KAAEC,IAASC,EAAAA,EAAAA,OACX,WAAEC,EAAU,eAAEC,EAAc,YAAEC,EAAaX,UAAWY,IAAeC,EAAAA,EAAAA,MACpEC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,GACzCG,GAAiBC,EAAAA,EAAAA,QAAsB,MAEvCC,EAASZ,EAAWN,GAGpBmB,GAAcC,EAAAA,EAAAA,IAAcC,EAAAA,EAAAA,aAAYC,UAC5C,GAA+B,OAA3BN,EAAeO,QAAkB,CACnC,UAAYf,EAAYQ,EAAeO,QAAU,CAAE,MAAAC,GAA4B,CAC/ER,EAAeO,QAAU,IAC3B,GACC,CAACf,KAwBEiB,EACQhC,EADMW,EACfc,EAAW,mBAAwB,gBAClC,wBAEN,OACEQ,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAkBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAkB,KAAA9C,OAAIqC,EAASS,EAAgB,GAAE,KAAA9C,OAAKuB,EAAwB,GAAjBuB,EAAmB,KAAA9C,OAAIoB,GAAa,IAC/G6B,QA9BcR,UAClB,IAAIX,IAAcF,EAAlB,CAGA,IAAKL,EAKH,OAJAY,EAAeO,QAAUvB,EACzBe,GAAe,GACfgB,WAAW,IAAMhB,GAAe,GAAQ,WACxCgB,WAAW,IAAMZ,IAAe,KAIlCP,GAAc,GACd,UACQL,EAAeP,EACvB,CAAE,MAAOgC,GACPC,QAAQC,MAAM,6BAA8BF,EAC9C,CAAC,QACCpB,GAAc,EAChB,CAlBoC,GA8BhCuB,SAAUxB,EACVyB,MAAOX,EACP,aAAYA,EAAYG,UAExBC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAMtB,EAAS,eAAiB,OAAQuB,OAAO,eAAeC,YAAY,IAAGd,UAC3HC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,iJAGX7B,IACCe,EAAAA,EAAAA,KAAA,OAAK5B,UAAS,GAAApB,OAAK8C,EAAmB,KAAA9C,OAAwB,QAApBqB,EAA4ByB,EAAyB,IAAKC,SACjGnC,EAAE,6B,gDClEN,MAAMmD,EAAgBC,GACtBA,EACEC,EAAAA,EAAUC,SAASF,EAAO,CAC/BG,aAAc,CACZ,IAAK,IAAK,KAAM,SAAU,IAAK,IAAK,KAAM,IAAK,OAAQ,MACvD,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KACrD,QAAS,QAAS,QAAS,KAAM,KAAM,KAAM,MAAO,MAAO,OAE7DC,aAAc,CAAC,OAAQ,SAAU,MAAO,QAAS,QAAS,MAAO,MAAO,WAPvD,E,wHCLd,MAAMC,EACCC,KACVC,EAAAA,EAAAA,GAAQ,Y,sCCHZ,SAAgB,UAAY,0BAA0B,gBAAkB,gCAAgC,YAAc,4BAA4B,SAAW,yBAAyB,kBAAoB,kCAAkC,cAAgB,8BAA8B,cAAgB,8BAA8B,eAAiB,+BAA+B,cAAgB,8BAA8B,eAAiB,+BAA+B,eAAiB,+BAA+B,cAAgB,8BAA8B,YAAc,4BAA4B,kBAAoB,kCAAkC,sBAAwB,sCAAsC,aAAe,6BAA6B,eAAiB,+BAA+B,mBAAqB,mCAAmC,cAAgB,8BAA8B,WAAa,2BAA2B,eAAiB,+BAA+B,gBAAkB,gCAAgC,SAAW,yBAAyB,cAAgB,8BAA8B,cAAgB,8BAA8B,eAAiB,+BAA+B,SAAW,yBAAyB,cAAgB,8BAA8B,QAAU,wBAAwB,WAAa,2BAA2B,kBAAoB,kCAAkC,iBAAmB,iCAAiC,aAAe,6BAA6B,UAAY,0BAA0B,aAAe,6BAA6B,QAAU,wBAAwB,YAAc,4BAA4B,gBAAkB,gCAAgC,mBAAqB,mCAAmC,gBAAkB,gCAAgC,WAAa,2BAA2B,SAAW,yBAAyB,WAAa,2BAA2B,YAAc,4BAA4B,aAAe,6BAA6B,iBAAmB,iCAAiC,UAAY,0BAA0B,SAAW,yBAAyB,cAAgB,8BAA8B,cAAgB,8BAA8B,UAAY,0BAA0B,UAAY,0BAA0B,SAAW,yBAAyB,SAAW,yBAAyB,UAAY,0BAA0B,UAAY,0BAA0B,eAAiB,+BAA+B,UAAY,0BAA0B,WAAa,2BAA2B,cAAgB,8BAA8B,eAAiB,+BAA+B,cAAgB,8BAA8B,SAAW,yBAAyB,eAAiB,+BAA+B,gBAAkB,gCAAgC,WAAa,2BAA2B,YAAc,4BAA4B,YAAc,4BAA4B,SAAW,yBAAyB,cAAgB,8BAA8B,cAAgB,8BAA8B,cAAgB,8BAA8B,SAAW,yBAAyB,SAAW,yBAAyB,UAAY,0BAA0B,WAAa,2BAA2B,UAAY,0BAA0B,SAAW,yBAAyB,cAAgB,8BAA8B,SAAW,yBAAyB,SAAW,yBAAyB,UAAY,0BAA0B,UAAY,0BAA0B,YAAc,4BAA4B,iBAAmB,iCAAiC,aAAe,6BAA6B,UAAY,0BAA0B,WAAa,2BAA2B,WAAa,2BAA2B,kBAAoB,kCAAkC,WAAa,2BAA2B,iBAAmB,iCAAiC,UAAY,0BAA0B,cAAgB,8BAA8B,WAAa,2BAA2B,aAAe,6BAA6B,WAAa,2BAA2B,YAAc,4BAA4B,mBAAqB,mCAAmC,iBAAmB,iCAAiC,sBAAwB,sCAAsC,cAAgB,8BAA8B,aAAe,6BAA6B,YAAc,4BAA4B,iBAAmB,iCAAiC,iBAAmB,iCAAiC,mBAAqB,mCAAmC,YAAc,4BAA4B,YAAc,4BAA4B,KAAO,qBAAqB,cAAc,4BAA4B,OAAS,uBAAuB,IAAM,oBAAoB,YAAc,4BAA4B,aAAe,6BAA6B,MAAQ,sBAAsB,aAAe,6BAA6B,aAAe,6BAA6B,eAAiB,+BAA+B,YAAc,4BAA4B,YAAc,4BAA4B,OAAS,uBAAuB,MAAQ,sBAAsB,UAAY,0BAA0B,YAAc,4BAA4B,UAAY,0BAA0B,UAAY,0BAA0B,SAAW,yBAAyB,eAAiB,+BAA+B,cAAgB,8BAA8B,QAAU,wBAAwB,OAAS,uBAAuB,oBAAsB,oCAAoC,gBAAkB,gCAAgC,eAAiB,+BAA+B,gBAAkB,gCAAgC,SAAW,yBAAyB,gBAAkB,gCAAgC,aAAe,6BAA6B,QAAU,wBAAwB,aAAe,6BAA6B,aAAe,6BAA6B,UAAY,0BAA0B,oBAAsB,oCAAoC,eAAiB,+BAA+B,UAAY,0BAA0B,gBAAkB,gCAAgC,WAAa,2BAA2B,WAAa,2BAA2B,mBAAqB,mCAAmC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,yBAA2B,yCAAyC,eAAiB,+BAA+B,YAAc,4BAA4B,mBAAqB,mCAAmC,aAAe,6BAA6B,iBAAmB,iCAAiC,eAAiB,+BAA+B,gBAAkB,gCAAgC,sBAAwB,sCAAsC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,gBAAkB,gCAAgC,iBAAmB,iCAAiC,sBAAwB,sCAAsC,eAAiB,+BAA+B,gBAAkB,gCAAgC,iBAAmB,iCAAiC,oBAAsB,oCAAoC,sBAAwB,sCAAsC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,sBAAwB,sCAAsC,oBAAsB,oCAAoC,gBAAkB,gCAAgC,eAAiB,+BAA+B,mBAAqB,mCAAmC,WAAa,2BAA2B,YAAc,4BAA4B,sBAAwB,sCAAsC,kBAAoB,kCAAkC,cAAgB,8BAA8B,KAAO,qBAAqB,MAAQ,sBAAsB,aAAe,6BAA6B,eAAiB,+BAA+B,YAAc,4BAA4B,kBAAoB,kCAAkC,gBAAkB,gCAAgC,gBAAkB,gCAAgC,iBAAmB,iCAAiC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,gBAAkB,gCAAgC,eAAiB,+BAA+B,mBAAqB,mCAAmC,oBAAsB,oCAAoC,eAAiB,+BAA+B,cAAgB,8BAA8B,oBAAsB,oCAAoC,mBAAqB,mCAAmC,kBAAoB,kCAAkC,gBAAkB,gCAAgC,UAAY,0BAA0B,YAAc,4BAA4B,aAAe,6BAA6B,kBAAoB,kCAAkC,mBAAqB,mCAAmC,UAAY,0BAA0B,aAAe,6BAA6B,aAAe,6BAA6B,YAAc,4BAA4B,YAAc,4BAA4B,UAAY,0BAA0B,cAAgB,8BAA8B,aAAe,6BAA6B,YAAc,4BAA4B,WAAa,2BAA2B,UAAY,0BAA0B,cAAgB,8BAA8B,cAAgB,8BAA8B,gBAAkB,gCAAgC,YAAc,4BAA4B,kBAAoB,kCAAkC,gBAAkB,gCAAgC,gBAAkB,gCAAgC,YAAc,4BAA4B,gBAAkB,gCAAgC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,uBAAyB,uCAAuC,aAAe,6BAA6B,kBAAoB,kCAAkC,UAAY,0BAA0B,YAAc,4BAA4B,QAAU,wBAAwB,OAAS,uBAAuB,UAAY,0BAA0B,WAAa,2BAA2B,aAAe,6BAA6B,aAAe,6BAA6B,WAAa,2BAA2B,OAAS,uBAAuB,UAAY,0BAA0B,YAAc,4BAA4B,YAAc,4BAA4B,YAAc,4BAA4B,cAAgB,8BAA8B,eAAiB,+BAA+B,WAAa,2BAA2B,aAAe,6BAA6B,kBAAoB,kCAAkC,kBAAoB,kCAAkC,eAAiB,+BAA+B,YAAc,4BAA4B,kBAAoB,kCAAkC,YAAc,4BAA4B,aAAe,6BAA6B,cAAgB,8BAA8B,WAAa,2BAA2B,eAAiB,+BAA+B,QAAU,wBAAwB,mBAAqB,mCAAmC,eAAiB,+BAA+B,mBAAqB,mCAAmC,oBAAsB,oCAAoC,gBAAkB,gCAAgC,mBAAqB,mCAAmC,oBAAsB,oCAAoC,oBAAsB,oCAAoC,YAAc,4BAA4B,UAAY,0BAA0B,gBAAkB,gCAAgC,YAAc,4BAA4B,QAAU,wBAAwB,cAAgB,8BAA8B,YAAc,4BAA4B,OAAS,uBAAuB,aAAe,6BAA6B,YAAc,4BAA4B,SAAW,yBAAyB,YAAc,4BAA4B,cAAgB,8BAA8B,YAAc,4BAA4B,QAAU,wBAAwB,UAAY,0BAA0B,QAAU,wBAAwB,cAAgB,8BAA8B,WAAa,2BAA2B,WAAa,2BAA2B,YAAc,4BAA4B,QAAU,wBAAwB,WAAa,2BAA2B,gBAAkB,gCAAgC,OAAS,uBAAuB,aAAe,6BAA6B,WAAa,2BAA2B,WAAa,2BAA2B,aAAe,6BAA6B,WAAa,2BAA2B,YAAc,4BAA4B,cAAgB,8BAA8B,YAAc,4BAA4B,aAAe,6BAA6B,eAAiB,+BAA+B,aAAe,6BAA6B,kBAAoB,kCAAkC,YAAc,4BAA4B,aAAe,6BAA6B,eAAiB,+BAA+B,cAAgB,8BAA8B,YAAc,4BAA4B,UAAY,0BAA0B,qBAAuB,qCAAqC,gBAAkB,gCAAgC,eAAiB,+BAA+B,cAAgB,8BAA8B,cAAgB,8BAA8B,eAAiB,gC,aCIjjc,MAoCMC,EAAO,CACX,CAAEC,IAAK,OAAQC,KArCAC,KACf9B,EAAAA,EAAAA,MAAA,OAAKW,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,SAAA,EAC5IC,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAAMhC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,eAAad,EAAAA,EAAAA,KAAA,QAAMc,EAAE,iBAmChCmB,MAAO,8BACtC,CAAER,IAAK,SAAUC,KAhCAQ,KACjBlC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,UAC5IC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,+JA8ByBmB,MAAO,wBAC1C,CAAER,IAAK,UAAWC,KA3BAS,KAClBnC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,UAC5IC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,4KAyB2BmB,MAAO,uBAC5C,CAAER,IAAK,UAAWC,KAtBAU,KAClBvC,EAAAA,EAAAA,MAAA,OAAKW,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,SAAA,EAC5IC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,+CAA6Cd,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,IAAIC,GAAG,IAAIC,EAAE,OAAKhC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,gCAA8Bd,EAAAA,EAAAA,KAAA,QAAMc,EAAE,iCAoB7FmB,MAAO,uBAC5C,CAAER,IAAK,QAASC,KAjBAW,KAChBrC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,UAC5IC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,qEAeuBmB,MAAO,uBACxC,CAAER,IAAK,UAAWC,KAZAY,KAClBzC,EAAAA,EAAAA,MAAA,OAAKW,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,SAAA,EAC5IC,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAAMhC,EAAAA,EAAAA,KAAA,YAAUuC,OAAO,wBAUdN,MAAO,4BAGjCO,EAAgDC,EAAAA,KAAWvE,IAAiC,IAAhC,UAAEwE,EAAS,YAAEC,GAAazE,EACjG,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,MACd,OACE0B,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO8C,eAAe7C,SACnCyB,EAAKqB,IAAIC,IAAA,IAAC,IAAErB,EAAG,KAAEC,EAAI,MAAEO,GAAOa,EAAA,OAC7BjD,EAAAA,EAAAA,MAAA,UAEEzB,UAAS,GAAApB,OAAK8C,EAAOiD,UAAS,KAAA/F,OAAI0F,IAAcjB,EAAM3B,EAAOkD,gBAAkB,IAC/E/C,QAASA,IAAM0C,EAAYlB,GAAK1B,SAAA,EAEhCC,EAAAA,EAAAA,KAAC0B,EAAI,KACL1B,EAAAA,EAAAA,KAAA,QAAAD,SAAOnC,EAAEqE,OALJR,S,cCjDR,MAAMwB,EAA8CR,EAAAA,KAAWvE,IAS/D,IATgE,cACrEgF,EAAa,mBACbC,EAAkB,cAClBC,EAAa,cACbC,EAAa,eACbC,EAAc,eACdC,EAAc,cACdC,EAAa,iBACbC,GACDvF,EACC,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MACpB,OAA6B,IAAzB4E,EAAcS,OAAqB,MAGrC9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO8D,cAAc7D,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO+D,aAAa9D,SAAEnC,EAAE,2BAEvCiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgE,gBAAgB/D,SAAA,EAErCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOiE,UAAUhE,SAAA,CAC9BmD,EAAcL,IAAI,CAACmB,EAAOC,KACzBpE,EAAAA,EAAAA,MAAA,OAEEzB,UAAS,GAAApB,OAAK8C,EAAOoE,SAAQ,KAAAlH,OAAImG,IAAuBc,EAAQnE,EAAOqE,eAAiB,GAAE,KAAAnH,OAAIuG,EAAea,IAAIH,GAASnE,EAAOuE,oBAAsB,IACvJpE,QAASA,IAAMuD,EAAcS,GAAOlE,SAAA,CAEnCiE,EAAMM,QACLtE,EAAAA,EAAAA,KAAA,OAAKuE,IAAKP,EAAMM,MAAOE,KAAKC,EAAAA,EAAAA,IAAaT,EAAON,EAAKgB,YAEtDV,EAAMW,aACL3E,EAAAA,EAAAA,KAAA,OAAK5B,UAAS,GAAApB,OAAK8C,EAAO8E,cAAa,KAAA5H,OAAI8C,EAAOkE,EAAMW,aAAc5E,SAC9C,YAArBiE,EAAMW,WAA2B,IAAM,MAG3CpB,EAAea,IAAIH,KAClBjE,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+E,uBAbpBb,EAAMc,KAiBdzB,EAAgB,IACfxD,EAAAA,EAAAA,MAAA,UACEI,QAASwD,EACTrF,UAAS,GAAApB,OAAK8C,EAAOiF,gBAAe,KAAA/H,OAAIsG,EAAiB,EAAIxD,EAAOkF,sBAAwB,IAC5FzE,MAA0B,IAAnB+C,EAAuB1F,EAAE,iCAAmCA,EAAE,4BAA6B,CAAEqG,MAAOX,IAAkBvD,SAAA,EAE7HC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOsE,MAAM,6BAA4BlF,UAC5FC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,6MAA6MH,KAAK,mBAE3N2C,EAAiB,IAAKtD,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOwD,eAAevD,SAAEuD,UAMrEF,IACCpD,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOoF,YAAYnF,UACjCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqF,kBAAkBpF,UACvCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsF,gBAAgBrF,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOuF,gBAAgBtF,UAAE0E,EAAAA,EAAAA,IAAarB,EAAeM,EAAKgB,aAGzE1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOwF,YAAYvF,SAChCqD,EAAcmC,cAAgBnC,EAAcmC,aAAa5B,OAAS,GACjEP,EAAcmC,aAAa1C,IAAI,CAAC2C,EAAYC,KAC1C,MAAMC,EAAoC,kBAAfF,EACvBA,GACY,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAwCG,OAAkBC,KAAKC,UAAUL,GAC/E,OACExF,EAAAA,EAAAA,KAAA,OAAe5B,UAAW0B,EAAOgG,gBAAgB/F,SAC9C2F,GADOD,OASjBrC,EAAc2C,kBAAoBC,OAAOC,QAAQ7C,EAAc2C,kBAAkBpC,OAAS,IACzF3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOoG,iBAAiBnG,SACrCiG,OAAOC,QAAQ7C,EAAc2C,kBAAkBlD,IAAIC,IAAmB,IAKjEqD,GALgD1E,EAAK2E,GAAMtD,EAC/D,MAAqB,kBAAVsD,GAAgC,OAAVA,GAAkB,SAAUA,EACpD,MAKPD,EADmB,kBAAVC,GAAgC,OAAVA,GAAkB,WAAYA,GAASC,MAAMC,QAASF,EAAkCG,QACtGH,EAAkCG,OAAoBC,KAAK,OAE7DC,OAAOL,IAItBvG,EAAAA,EAAAA,MAAA,QAAgBzB,UAAW0B,EAAO4G,gBAAgB3G,SAAA,CAC/C0B,EAAI,KAAG0E,IADC1E,SAQjB2B,EAAcuD,mBAAqBvD,EAAcwD,wBACjD5G,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAO+G,uBAClBC,wBAAyB,CAAEC,QAAQhG,EAAAA,EAAAA,IAAaiG,EAAAA,EAAAA,IAAoB5D,EAAeM,EAAKgB,6BCzG/FuC,EAAkCxE,EAAAA,KAAWvE,IAA+C,IAADgJ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAA7C,KAAEC,EAAI,eAAEC,EAAc,eAAEC,GAAgB1J,EACjG,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,MAEd,OACEuB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+H,eAAe9H,SAAA,EAElC2H,EAAKI,2BAA6BJ,EAAKK,oBAAsBL,EAAKM,sBAClEnI,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmI,mBAAmBlI,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO+D,aAAa9D,SAAEnC,EAAE,kCACvCiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoI,YAAYnI,SAAA,CAChC2H,EAAKI,4BACJjI,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqI,WAAWpI,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsI,iBAAiBrI,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuI,eAAetI,SAAEnC,EAAE,gCAC3CiC,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAOwI,gBAAgBvI,SAAA,CAAE2H,EAAKI,0BAA0BS,QAAQ,GAAG,WAEtFvI,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0I,UAAUzI,UAC/BC,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAO2I,cAClBC,MAAO,CAAElI,MAAM,GAADxD,OAAK2L,KAAKC,IAAIlB,EAAKI,0BAA2B,KAAI,MAChE,aAAYF,EAAeF,EAAKI,2BAA2Be,WAG/D7I,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOgJ,sBAAsB/I,SAAEnC,EAAE,iCAIrD8J,EAAKK,qBACJlI,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqI,WAAWpI,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsI,iBAAiBrI,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuI,eAAetI,SAAEnC,EAAE,yBAC3CiC,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAOwI,gBAAgBvI,SAAA,CAAE2H,EAAKK,mBAAmBQ,QAAQ,GAAG,WAE/EvI,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0I,UAAUzI,UAC/BC,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAO2I,cAClBC,MAAO,CAAElI,MAAM,GAADxD,OAAK2L,KAAKC,IAAIlB,EAAKK,mBAAoB,KAAI,MACzD,aAAYH,EAAeF,EAAKK,oBAAoBc,WAGxD7I,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOgJ,sBAAsB/I,SAAEnC,EAAE,kCAIrD8J,EAAKM,qBACJnI,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqI,WAAWpI,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsI,iBAAiBrI,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuI,eAAetI,SAAEnC,EAAE,yBAC3CiC,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAOwI,gBAAgBvI,SAAA,CAAE2H,EAAKM,mBAAmBO,QAAQ,GAAG,WAE/EvI,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0I,UAAUzI,UAC/BC,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAO2I,cAClBC,MAAO,CAAElI,MAAM,GAADxD,OAAK2L,KAAKC,IAAIlB,EAAKM,mBAAoB,KAAI,MACzD,aAAYJ,EAAeF,EAAKM,oBAAoBa,WAGxD7I,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOgJ,sBAAsB/I,SAAEnC,EAAE,6CAQ5DiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOiJ,WAAWhJ,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkJ,cAAcjJ,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,gCACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,UAAiB,QAAfmH,EAAAQ,EAAK0B,kBAAU,IAAAlC,OAAA,EAAfA,EAAiBmC,kBAAmB,UAE/ExJ,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,iCACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,UAAiB,QAAfoH,EAAAO,EAAK0B,kBAAU,IAAAjC,OAAA,EAAfA,EAAiBmC,mBAAoB,aAGlFzJ,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkJ,cAAcjJ,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,4BACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,SAA8B,QAA9BqH,EAAiB,QAAjBC,EAAEK,EAAK0B,kBAAU,IAAA/B,OAAA,EAAfA,EAAiBkC,mBAAW,IAAAnC,EAAAA,EAAI,UAE3EvH,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,8BACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,UAAiB,QAAfuH,EAAAI,EAAK0B,kBAAU,IAAA9B,OAAA,EAAfA,EAAiBkC,gBAAiB,aAG/E3J,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkJ,cAAcjJ,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,6BACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,UAAiB,QAAfwH,EAAAG,EAAK0B,kBAAU,IAAA7B,OAAA,EAAfA,EAAiBkC,eAAgB,UAE5E5J,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmJ,eAAelJ,SAAA,EACpCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,+BACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,UAAiB,QAAfyH,EAAAE,EAAK0B,kBAAU,IAAA5B,OAAA,EAAfA,EAAiBkC,iBAAkB,aAGhE,QAAfjC,EAAAC,EAAK0B,kBAAU,IAAA3B,OAAA,EAAfA,EAAiBkC,sBAChB3J,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOkJ,cAAcjJ,UACnCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOmJ,eAAc,KAAAjM,OAAI8C,EAAO8J,eAAgB7J,SAAA,EACjEC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoJ,SAASnJ,SAAEnC,EAAE,kCACrCoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqJ,eAAepJ,SAAE2H,EAAK0B,WAAWO,6BAOhEjC,EAAKmC,aAAenC,EAAKmC,YAAYlG,OAAS,IAC7C9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgK,YAAY/J,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOiK,iBAAiBhK,SAAEnC,EAAE,gCAC3CoC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOkK,gBAAgBjK,SACpC2H,EAAKmC,YAAYhH,IAAI,CAACoH,EAAQxE,KAC7B5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAOoK,gBAAgBnK,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqK,iBAAiBpK,SAAE4H,EAAelC,MACzD5F,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsK,sBAAsBrK,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOuK,eAAetK,UACpCC,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAOwK,gBAClB5B,MAAO,CAAElI,MAAM,GAADxD,OAAKiN,EAAM,WAG7BjK,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOyK,iBAAiBxK,SAAEkK,SATrCxE,cC/GX+E,EAAoC/H,EAAAA,KAAWvE,IAAe,IAAd,KAAEwJ,GAAMxJ,EACnE,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,OACbmM,EAAqBC,IAA0B1L,EAAAA,EAAAA,WAAS,GAE/D,IAAK0I,EAAKiD,mBAAqBjD,EAAKkD,oBAAqB,OAAO,KAEhE,MAAMC,GAAkBC,EAAAA,EAAAA,IAAuBpD,EAAMhE,EAAKgB,UAE1D,OACE1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+H,eAAe9H,UACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOiL,mBAAmBhL,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOkL,iBAAiBjL,SACpCnC,EAAE,mBAAoB,CAAE+H,MAAMsF,EAAAA,EAAAA,IAAYvD,EAAMhE,EAAKgB,eAExD1E,EAAAA,EAAAA,KAAA,KAAG5B,UAAS,GAAApB,OAAK8C,EAAOoL,gBAAe,KAAAlO,OAAKyN,EAAwD,GAAlC3K,EAAOqL,0BAAgCpL,SACtG8K,IAEFA,EAAgBlH,OAAS,MACxB3D,EAAAA,EAAAA,KAAA,UACE5B,UAAW0B,EAAOsL,eAClBnL,QAASA,IAAMyK,GAAwBD,GAAqB1K,SAErCnC,EAAtB6M,EAAwB,sBAA2B,gCCxBnDY,EAAsBjF,IACjC,IAAKA,EAAO,OAAO,KACnB,GAAqB,kBAAVA,EACT,IACE,OAAOR,KAAK0F,MAAMlF,EACpB,CAAE,MAAAzG,GACA,OAAO,IACT,CAEF,MAAqB,kBAAVyG,EAA2BA,EAC/B,MCLImF,EAAwC9I,EAAAA,KAAWvE,IAA2D,IAA1D,KAAEwJ,EAAI,UAAE8D,EAAS,cAAEC,EAAa,iBAAEC,GAAkBxN,EACnH,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MAEdqN,EAAoBxN,GACxBqN,EAAUI,KAAKC,GAAKA,EAAEC,eAAiB3N,IAAWqN,EAAUI,KAAKC,GAAKA,EAAE/G,KAAO3G,GAE3E4N,EAAkBV,EAA4B3D,EAAKsE,cACzD,IAAKD,EAAiB,OAAO,KAE7B,MAAME,EAAeF,EAAgBG,eAAiBH,EAAgBI,UAAY,GAC5EC,EAAkBL,EAAgBM,mBAAqBN,EAAgBO,QAAU,GAEjFC,EAAmBA,CAACC,EAA8BC,KAAsB,IAADC,EAC3E,GAA6B,IAAzBF,EAAc7I,OAAc,OAAO,KACvC,MAAMgJ,EAAaH,EAAc,GAC3BI,EAAiC,QAApBF,EAAGC,EAAWE,cAAM,IAAAH,EAAAA,EAAIC,EAAWG,QAChDC,EAAcpB,EAAiBiB,GACrC,IAAKG,EAAa,OAAO,KAEzB,MAAMC,EAAmBjB,EAAgB/D,oBAAsB,GACzDiF,EAAcD,EAAmB,EAAuB,IAAnBA,EAAyBA,EAC9DE,EAAsBP,EAAWQ,UAAY,EAC7CC,EAAiBF,EAAsB,EAA0B,IAAtBA,EAA4BA,EAE7E,OACErN,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwN,eAAevN,SAAA,EACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOyN,mBAAkB,KAAAvQ,OAAI8C,EAAO0N,MAAOzN,SAAA,EAC5DC,EAAAA,EAAAA,KAAA,OAAKuE,IAAKmD,EAAK+F,MAAQ/F,EAAKpD,MAAOE,IAAKkD,EAAK/B,KAAMvH,UAAW0B,EAAO4N,cACrE7N,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6N,kBAAkB5N,SAAA,EACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO8N,cAAc7N,SAAA,CAAEkN,EAAY1E,QAAQ,GAAG,QAC/DvI,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO+N,aAAa9N,SAAEnC,EAAE,+BAG7CoC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOgO,yBACvBjO,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOyN,mBAAkB,KAAAvQ,OAAI8C,EAAOiO,OAAQhO,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,OAAKuE,IAAKwI,EAAYU,MAAQV,EAAYzI,MAAOE,IAAKuI,EAAYpH,KAAMvH,UAAW0B,EAAOkO,eAC1FnO,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6N,kBAAkB5N,SAAA,EACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO8N,cAAc7N,SAAA,CAAEqN,EAAe7E,QAAQ,GAAG,QAClEvI,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO+N,aAAa9N,SAAEnC,EAAE,kCAI/CoC,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAOmO,eAAelO,SACjC0M,EACG7O,EAAE,8BAA+B,CAAE8J,KAAMA,EAAK/B,OAC9C/H,EAAE,0CAMRsQ,EAAaA,CAAC1B,EAA8B2B,IACzC3B,EAAc4B,MAAM,EAAG,GAAGvL,IAAI,CAACwL,EAAsB5I,KAAiB,IAAD6I,EAC1E,MAAM1B,EAA8B,QAAjB0B,EAAGD,EAAQxB,cAAM,IAAAyB,EAAAA,EAAID,EAAQvB,QAC1CC,EAAcpB,EAAiBiB,GACrC,IAAKG,EAAa,OAAO,KACzB,MAAMwB,EAAmC,MAA7BF,EAAQG,kBAA4B7F,KAAK8F,IAAIJ,EAAQG,mBAAqB,EAChFE,EAAkBP,EACnBI,EAAM,EAAU,IAANA,EAAYA,EACd,IAARA,GAAaA,EAAM,EAAU,IAANA,EAAYA,EACxC,OACE1O,EAAAA,EAAAA,MAAC8O,EAAAA,GAAI,CAEHC,GAAE,IAAA5R,OAAM0K,EAAKmH,QAAO,YAAA7R,OAAW+P,EAAYjI,IAC3C1G,UAAW0B,EAAOgP,gBAAgB/O,SAAA,EAElCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiP,gBAAgBhP,SAAE0F,EAAM,KAC/CzF,EAAAA,EAAAA,KAAA,OAAKuE,IAAKwI,EAAYU,MAAQV,EAAYzI,MAAOE,IAAKuI,EAAYpH,KAAMvH,UAAW0B,EAAOkP,oBAC1FnP,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmP,gBAAgBlP,SAAA,EACrCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoP,gBAAgBnP,UAAEkL,EAAAA,EAAAA,IAAY8B,EAAarJ,EAAKgB,aACxE1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqP,eAAepP,UACpCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsP,mBAAoB1G,MAAO,CAAElI,MAAM,GAADxD,OAAK2L,KAAKC,IAAI8F,EAAkB,EAAI,IAAK,KAAI,cAG1G1O,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuP,iBAAiBtP,SAAE2O,EAAgBnG,QAAQ,OAZ9DqE,KAkBb,OACE5M,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+H,eAAe9H,UACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwP,oBAAoBvP,SAAA,EACzCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOyP,sBAAsBxP,SAAEnC,EAAE,qCAChDiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0P,iBAAiBzP,SAAA,EACtCC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAsB,SAAlByO,EAA2B3L,EAAO4P,sBAAwB,IAClGzP,QAASA,IAAMyL,EAAiB,QAAQ3L,SAEvCnC,EAAE,8BAELoC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAsB,UAAlByO,EAA4B3L,EAAO4P,sBAAwB,IACnGzP,QAASA,IAAMyL,EAAiB,SAAS3L,SAExCnC,EAAE,oCAIPiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6P,oBAAoB5P,SAAA,EACzCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO8P,gBAAgB7P,SAAA,CAClB,SAAlB0L,GAA4Bc,EAAiBN,GAAc,GACzC,UAAlBR,GAA6Bc,EAAiBH,GAAiB,OAElEvM,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+P,YAAY9P,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgQ,kBAAkB/P,SAAA,EACvCC,EAAAA,EAAAA,KAAA,QAAAD,SAAkCnC,EAAT,SAAlB6N,EAA6B,0BAA+B,6BACnEzL,EAAAA,EAAAA,KAAA,QAAAD,SAAOnC,EAAE,gCAEQ,SAAlB6N,GAA4ByC,EAAWjC,GAAc,GACnC,UAAlBR,GAA6ByC,EAAW9B,GAAiB,gBC/GzD2D,EAAwCtN,EAAAA,KAAWvE,IAA2D,IAA1D,KAAEwJ,EAAI,UAAE8D,EAAS,cAAEwE,EAAa,iBAAEC,GAAkB/R,EACnH,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MAEdqN,EAAoBxN,GACxBqN,EAAUI,KAAKC,GAAKA,EAAEC,eAAiB3N,IAAWqN,EAAUI,KAAKC,GAAKA,EAAE/G,KAAO3G,GAE3E+R,EAAwB7E,EAAkC3D,EAAKyI,oBACrE,IAAKD,EAAuB,OAAO,KAEnC,MAAM3D,EAAmBA,CAAC6D,EAA4BC,KAA6B,IAADC,EAChF,IAAKF,GAA0B,IAAjBA,EAAMzM,OAAc,OAAO,KACzC,MAAM4M,EAAUH,EAAM,GAChBI,EAA0B,QAAjBF,EAAGC,EAAQ1D,cAAM,IAAAyD,EAAAA,EAAIC,EAAQzD,QACtC2D,EAAW9E,EAAiB6E,GAClC,IAAKC,EAAU,OAAO,KAEtB,MAAMzD,EAAmBkD,EAAsBlI,oBAAsB,GAC/DiF,EAAcD,EAAmB,EAAuB,IAAnBA,EAAyBA,EAC9D0D,EAAmBH,EAAQpD,UAAY,EACvCwD,EAAcD,EAAmB,EAAuB,IAAnBA,EAAyBA,EAEpE,OACE7Q,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwN,eAAevN,SAAA,EACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOyN,mBAAkB,KAAAvQ,OAAI8C,EAAO0N,MAAOzN,SAAA,EAC5DC,EAAAA,EAAAA,KAAA,OAAKuE,IAAKmD,EAAK+F,MAAQ/F,EAAKpD,MAAOE,IAAKkD,EAAK/B,KAAMvH,UAAW0B,EAAO4N,cACrE7N,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6N,kBAAkB5N,SAAA,EACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO8N,cAAc7N,SAAA,CAAEkN,EAAY1E,QAAQ,GAAG,QAC/DvI,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO+N,aAAa9N,SAAEnC,EAAE,+BAG7CoC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOgO,yBACvBjO,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOyN,mBAAkB,KAAAvQ,OAAI8C,EAAOiO,OAAQhO,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,OAAKuE,IAAKkM,EAAShD,MAAQgD,EAASnM,MAAOE,IAAKiM,EAAS9K,KAAMvH,UAAW0B,EAAOkO,eACjFnO,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6N,kBAAkB5N,SAAA,EACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO8N,cAAc7N,SAAA,CAAE4Q,EAAYpI,QAAQ,GAAG,QAC/DvI,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO+N,aAAa9N,SAAEnC,EAAE,kCAI/CoC,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAOmO,eAAelO,SAChBnC,EAAjByS,EAAmB,kCAAuC,sCAM7DnC,EAAckC,GACbA,EACEA,EAAMhC,MAAM,EAAG,GAAGvL,IAAI,CAAC+N,EAAyBnL,KAAiB,IAADoL,EACrE,MAAMC,EAAoB,QAAdD,EAAGD,EAAK/D,cAAM,IAAAgE,EAAAA,EAAID,EAAK9D,QAC7B2D,EAAW9E,EAAiBmF,GAClC,IAAKL,EAAU,OAAO,KACtB,MAAM/B,EAA4C,MAA1BkC,EAAKpC,kBACxB7F,KAAK8F,IAAImC,EAAKpC,mBAAqB,EAAuC,IAAnC7F,KAAK8F,IAAImC,EAAKpC,mBAA2B7F,KAAK8F,IAAImC,EAAKpC,mBAC/F,EACJ,OACE3O,EAAAA,EAAAA,MAAC8O,EAAAA,GAAI,CAEHC,GAAE,IAAA5R,OAAM0K,EAAKmH,QAAO,YAAA7R,OAAWyT,EAAS3L,IACxC1G,UAAW0B,EAAOgP,gBAAgB/O,SAAA,EAElCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiP,gBAAgBhP,SAAE0F,EAAM,KAC/CzF,EAAAA,EAAAA,KAAA,OAAKuE,IAAKkM,EAAShD,MAAQgD,EAASnM,MAAOE,IAAKiM,EAAS9K,KAAMvH,UAAW0B,EAAOkP,oBACjFnP,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmP,gBAAgBlP,SAAA,EACrCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoP,gBAAgBnP,UAAEkL,EAAAA,EAAAA,IAAYwF,EAAU/M,EAAKgB,aACrE1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqP,eAAepP,UACpCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsP,mBAAoB1G,MAAO,CAAElI,MAAM,GAADxD,OAAK2L,KAAKC,IAAI8F,EAAkB,EAAI,IAAK,KAAI,cAG1G1O,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuP,iBAAiBtP,SAAE2O,EAAgBnG,QAAQ,OAZxD,OAANuI,QAAM,IAANA,EAAAA,EAAUF,EAAK/D,UAVP,KA4BrB,OACE7M,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+H,eAAe9H,UACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwP,oBAAoBvP,SAAA,EACzCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOyP,sBAAsBxP,SAAEnC,EAAE,+BAChDiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0P,iBAAiBzP,SAAA,EACtCC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAsB,eAAlBgT,EAAiClQ,EAAO4P,sBAAwB,IACxGzP,QAASA,IAAMgQ,EAAiB,cAAclQ,SAE7CnC,EAAE,+BAELoC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAsB,iBAAlBgT,EAAmClQ,EAAO4P,sBAAwB,IAC1GzP,QAASA,IAAMgQ,EAAiB,gBAAgBlQ,SAE/CnC,EAAE,kCAIPiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO6P,oBAAoB5P,SAAA,EACzCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO8P,gBAAgB7P,SAAA,CAClB,eAAlBiQ,GAAkCzD,EAAiB2D,EAAsBa,YAAc,IAAI,GACzE,iBAAlBf,GAAoCzD,EAAiB2D,EAAsBc,gBAAkB,IAAI,OAEpGnR,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+P,YAAY9P,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgQ,kBAAkB/P,SAAA,EACvCC,EAAAA,EAAAA,KAAA,QAAAD,SAAwCnC,EAAf,eAAlBoS,EAAmC,2BAAgC,gCAC1EhQ,EAAAA,EAAAA,KAAA,QAAAD,SAAOnC,EAAE,iCAEQ,eAAlBoS,GAAkC9B,EAAWgC,EAAsBa,YAAc,IAC/D,iBAAlBf,GAAoC9B,EAAWgC,EAAsBc,gBAAkB,iBC3GvFC,EAAwCxO,EAAAA,KAAWvE,IAA4B,IAA3B,KAAEwJ,EAAI,YAAEwJ,GAAahT,EACpF,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,MAEd,OACE0B,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+H,eAAe9H,UACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqR,eAAepR,SAAA,EACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsR,cAAcrR,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAOuR,oBAAoBtR,SAAEnC,EAAE,gCAC9CoC,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAOwR,mBAAmBvR,SACrCnC,EAAE,gCAAiC,CAAE8J,KAAMA,EAAK/B,aAGrD3F,EAAAA,EAAAA,KAAC2O,EAAAA,GAAI,CAACC,GAAE,IAAA5R,OAAM0K,EAAKmH,QAAO,YAAYzQ,UAAW0B,EAAOyR,kBAAkBxR,SACvEnC,EAAE,kCAINsT,EAAYvN,OAAS,GACpB3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0R,gBAAgBzR,SACpCmR,EAAYrO,IAAK4O,IAAkB,IAADC,EAAAC,EACjC,MAAMC,EAA+B,QAArBF,EAAGD,EAAMI,oBAAY,IAAAH,OAAA,EAAlBA,EAAqBhK,EAAK/B,MACvCmM,EAAuC,QAAzBH,EAAGF,EAAMM,wBAAgB,IAAAJ,OAAA,EAAtBA,EAAyBjK,EAAK/B,MAErD,OAAKiM,GAAeE,GAGlBjS,EAAAA,EAAAA,MAAA,OAAyBzB,UAAW0B,EAAOkS,UAAUjS,SAAA,EACnDF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmS,YAAYlS,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoS,aAAanS,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqS,kBAAkBpS,SAAEnC,EAAE,yBAC9CoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOsS,mBAAmBrS,SAAE0R,EAAMY,cAErDrS,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOwS,UAAUvS,SAC9B,IAAIwS,KAAKd,EAAMe,cAAcC,mBAAmB,QAAS,CACxDC,KAAM,UACNC,MAAO,QACPC,IAAK,mBAMC,OAAVhB,QAAU,IAAVA,OAAU,EAAVA,EAAYiB,WAAyB,OAAdf,QAAc,IAAdA,OAAc,EAAdA,EAAgBe,WAAyB,OAAdf,QAAc,IAAdA,OAAc,EAAdA,EAAgBgB,gBAClEjT,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOiT,aAAahT,SAAA,EACvB,OAAV6R,QAAU,IAAVA,OAAU,EAAVA,EAAYiB,WAAW7S,EAAAA,EAAAA,KAAA,KAAAD,SAAI6R,EAAWiB,YAC3B,OAAVjB,QAAU,IAAVA,GAAAA,EAAYiB,WAAyB,OAAdf,QAAc,IAAdA,OAAc,EAAdA,EAAgBe,WAAW7S,EAAAA,EAAAA,KAAA,KAAAD,SAAI+R,EAAee,YAC3D,OAAVjB,QAAU,IAAVA,GAAAA,EAAYiB,YAA0B,OAAdf,QAAc,IAAdA,GAAAA,EAAgBe,WAAyB,OAAdf,QAAc,IAAdA,OAAc,EAAdA,EAAgBgB,eACnE9S,EAAAA,EAAAA,KAAA,OAAK8G,wBAAyB,CAAEC,QAAQhG,EAAAA,EAAAA,GAAa+Q,EAAegB,qBAM9D,OAAVlB,QAAU,IAAVA,OAAU,EAAVA,EAAYoB,UAAwB,OAAdlB,QAAc,IAAdA,OAAc,EAAdA,EAAgBkB,YAAsB,OAAVpB,QAAU,IAAVA,OAAU,EAAVA,EAAYoB,UAAwB,OAAdlB,QAAc,IAAdA,OAAc,EAAdA,EAAgBkB,SAASrP,OAAS,IAC1G3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOmT,aAAalT,WACtB,OAAV6R,QAAU,IAAVA,OAAU,EAAVA,EAAYoB,UAAwB,OAAdlB,QAAc,IAAdA,OAAc,EAAdA,EAAgBkB,SAASnQ,IAAI,CAACmB,EAAoByB,KACxE5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAOoT,YAAYnT,SAAA,EAC3CF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqT,YAAYpT,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOsT,UAAUrT,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuT,UAAUtT,SAAEiE,EAAMsP,OACzCtP,EAAM2B,OAAQ3F,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOyT,cAAcxT,SAAEiE,EAAM2B,UAE9D3B,EAAMwP,UACLxT,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO2T,aAAc,eAAczP,EAAMwP,QAAQE,cAAc3T,SAC7EiE,EAAMwP,aAIZxP,EAAM2P,SAAW3P,EAAM2P,QAAQhQ,OAAS,IACvC3D,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO8T,YAAY7T,SAC/BiE,EAAM2P,QAAQ9Q,IAAI,CAACgR,EAAgBC,KAClC9T,EAAAA,EAAAA,KAAA,MAAoB5B,UAAW0B,EAAOiU,WAAWhU,SAAE8T,GAA1CC,QAfPrO,OAyBD,OAAdqM,QAAc,IAAdA,OAAc,EAAdA,EAAgBkC,cAAelC,EAAekC,YAAYrQ,OAAS,IAClE3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOmT,aAAalT,SACjC+R,EAAekC,YAAYnR,IAAI,CAACoR,EAAKxO,KACpC5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAOoT,YAAYnT,SAAA,EAC3CF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqT,YAAYpT,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsT,UAAUrT,SAC9BkU,EAAIC,YACHlU,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOyT,cAAcxT,SAAEkU,EAAIC,cAE5ClU,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuT,UAAUtT,SAAEkU,EAAItP,eAG3CsP,EAAIE,QACHnU,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO2T,aAAc,eAAcQ,EAAIE,MAAMT,cAAc3T,SACzEkU,EAAIE,YAIXnU,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO8T,YAAY7T,UACjCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiU,WAAYjN,wBAAyB,CAAEC,QAAQhG,EAAAA,EAAAA,GAAakT,EAAInB,oBAhBjFrN,OAwBD,OAAdqM,QAAc,IAAdA,OAAc,EAAdA,EAAgBsC,wBAAyBtC,EAAesC,sBAAsBzQ,OAAS,IACtF3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOmT,aAAalT,SACjC+R,EAAesC,sBAAsBvR,IAAI,CAACoR,EAAKxO,KAC9C5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAOoT,YAAYnT,SAAA,EAC3CF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqT,YAAYpT,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsT,UAAUrT,UAC/BC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOyT,cAAcxT,SAAEkU,EAAII,mBAE7CJ,EAAIE,QACHnU,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO2T,aAAc,eAAcQ,EAAIE,MAAMT,cAAc3T,SACzEkU,EAAIE,YAIXnU,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO8T,YAAY7T,UACjCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiU,WAAYjN,wBAAyB,CAAEC,QAAQhG,EAAAA,EAAAA,GAAakT,EAAInB,oBAZjFrN,OAmBhBzF,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOwU,UAAUvU,UAC/BC,EAAAA,EAAAA,KAAC2O,EAAAA,GAAI,CAACC,GAAE,IAAA5R,OAAM0K,EAAKmH,QAAO,mBAAA7R,OAAkByU,EAAMY,QAAO,KAAArV,OAAI0K,EAAK/B,MAAO5F,SACtEnC,EAAE,uCA1GC6T,EAAMY,SAHyB,UAqH/CrS,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOyU,cAAcxU,UACnCC,EAAAA,EAAAA,KAAA,KAAAD,SAAInC,EAAE,0C,wBCxIlB,MAEM4W,EAAuC,CAC3C,EAAG1U,EAAO2U,WACV,EAAG3U,EAAO4U,aACV,EAAG5U,EAAO6U,cAGCC,EAAoD1W,IAAyB,IAAxB,OAAE2W,EAAM,OAAEtY,GAAQ2B,EAClF,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MACdwW,EAAOpR,EAAKgB,UACXqQ,EAAcC,GAAmBvS,EAAAA,SAXlB,IAadhF,KAAMwX,EAAQ,GAAIjX,UAAWkX,IAAiBC,EAAAA,EAAAA,GAAc5Y,IAC5DkB,KAAMd,EAAU,GAAIqB,UAAWoX,IAAmB9Y,EAAAA,EAAAA,GAAWmK,OAAOlK,KACtE,MAAEmB,EAAK,MAAEI,EAAK,MAAEC,EAAOC,UAAWqX,IAAmBjY,EAAAA,EAAAA,GAAiBqJ,OAAOlK,KAC3EkB,KAAM6X,EAAS,GAAItX,UAAWuX,IAAkB/Y,EAAAA,EAAAA,GAAwB,CAC9EC,SAAUC,EAAAA,EAAU4Y,OAAO1Y,IAAIL,GAC/BO,QAASA,KAAMC,EAAAA,EAAAA,GAAU,0BAAAC,OAA0CT,IACnEU,UAAWV,EACXW,UAAWC,EAAAA,IAGPqY,EAAgBN,GAAgBE,GAAkBC,GAAkBE,EAEpEE,EAAWhT,EAAAA,QAAc,KAC7B,MAAMI,EAAM,IAAI6S,IAEhB,OADAT,EAAMU,QAASC,GAAe/S,EAAIgT,IAAID,EAAK9Q,GAAI8Q,IACxC/S,GACN,CAACoS,IAEEa,EAAYrT,EAAAA,QAAc,KAC9B,MAAMI,EAAM,IAAI6S,IAEhB,OADAJ,EAAOK,QAASI,GAAUlT,EAAIgT,IAAIE,EAAMjR,GAAIiR,IACrClT,GACN,CAACyS,IAEEU,EAAavT,EAAAA,QAAc,KAC/B,MAAMI,EAAM,IAAI6S,IAEhB,OADA/Y,EAAQgZ,QAASM,GAAmBpT,EAAIgT,IAAII,EAAOnR,GAAImR,IAChDpT,GACN,CAAClG,IAEEuZ,EAAazT,EAAAA,QAAc,KAC/B,MAAMI,EAAM,IAAI6S,IAEhB,MADA,IAAIhY,KAAUI,KAAUC,GAAO4X,QAASQ,GAAWtT,EAAIgT,IAAIM,EAAOxQ,KAAMwQ,IACjEtT,GACN,CAACnF,EAAOI,EAAOC,IAEZqY,EAAevB,EAEfwB,EAAgBD,EAAahI,MAAM,EAAG2G,GACtCuB,EAAUvB,EAAeqB,EAAazS,OACtC4S,EAAYH,EAAazS,OAASoR,EAExC,OAAKF,GAA4B,IAAlBA,EAAOlR,OAQlB6R,GAEAxV,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0W,YAAYzW,SAChC,IAAIsG,MAAM,IAAIxD,IAAI,CAAC4T,EAAGhR,KACrB5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAO4W,eAAe3W,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO6W,mBAAmB5W,SACvC,IAAIsG,MAAM,IAAIxD,IAAI,CAAC4T,EAAGG,KACrB/W,EAAAA,EAAAA,MAAC4C,EAAAA,SAAc,CAAA1C,SAAA,CACZ6W,EAAI,IAAK5W,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+W,mBACjChX,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgX,eAAe/W,SAAA,EACpCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiX,sBACvB/W,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOkX,2BAJNJ,OASzB/W,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmX,mBAAmBlX,SAAA,EACxCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoX,oBAAoBnX,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqX,uBACvBnX,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsX,2BAEzBvX,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoX,oBAAoBnX,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqX,uBACvBnX,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsX,2BAEzBvX,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoX,oBAAoBnX,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqX,uBACvBnX,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsX,+BAvBnB3R,OAiChB5F,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0W,YAAYzW,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOuX,QAAQtX,SAAA,CAC5BqW,EAAazS,OAAO,IAA0B,IAAxByS,EAAazS,OAAe,QAAU,YAG9D0S,EAAcxT,IAAI,CAACyU,EAAO7R,KACzB,MAAMsQ,EAAQD,EAAUyB,IAAID,EAAME,iBAC5BvB,EAASD,EAAWuB,IAAID,EAAMG,WAC9BC,EAASjS,EAAM,EACfkS,EAAYnD,EAAa/O,IAAQ,GAEvC,OACE5F,EAAAA,EAAAA,MAAA,OAEEzB,UAAS,GAAApB,OAAK8C,EAAO8X,OAAM,KAAA5a,OAAI0a,EAAS5X,EAAO+X,UAAY,GAAE,KAAA7a,OAAI2a,GAAY5X,SAAA,EAG7EF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgY,WAAW/X,SAAA,CAC/BuX,EAAMS,WAAWlV,IAAI,CAACmV,EAAQC,KAC7B,MAAMrC,EAAOH,EAAS8B,IAAIS,GAC1B,OACEnY,EAAAA,EAAAA,MAAC4C,EAAAA,SAAc,CAAA1C,SAAA,CACZkY,EAAO,IAAKjY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoY,YAAYnY,SAAC,YAClDF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqY,OAAQ5X,MAAOqV,GAAOwC,EAAAA,EAAAA,IAAYxC,EAAMd,GAAK,SAAA9X,OAAYgb,GAASjY,SAAA,CAClF,OAAJ6V,QAAI,IAAJA,GAAAA,EAAMyC,UACLrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKqR,EAAKyC,SAAU7T,KAAK4T,EAAAA,EAAAA,IAAYxC,EAAMd,GAAO1W,UAAW0B,EAAOwY,UAAWC,QAAQ,UAE5FvY,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0Y,YAAYzY,SAAEkY,EAAO,KAE9CjY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO2Y,YAAY1Y,SAAE6V,GAAOwC,EAAAA,EAAAA,IAAYxC,EAAMd,GAAQ,aARtDmD,KAcxBX,EAAMoB,gBAAkBpB,EAAMoB,eAAe/U,OAAS,IACrD9D,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO6Y,cAAc5Y,SAAC,MACtCuX,EAAMoB,eAAe7V,IAAI,CAACmV,EAAQC,KACjC,MAAMrC,EAAOH,EAAS8B,IAAIS,GAC1B,OACEhY,EAAAA,EAAAA,KAAA,OAAyB5B,UAAS,GAAApB,OAAK8C,EAAOqY,OAAM,KAAAnb,OAAI8C,EAAO8Y,gBAAkBrY,MAAOqV,GAAOwC,EAAAA,EAAAA,IAAYxC,EAAMd,GAAK,SAAA9X,OAAYgb,GAASjY,SACpI,OAAJ6V,QAAI,IAAJA,GAAAA,EAAMyC,UACLrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKqR,EAAKyC,SAAU7T,IAAKoR,GAAOwC,EAAAA,EAAAA,IAAYxC,EAAMd,GAAQ,GAAI1W,UAAW0B,EAAOwY,UAAWC,QAAQ,UAExGvY,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0Y,YAAYzY,SAAEkY,EAAO,KAC7C,OAAAjb,OALcib,aAc3BpY,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+Y,WAAW9Y,SAAA,CAC/BgW,IACClW,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgZ,aAAa/Y,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOiZ,kBAAkBhZ,SAAEnC,EAAE,6BAC9CiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkZ,YAAYjZ,SAAA,CAChCgW,EAAMsC,WACLrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKwR,EAAMsC,SAAU7T,KAAKyU,EAAAA,EAAAA,IAAalD,EAAOjB,GAAO1W,UAAW0B,EAAOoZ,YAAaX,QAAQ,UAEnGvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,UAAEkZ,EAAAA,EAAAA,IAAalD,EAAOjB,YAK/DmB,GAAWqB,EAAM8B,gBAAkB9B,EAAM8B,eAAezV,OAAS,KACjE9D,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,CACGgW,IAAS/V,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuZ,kBAClCxZ,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgZ,aAAa/Y,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOiZ,kBAAkBhZ,SAAEnC,EAAE,wBAC9CiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwZ,kBAAkBvZ,SAAA,CACtCkW,IACCpW,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOkZ,YAAW,KAAAhc,OAAI8C,EAAOyZ,mBAAoBxZ,SAAA,CACjEkW,EAAOoC,WACNrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK0R,EAAOoC,SAAU7T,KAAKgV,EAAAA,EAAAA,IAAcvD,EAAQnB,GAAO1W,UAAW0B,EAAOoZ,YAAaX,QAAQ,UAEtGvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,UAAEyZ,EAAAA,EAAAA,IAAcvD,EAAQnB,QAGhEwC,EAAM8B,gBAAkB9B,EAAM8B,eAAevW,IAAI,CAAC8C,EAAM8T,KACvD,MAAMC,EAAKxD,EAAWqB,IAAI5R,GAC1B,OACE9F,EAAAA,EAAAA,MAAA,OAAgBzB,UAAW0B,EAAOkZ,YAAYjZ,SAAA,EACzC,OAAF2Z,QAAE,IAAFA,OAAE,EAAFA,EAAIrB,YACHrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKmV,EAAGrB,SAAU7T,KAAKmV,EAAAA,EAAAA,IAAcD,EAAI5E,GAAO1W,UAAW0B,EAAOoZ,YAAaX,QAAQ,UAE9FvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,SAAE2Z,GAAKC,EAAAA,EAAAA,IAAcD,EAAI5E,GAAQnP,MAJ9D8T,mBAxEnBhU,KAyFV6Q,IACCzW,EAAAA,EAAAA,MAAA,UACEzB,UAAW0B,EAAO8Z,WAClB3Z,QAASA,IAAM+U,EAAiB6E,GAASA,EA7M3B,GA6MmD9Z,SAAA,CAClE,cACawW,EA/ME,IA+M8CA,EAAU,OAAKA,EAAU,WAtJzFvW,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOyU,cAAcxU,UACnCC,EAAAA,EAAAA,KAAA,KAAAD,SAAInC,EAAE,gC,2CClEP,MAAMkc,EAAsCrX,EAAAA,KAAWvE,IAEvD,IAFwD,MAC7DoZ,EAAK,MAAEyC,EAAK,SAAEtE,EAAQ,WAAEO,EAAU,UAAEF,EAAS,WAAEI,EAAU,OAAE8D,EAAM,SAAEC,GACpE/b,EACC,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MACdwW,EAAOpR,EAAKgB,SAEZwV,GAAc5C,EAAMrC,OAAS,IAAIpS,IAAIiC,GAAM2Q,EAAS8B,IAAIzS,IAAKnH,OAAOwc,SACpElE,EAASqB,EAAMG,UAAYzB,EAAWuB,IAAID,EAAMG,WAAa,KAC7D2C,EAAS9C,EAAM+C,UAAYvE,EAAUyB,IAAID,EAAM+C,WAAa,KAC5DC,EAAShD,EAAMiD,UAAYzE,EAAUyB,IAAID,EAAMiD,WAAa,KAElE,OACE1a,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0a,OAAOza,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2a,aAAa1a,SAAA,EAClCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO4a,YAAY3a,SAAA,EACjCC,EAAAA,EAAAA,KAAA,UAAAD,SAASuX,EAAM3R,OACd2R,EAAMqD,cAAgBZ,IACrBla,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO8a,SAAS7a,SAAA,CAC9BuX,EAAMuD,iBACL7a,EAAAA,EAAAA,KAAA,OAAKuE,IAAK+S,EAAMuD,eAAgBrW,IAAI,GAAGpG,UAAW0B,EAAOgb,YAAaC,eAAe,gBAEtFzD,EAAMqD,kBAIZZ,IACCla,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkb,cAAcjb,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAM+Z,EAAO1C,GAAQlZ,UAAW0B,EAAOmb,YAAa1a,MAAO3C,EAAE,eAAemC,UAC3FF,EAAAA,EAAAA,MAAA,OAAKW,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAGd,SAAA,EAC/FC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,gEACRd,EAAAA,EAAAA,KAAA,QAAMc,EAAE,kEAGZd,EAAAA,EAAAA,KAAA,UAAQC,QAASA,IAAMga,EAAS3C,EAAMxS,IAAK1G,UAAW0B,EAAOmb,YAAa1a,MAAO3C,EAAE,iBAAiBmC,UAClGC,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAGd,UAC/FC,EAAAA,EAAAA,KAAA,QAAMc,EAAE,qGAQlBd,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOgY,WAAW/X,SAC/Bma,EAAWrX,IAAI,CAAC+S,EAAMnQ,KACrB5F,EAAAA,EAAAA,MAAC4C,EAAAA,SAAc,CAAA1C,SAAA,CACZ0F,EAAM,IAAKzF,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOoY,YAAYnY,SAAC,YACjDF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqY,OAAQ5X,MAAW,OAAJqV,QAAI,IAAJA,OAAI,EAAJA,EAAMjQ,KAAK5F,SAAA,CAC1C,OAAJ6V,QAAI,IAAJA,GAAAA,EAAMyC,UACLrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKqR,EAAKyC,SAAU7T,IAAKoR,EAAKjQ,KAAMvH,UAAW0B,EAAOwY,UAAWC,QAAQ,UAE9EvY,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO0Y,YAAYzY,SAAE0F,EAAM,KAE7CzF,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO2Y,YAAY1Y,UAAM,OAAJ6V,QAAI,IAAJA,OAAI,EAAJA,EAAMjQ,OAAQ,aARnCF,OAezB5F,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+Y,WAAW9Y,SAAA,CAC/Bqa,IACCva,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgZ,aAAa/Y,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOiZ,kBAAkBhZ,SAAC,WAC3CF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkZ,YAAYjZ,SAAA,CAChCqa,EAAO/B,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK6V,EAAO/B,SAAU7T,IAAK4V,EAAOzU,KAAMvH,UAAW0B,EAAOoZ,YAAaX,QAAQ,UACxGvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,SAAEqa,EAAOzU,UAE/C2U,IACCza,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkZ,YAAYjZ,SAAA,CAChCua,EAAOjC,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK+V,EAAOjC,SAAU7T,IAAK8V,EAAO3U,KAAMvH,UAAW0B,EAAOoZ,YAAaX,QAAQ,UACxGvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,SAAEua,EAAO3U,aAKrDsQ,IACCpW,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,CACGqa,IAAUpa,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOuZ,kBACnCxZ,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgZ,aAAa/Y,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOiZ,kBAAkBhZ,SAAC,YAC3CF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwZ,kBAAkBvZ,SAAA,EACvCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAS,GAAApB,OAAK8C,EAAOkZ,YAAW,KAAAhc,OAAI8C,EAAOyZ,mBAAoBxZ,SAAA,CACjEkW,EAAOoC,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK0R,EAAOoC,SAAU7T,KAAKgV,EAAAA,EAAAA,IAAcvD,EAAQnB,GAAO1W,UAAW0B,EAAOoZ,YAAaX,QAAQ,UACxHvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,UAAEyZ,EAAAA,EAAAA,IAAcvD,EAAQnB,QAE9DwC,EAAM/Z,SAAW+Z,EAAM/Z,QAAQsF,IAAI,CAAC8C,EAAM8T,KACzC,MAAMC,EAAKxD,EAAWqB,IAAI5R,GAC1B,OACE9F,EAAAA,EAAAA,MAAA,OAAgBzB,UAAW0B,EAAOkZ,YAAYjZ,SAAA,EACzC,OAAF2Z,QAAE,IAAFA,OAAE,EAAFA,EAAIrB,YAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKmV,EAAGrB,SAAU7T,IAAKkV,GAAKC,EAAAA,EAAAA,IAAcD,EAAI5E,GAAQnP,EAAMvH,UAAW0B,EAAOoZ,YAAaX,QAAQ,UACzHvY,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOqZ,aAAapZ,SAAE2Z,GAAKC,EAAAA,EAAAA,IAAcD,EAAI5E,GAAQnP,MAF9D8T,iBAYvBnC,EAAM4D,QAASlb,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqb,QAAQpb,SAAEuX,EAAM4D,aCrGhDE,EAAgDld,IActD,IAduD,aAC5Dmd,EAAY,UACZC,EAAS,aAAEC,EAAY,cACvBC,EAAa,eACbC,EAAc,kBAAEC,EAAiB,eACjCC,EAAc,kBAAEC,EAAiB,eACjCC,EAAc,kBAAEC,EAAiB,gBACjCC,EAAe,mBAAEC,EAAkB,MACnCd,EAAK,SAAEe,EAAQ,WACfC,EAAU,cAAEC,EAAa,OACzBC,EAAM,cACNC,EAAa,SAAE5G,EAAQ,OAAEH,EAAM,QAAE3Y,EAAO,MACxCe,EAAK,MAAEI,EAAK,MAAEC,EAAK,WACnBue,EAAU,OAAEC,EAAM,QAAEC,GACrBte,EACC,MAAM,EAAEN,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,MACdwW,EAAOpR,EAAKgB,SAElB,OACE1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO2c,UAAWxc,QAASuc,EAAQzc,UACjDF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO4c,QAASzc,QAAS0c,GAAKA,EAAEC,kBAAkB7c,SAAA,EAChEF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+c,cAAc9c,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAAD,SAAoBnC,EAAfyd,EAAiB,cAAmB,oBACzCrb,EAAAA,EAAAA,KAAA,UAAQ5B,UAAW0B,EAAOgd,WAAY7c,QAASuc,EAAQzc,SAAC,aAG1DF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOid,WAAWhd,SAAA,EAEhCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAAD,SAAQnC,EAAE,kBACVoC,EAAAA,EAAAA,KAAA,SACEsT,KAAK,OACLlN,MAAOkV,EACP2B,SAAUN,GAAKpB,EAAaoB,EAAEO,OAAO9W,OACrC+W,YAAavf,EAAE,0BACfQ,UAAW0B,EAAOsd,QAClBC,UAAW,SAKfxd,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CAAQnC,EAAE,gBAAgB,KAAG4d,EAAc7X,OAAO,UAClD3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOwd,gBAAgBvd,SACpC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG8C,IAAI0a,IACtB,MAAMvF,EAASwD,EAAc+B,GACvB3H,EAAOoC,EAASvC,EAAS8B,IAAIS,GAAU,KAC7C,OACEhY,EAAAA,EAAAA,KAAA,OAEE5B,UAAS,GAAApB,OAAK8C,EAAO0d,OAAM,KAAAxgB,OAAI4Y,EAAO9V,EAAO2d,aAAe,IAC5Dxd,QAASA,IAAM2V,GAAQ0G,EAAW1G,EAAK9Q,IACvCvE,MAAOqV,EAAI,GAAA5Y,OAAM4Y,EAAKjQ,KAAI,MAAA3I,OAAKY,EAAE,wBAAuB,KAAMA,EAAE,oBAAoBmC,SAE/E,OAAJ6V,QAAI,IAAJA,GAAAA,EAAMyC,UAAWrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKqR,EAAKyC,SAAU7T,IAAKoR,EAAKjQ,QAAW3F,EAAAA,EAAAA,KAAA,QAAAD,SAAOwd,EAAO,KALzEA,QAUbvd,EAAAA,EAAAA,KAAA,SACEsT,KAAK,OACLlN,MAAO8V,EACPe,SAAUN,GAAKR,EAAcQ,EAAEO,OAAO9W,OACtC+W,YAAavf,EAAE,sBACfQ,UAAW0B,EAAOsd,WAEpBpd,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO4d,WAAW3d,SAC/Bsc,EAAcxZ,IAAK+S,IAAI,IAAA+H,EAAA,OACtB3d,EAAAA,EAAAA,KAAA,UAEE5B,UAAS,GAAApB,OAAK8C,EAAO8d,WAAU,KAAA5gB,OAAIwe,EAAcqC,SAASjI,EAAK9Q,IAAMhF,EAAOge,aAAe,IAC3F7d,QAASA,IAAMqc,EAAW1G,EAAK9Q,IAC/BvE,MAAOqV,EAAKjQ,KACZrF,SAAUkb,EAAc7X,QAAU,IAAM6X,EAAcqC,SAASjI,EAAK9Q,IAAI/E,SAEvE6V,EAAKyC,UAAWrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKqR,EAAKyC,SAAU7T,IAAKoR,EAAKjQ,KAAM4S,QAAQ,UAAYvY,EAAAA,EAAAA,KAAA,QAAAD,SAAgB,QAAhB4d,EAAO/H,EAAKjQ,YAAI,IAAAgY,OAAA,EAATA,EAAWvP,MAAM,EAAG,MANpGwH,EAAK9Q,YAalBjF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAAD,SAAQnC,EAAE,oBACVoC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOie,WAAWhe,SAC/BuV,EAAOzS,IAAIkT,IACVlW,EAAAA,EAAAA,MAAA,UAEEzB,UAAS,GAAApB,OAAK8C,EAAOke,YAAW,KAAAhhB,OAAI2e,IAAmB5F,EAAMjR,IAAM+W,IAAmB9F,EAAMjR,GAAKhF,EAAOme,cAAgB,IACxHhe,QAASA,KACH0b,IAAmB5F,EAAMjR,GAAI8W,EAAkB,MAC1CC,IAAmB9F,EAAMjR,GAAIgX,EAAkB,MAC9CH,EACAE,GAAgBC,EAAkB/F,EAAMjR,IADxB8W,EAAkB7F,EAAMjR,KAGpDvE,MAAOwV,EAAMpQ,KAAK5F,SAAA,CAEjBgW,EAAMsC,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAKwR,EAAMsC,SAAU7T,IAAKuR,EAAMpQ,KAAM4S,QAAQ,UACtEvY,EAAAA,EAAAA,KAAA,QAAAD,SAAOgW,EAAMpQ,SAXRoQ,EAAMjR,WAkBnBjF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAAD,SAAQnC,EAAE,oBACVoC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOoe,YAAYne,SAChCpD,EAAQkG,IAAIoT,IACXpW,EAAAA,EAAAA,MAAA,UAEEzB,UAAS,GAAApB,OAAK8C,EAAOqe,aAAY,KAAAnhB,OAAIye,IAAmBxF,EAAOnR,GAAKhF,EAAOse,eAAiB,IAC5Fne,QAASA,KACHwb,IAAmBxF,EAAOnR,GAC5B4W,EAAkB,MAElBA,EAAkBzF,EAAOnR,IAE3BkX,EAAmB,KAErBzb,OAAOiZ,EAAAA,EAAAA,IAAcvD,EAAQnB,GAAM/U,SAAA,CAElCkW,EAAOoC,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK0R,EAAOoC,SAAU7T,KAAKgV,EAAAA,EAAAA,IAAcvD,EAAQnB,GAAOyD,QAAQ,UACzFvY,EAAAA,EAAAA,KAAA,QAAAD,UAAOyZ,EAAAA,EAAAA,IAAcvD,EAAQnB,OAbxBmB,EAAOnR,UAoBnB2W,IACC5b,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAAD,SAAQnC,EAAE,oBACT,CAACF,EAAOI,EAAOC,GAAO8E,IAAI,CAACwb,EAAaC,KACvCze,EAAAA,EAAAA,MAAA,OAAmBzB,UAAW0B,EAAOye,aAAaxe,SAAA,EAChDF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAO0e,kBAAkBze,SAAA,CAAC,QAAMue,EAAU,MAC3Dte,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO2e,YAAY1e,SAChCse,EAAYxb,IAAIsT,IACf,MAAMuI,EAAa3C,EAAgB8B,SAAS1H,EAAOxQ,MACnD,OACE9F,EAAAA,EAAAA,MAAA,UAEEzB,UAAS,GAAApB,OAAK8C,EAAO6e,aAAY,KAAA3hB,OAAI0hB,EAAa5e,EAAO8e,eAAiB,IAC1E3e,QAASA,KACP+b,EAAmBnC,IACjB,MAAMgF,EAAiBR,EAAYxb,IAAIjF,GAAKA,EAAE+H,MACxCmZ,EAAkBjF,EAAKlc,OAAOohB,IAAMF,EAAehB,SAASkB,IAClE,OAAIL,EAAmBI,EAChB,IAAIA,EAAiB3I,EAAOxQ,SAGvCpF,OAAOye,EAAAA,EAAAA,IAAgB7I,EAAQrB,KAAS6E,EAAAA,EAAAA,IAAcxD,EAAQrB,GAAM/U,SAAA,CAEnEoW,EAAOkC,WAAYrY,EAAAA,EAAAA,KAAA,OAAKuE,IAAK4R,EAAOkC,SAAU7T,KAAKmV,EAAAA,EAAAA,IAAcxD,EAAQrB,GAAOyD,QAAQ,UACzFvY,EAAAA,EAAAA,KAAA,QAAAD,UAAO4Z,EAAAA,EAAAA,IAAcxD,EAAQrB,OAbxBqB,EAAOrR,UAPZwZ,QA+BhBze,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkd,YAAYjd,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAAD,SAAQnC,EAAE,mBACVoC,EAAAA,EAAAA,KAAA,YACEoG,MAAO8U,EACP+B,SAAUN,GAAKV,EAASU,EAAEO,OAAO9W,OACjC+W,YAAavf,EAAE,2BACfQ,UAAW0B,EAAOmf,WAClB5B,UAAW,IACX6B,KAAM,WAKZrf,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqf,cAAcpf,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQ5B,UAAW0B,EAAOsf,YAAanf,QAASuc,EAAQzc,SAAEnC,EAAE,oBAC5DoC,EAAAA,EAAAA,KAAA,UACE5B,UAAW0B,EAAOuf,UAClBpf,QAASsc,EACTjc,SAAU8b,IAAWd,EAAUgE,QAAmC,IAAzB9D,EAAc7X,OAAa5D,SAEnEqc,EAAS,MAAQxe,EAAE,0BC5LnB2hB,EAA6C9c,EAAAA,KAAWvE,IAAA,IAAC,MAAEshB,GAAOthB,EAAA,OAC7E8B,EAAAA,EAAAA,KAAAqN,EAAAA,SAAA,CAAAtN,SACG,IAAIsG,MAAMmZ,IAAQ3c,IAAI,CAAC4T,EAAGhR,KACzB5F,EAAAA,EAAAA,MAAA,OAAezB,UAAW0B,EAAO4W,eAAe3W,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO2f,iBAAiB1f,UACtCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO4f,oBAEzB1f,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO6W,mBAAmB5W,SACvC,IAAIsG,MAAM,IAAIxD,IAAI,CAAC4T,EAAGG,KACrB/W,EAAAA,EAAAA,MAAC4C,EAAAA,SAAc,CAAA1C,SAAA,CACZ6W,EAAI,IAAK5W,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+W,mBACjChX,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgX,eAAe/W,SAAA,EACpCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOiX,sBACvB/W,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOkX,2BAJNJ,OASzB/W,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmX,mBAAmBlX,SAAA,EACxCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoX,oBAAoBnX,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqX,uBACvBnX,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsX,2BAEzBvX,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOoX,oBAAoBnX,SAAA,EACzCC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOqX,uBACvBnX,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOsX,+BAtBnB3R,Q,cCFT,MCkBMka,EAAgEzhB,IAAmC,IAAlC,OAAEC,EAAM,OAAE5B,EAAM,SAAEqjB,GAAU1hB,EACxG,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,OACR,KAAEC,IAASC,EAAAA,EAAAA,OACVqhB,EAAiBC,IAAsB9gB,EAAAA,EAAAA,WAAS,IAG/CvB,KAAMwX,EAAQ,KAAOE,EAAAA,EAAAA,GAAc5Y,IACnCkB,KAAMd,EAAU,KAAOL,EAAAA,EAAAA,GAAWmK,OAAOlK,KAC3C,MAAEmB,EAAK,MAAEI,EAAK,MAAEC,IAAUX,EAAAA,EAAAA,GAAiBqJ,OAAOlK,KAChDkB,KAAM6X,EAAS,KAAO9Y,EAAAA,EAAAA,GAAwB,CACpDC,SAAUC,EAAAA,EAAU4Y,OAAO1Y,IAAIL,GAC/BO,QAASA,KAAMC,EAAAA,EAAAA,GAAU,0BAAAC,OAA0CT,IACnEU,UAAWV,EACXW,UAAWC,EAAAA,KAGLM,KAAMsiB,EAAkB,GAAI/hB,UAAWgiB,EAAkBC,QAASC,IAAqB1jB,EAAAA,EAAAA,GAAsB,CACnHC,SAAUC,EAAAA,EAAUmY,OAAOsL,UAAUhiB,EAAY,OAAJI,QAAI,IAAJA,OAAI,EAAJA,EAAMuG,IACnDhI,QAAS2C,UACP,MAAM2gB,EAAQ5hB,EAAAA,GAAa6hB,WAAWD,MAChCE,EAAkC,CAAC,EACrCF,IAAOE,EAAuB,cAAC,UAAAtjB,OAAaojB,IAChD,MAAMG,QAAYC,MAAM,GAADxjB,OAAIyjB,EAAAA,EAAO,YAAAzjB,OAAWmB,EAAM,WAAW,CAAEmiB,YAChE,IAAKC,EAAIG,GAAI,MAAM,IAAIC,MAAM,yBAC7B,MAAMljB,QAAa8iB,EAAIK,OACvB,OAAOva,MAAMC,QAAQ7I,GAAQA,EAAO,IAEtCR,UAAWkB,EACXjB,UAAW,MAIP2jB,EDlDoBC,EAAC3iB,EAAgB+hB,KAC3C,MAAM,KAAE3hB,IAASC,EAAAA,EAAAA,OACVuiB,EAAUC,IAAehiB,EAAAA,EAAAA,WAAS,IAClCqc,EAAc4F,IAAmBjiB,EAAAA,EAAAA,UAA2B,OAC5DkiB,EAAUC,IAAeniB,EAAAA,EAAAA,UAAsB,KAC/CoiB,EAAiBC,IAAsBriB,EAAAA,EAAAA,WAAS,IAChDod,EAAQkF,IAAatiB,EAAAA,EAAAA,WAAS,IAG9Bsc,EAAWC,IAAgBvc,EAAAA,EAAAA,UAAS,KACpCwc,EAAe+F,IAAoBviB,EAAAA,EAAAA,UAAmB,KACtDyc,EAAgBC,IAAqB1c,EAAAA,EAAAA,UAAwB,OAC7D2c,EAAgBC,IAAqB5c,EAAAA,EAAAA,UAAwB,OAC7D6c,EAAgBC,IAAqB9c,EAAAA,EAAAA,UAAwB,OAC7D+c,EAAiBC,IAAsBhd,EAAAA,EAAAA,UAAmB,KAC1Dkc,EAAOe,IAAYjd,EAAAA,EAAAA,UAAS,KAC5Bkd,EAAYC,IAAiBnd,EAAAA,EAAAA,UAAS,IAEvCwiB,GAAgBhiB,EAAAA,EAAAA,aAAYC,UAChC,GAAKlB,EAAL,CACA8iB,GAAmB,GACnB,IACE,MAAM5jB,QAAagkB,EAAAA,EAAAA,IAAU,mBAADzkB,OAAoBmB,IAChDgjB,EAAY1jB,EACd,CAAE,MAAAkC,GACA,CACD,QACC0hB,GAAmB,EACrB,CATiB,GAUhB,CAAC9iB,EAAMJ,KAEVujB,EAAAA,EAAAA,WAAU,KACRF,KACC,CAACA,IAEJ,MAAMG,EAAYA,KAChBpG,EAAa,IACbgG,EAAiB,IACjB7F,EAAkB,MAClBE,EAAkB,MAClBE,EAAkB,MAClBE,EAAmB,IACnBC,EAAS,IACTgF,EAAgB,MAChB9E,EAAc,KAkEhB,MAAO,CACL4E,WAAUC,cACV3F,eACA6F,WAAUE,kBACVhF,SACAd,YAAWC,eACXC,gBAAeC,iBAAgBC,oBAC/BC,iBAAgBC,oBAChBC,iBAAgBC,oBAChBC,kBAAiBC,qBACjBd,QAAOe,WACPC,aAAYC,gBACZyF,SA3EgBtK,IACZA,GACF2J,EAAgB3J,GAChBiE,EAAajE,EAAM3R,MACnB4b,EAAiBjK,EAAMrC,OAAS,IAChCyG,EAAkBpE,EAAMG,WACxBmE,EAAkBtE,EAAM+C,WACxByB,EAAkBxE,EAAMiD,WACxByB,EAAmB1E,EAAM/Z,SAAW,IACpC0e,EAAS3E,EAAM4D,OAAS,KAExByG,IAEFX,GAAY,IA8DFa,WA3DOpiB,UACjB,GAAK6b,EAAUgE,QAAmC,IAAzB9D,EAAc7X,OAAvC,CACA2d,GAAU,GACV,IACE,MAAMQ,EAAO,CACXnc,KAAM2V,EACNrG,MAAOuG,EACP/D,UAAWgE,EACXle,QAASwe,EACT1B,UAAWsB,EACXpB,UAAWsB,EACXX,SAEEG,QACIoG,EAAAA,EAAAA,IAAU,WAADzkB,OAAYqe,EAAavW,IAAM,CAAEid,OAAQ,MAAOD,KAAMlc,KAAKC,UAAUic,WAE9EL,EAAAA,EAAAA,IAAU,UAAW,CAAEM,OAAQ,OAAQD,KAAMlc,KAAKC,WAASmc,EAAAA,EAAAA,GAAC,CAAElV,QAAS3O,GAAW2jB,MAE1Fd,GAAY,GACZW,IACAH,IACAtB,GACF,CAAE,MAAO/f,GACPC,QAAQC,MAAM,wBAAyBF,EACzC,CAAC,QACCmhB,GAAU,EACZ,CAzB2D,GA0DrCW,aA9BHxiB,UACnB,UACQgiB,EAAAA,EAAAA,IAAU,WAADzkB,OAAYklB,GAAW,CAAEH,OAAQ,WAChDP,IACAtB,GACF,CAAE,MAAO/f,GACPC,QAAQC,MAAM,0BAA2BF,EAC3C,GAuBoCmc,WApBlBtE,IAClBuJ,EAAiB1H,GACXA,EAAKgE,SAAS7F,GAAgB6B,EAAKlc,OAAOmH,GAAMA,IAAOkT,GACvD6B,EAAKlW,QAAU,EAAUkW,EACtB,IAAIA,EAAM7B,OCxDR8I,CAAa3iB,EAAQ+hB,IAElCiC,EAAAA,EAAAA,IAAa3iB,EAAAA,EAAAA,aAAY,IAAMqhB,EAAKG,aAAY,GAAQ,CAACH,IAAQA,EAAKE,UAEtE,MAAMzhB,GAAcC,EAAAA,EAAAA,GAAc,IAAMugB,GAAmB,IAarDrK,EAAWhT,EAAAA,QAAc,KAC7B,MAAMI,EAAM,IAAI6S,IAEhB,OADAT,EAAMU,QAASC,GAAe/S,EAAIgT,IAAID,EAAK9Q,GAAI8Q,IACxC/S,GACN,CAACoS,IAEEe,EAAavT,EAAAA,QAAc,KAC/B,MAAMI,EAAM,IAAI6S,IAEhB,OADC/Y,EAAqBgZ,QAASgH,GAAM9Z,EAAIgT,IAAI8G,EAAE7X,GAAI6X,IAC5C9Z,GACN,CAAClG,IAEEmZ,EAAYrT,EAAAA,QAAc,KAC9B,MAAMI,EAAM,IAAI6S,IAEhB,OADAJ,EAAOK,QAASyM,GAAMvf,EAAIgT,IAAIuM,EAAEtd,GAAIsd,IAC7Bvf,GACN,CAACyS,IAEEY,EAAazT,EAAAA,QAAc,KAC/B,MAAMI,EAAM,IAAI6S,IAEhB,MADA,IAAIhY,KAAUI,KAAUC,GAAO4X,QAAS/X,GAAMiF,EAAIgT,IAAIjY,EAAE+H,KAAM/H,IACvDiF,GACN,CAACnF,EAAOI,EAAOC,IAEZse,EAAgB5Z,EAAAA,QAAc,KAClC,IAAI4f,EAAWpN,EAAMtX,OAAQiY,GAAqC,MAAtBnP,OAAOmP,EAAK/X,OACxD,GAAIgjB,EAAK3E,WAAY,CACnB,MAAMoG,EAAIzB,EAAK3E,WAAWxI,cAC1B2O,EAAWA,EAAS1kB,OAAQiY,IAAU,IAAA+H,EAAA,OAAc,QAAdA,EAAK/H,EAAKjQ,YAAI,IAAAgY,OAAA,EAATA,EAAWjK,cAAcmK,SAASyE,IAC/E,CACA,OAAOD,GACN,CAACpN,EAAO4L,EAAK3E,aAEhB,OACErc,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOyiB,YAAYxiB,SAAA,GAE9B6f,GAAyB,OAAbA,KACb/f,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0iB,UAAUziB,SAAA,EAC/BF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2iB,gBAAgB1iB,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO+D,aAAa9D,SAAEnC,EAAE,sBACvCiC,EAAAA,EAAAA,MAAA,UAAQzB,UAAW0B,EAAO4iB,YAAaziB,QAnDvB0iB,KACxB,IAAKpkB,EAIH,OAHAuhB,GAAmB,GACnB5f,WAAW,IAAMZ,IAAe,UAChCY,WAAW,IAAM4f,GAAmB,GAAQ,KAG9Ce,EAAKe,YA4CqE7hB,SAAA,CAAC,KAC9DnC,EAAE,uBAGRiiB,IACC7f,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAO8iB,cAAc7iB,SAAEnC,EAAE,0BAEvCW,EAEEsiB,EAAKO,iBACPphB,EAAAA,EAAAA,KAACuf,EAAa,CAACC,MAAO,IACK,IAAzBqB,EAAKK,SAASvd,QAChB3D,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAO+iB,QAAQ9iB,SAAEnC,EAAE,qBAEjCijB,EAAKK,SAASre,IAAIigB,IAChB9iB,EAAAA,EAAAA,KAAC8Z,EAAS,CAERxC,MAAOwL,EACP/I,OAAK,EACLtE,SAAUA,EACVO,WAAYA,EACZF,UAAWA,EACXI,WAAYA,EACZ8D,OAAQ6G,EAAKe,SACb3H,SAAU4G,EAAKoB,cARVa,EAAEhe,MARX9E,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAO+iB,QAAQ9iB,SAAEnC,EAAE,+BAwBpCgiB,GAAyB,cAAbA,KAA8BI,GAAoBD,EAAgBpc,OAAS,KACxF9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0iB,UAAUziB,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO+D,aAAa9D,SAAEnC,EAAE,4BACtCoiB,GACChgB,EAAAA,EAAAA,KAACuf,EAAa,CAACC,MAAO,IAEtBO,EAAgBld,IAAIigB,IAClB9iB,EAAAA,EAAAA,KAAC8Z,EAAS,CAERxC,MAAOwL,EACP/I,OAAO,EACPtE,SAAUA,EACVO,WAAYA,EACZF,UAAWA,EACXI,WAAYA,EACZ8D,OAAQ6G,EAAKe,SACb3H,SAAU4G,EAAKoB,cARVa,EAAEhe,QAgBhB+b,EAAKE,WACJ/gB,EAAAA,EAAAA,KAACob,EAAc,CACbC,aAAcwF,EAAKxF,aACnBC,UAAWuF,EAAKvF,UAChBC,aAAcsF,EAAKtF,aACnBC,cAAeqF,EAAKrF,cACpBC,eAAgBoF,EAAKpF,eACrBC,kBAAmBmF,EAAKnF,kBACxBC,eAAgBkF,EAAKlF,eACrBC,kBAAmBiF,EAAKjF,kBACxBC,eAAgBgF,EAAKhF,eACrBC,kBAAmB+E,EAAK/E,kBACxBC,gBAAiB8E,EAAK9E,gBACtBC,mBAAoB6E,EAAK7E,mBACzBd,MAAO2F,EAAK3F,MACZe,SAAU4E,EAAK5E,SACfC,WAAY2E,EAAK3E,WACjBC,cAAe0E,EAAK1E,cACpBC,OAAQyE,EAAKzE,OACbC,cAAeA,EACf5G,SAAUA,EACVH,OAAQA,EACR3Y,QAASA,EACTe,MAAOA,EACPI,MAAOA,EACPC,MAAOA,EACPue,WAAYuE,EAAKvE,WACjBC,OAAQsE,EAAKgB,WACbrF,QAASA,IAAMqE,EAAKG,aAAY,SC5L7B+B,EAAsCtgB,EAAAA,KAAWvE,IAA8C,IAA7C,KAAEwJ,EAAI,aAAEsb,EAAY,gBAAEC,GAAiB/kB,EACpG,MAAM,EAAEN,IAAMU,EAAAA,EAAAA,MAEd,OACEuB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+H,eAAe9H,SAAA,EACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0P,iBAAiBzP,SAAA,EACtCC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAqB,WAAjBgmB,EAA4BljB,EAAO4P,sBAAwB,IACnGzP,QAASA,IAAMgjB,EAAgB,UAAUljB,SAExCnC,EAAE,2BAELoC,EAAAA,EAAAA,KAAA,UACE5B,UAAS,GAAApB,OAAK8C,EAAO2P,gBAAe,KAAAzS,OAAqB,OAAjBgmB,EAAwBljB,EAAO4P,sBAAwB,IAC/FzP,QAASA,IAAMgjB,EAAgB,MAAMljB,SAEpCnC,EAAE,wBAIW,WAAjBolB,IACCnjB,EAAAA,EAAAA,MAAAwN,EAAAA,SAAA,CAAAtN,SAAA,EACEC,EAAAA,EAAAA,KAAC4U,EAAgB,CAACC,OAAQnN,EAAKwb,YAAc,GAAI3mB,OAAQmL,EAAKmH,WAC9D7O,EAAAA,EAAAA,KAAC2f,EAAsB,CAACxhB,OAAQuJ,EAAK5C,GAAIvI,OAAQmL,EAAKmH,QAAS+Q,SAAS,iBAI1D,OAAjBoD,IACChjB,EAAAA,EAAAA,KAAC2f,EAAsB,CAACxhB,OAAQuJ,EAAK5C,GAAIvI,OAAQmL,EAAKmH,QAAS+Q,SAAS,Y,cCyOhF,QApPA,WAA2B,IAAD1Y,EAAAC,EAAAE,EAAAC,EACxB,MAAM,EAAE1J,EAAC,KAAE8F,IAASpF,EAAAA,EAAAA,OACd,OAAEH,IAAWglB,EAAAA,EAAAA,MACX1lB,KAAMiK,EAAM1J,UAAWolB,EAAaC,QAASC,IAAcC,EAAAA,EAAAA,IAAa1mB,OAAOsB,KAC/EV,KAAMuV,EAAS,GAAIhV,UAAWwlB,IAAkBC,EAAAA,EAAAA,IAAmB5mB,OAAOsB,KAC1EV,KAAM+N,EAAY,KAAOkY,EAAAA,EAAAA,KAAmB,OAAJhc,QAAI,IAAJA,OAAI,EAAJA,EAAMmH,UAAW,IACjE8U,EAAAA,EAAAA,KAA4B,OAAJjc,QAAI,IAAJA,OAAI,EAAJA,EAAMmH,UAAW,IACzC+U,EAAAA,EAAAA,KAAkC,OAAJlc,QAAI,IAAJA,OAAI,EAAJA,EAAMmH,UAAW,GAC/C,MAAQpR,KAAMomB,EAAU,KC1BjBrnB,EAAAA,EAAAA,GAAS,CACdC,SAAUC,EAAAA,EAAUmnB,QAAQjnB,IAC5BE,QAAS2C,gBACe4B,KAEPyiB,KAAK,CAACC,EAAUjB,KAC7B,MAAMkB,EAAQ,IAAIzR,KAAKwR,EAAEvR,cAAcyR,UAEvC,OADc,IAAI1R,KAAKuQ,EAAEtQ,cAAcyR,UACxBD,IAGnB9mB,UAAWC,EAAAA,KDiBN+mB,EAAcC,GAAmB1hB,EAAAA,UAAe,IAChD2hB,EAAcC,GAAmB5hB,EAAAA,UAAe,IAEvD0f,EAAAA,EAAAA,GAAa1f,EAAAA,YAAkB,IAAM0hB,GAAgB,GAAQ,IAAKD,GAElE,MAAM,UAAExhB,EAAS,cAAE+I,EAAa,cAAEuE,EAAa,aAAEsU,EAAY,iBAAE5Y,EAAgB,iBAAEuE,GEpCxDsU,MACzB,MAAO7hB,EAAW4hB,IAAgBtlB,EAAAA,EAAAA,UAA0E,SACrGyM,EAAeC,IAAoB1M,EAAAA,EAAAA,UAA2B,SAC9DgR,EAAeC,IAAoBjR,EAAAA,EAAAA,UAAwC,cAElF,MAAO,CACL0D,YACA+I,gBACAuE,gBACAsU,eACA5Y,mBACAuE,qBFyBoGsU,IAC/FvB,EAAcC,GAAmBxgB,EAAAA,SAAgC,WAClE,KAAElE,IAASC,EAAAA,EAAAA,MACXgmB,EAAc/hB,EAAAA,OAAalE,GAGjCkE,EAAAA,UAAgB,KACV+hB,EAAY9kB,UAAYnB,GAAyB,OAAjBykB,GAClCC,EAAgB,UAElBuB,EAAY9kB,QAAUnB,GACrB,CAACA,EAAMykB,KAEVyB,EAAAA,EAAAA,GAAO,CACLlkB,MAAOmH,EAAI,GAAA1K,OAAM0K,EAAK/B,KAAI,sBAAkB,OAC5CmN,YAAapL,EAAI,GAAA1K,OAAM0K,EAAK/B,KAAI,6EAAoE+e,IAGtG,MAAM,cACJxhB,EAAa,mBACbC,EAAkB,cAClBC,EAAa,cACbC,GAAa,eACbC,GAAc,eACdC,GAAc,eACdohB,GAAc,sBACdC,IG7DyB,SAC3B5R,GAEyB,IADzB6R,EAAyBC,UAAAnhB,OAAA,QAAA+gB,IAAAI,UAAA,GAAAA,UAAA,GAAG,EAE5B,MAAO3hB,EAAoByhB,IAAyB5lB,EAAAA,EAAAA,UAAiB6lB,IAC9DvhB,EAAgByhB,IAAqB/lB,EAAAA,EAAAA,UAAS,GAG/CgmB,EAAahS,EAChBrV,OAAOqG,IAAUA,EAAMihB,gBACvBnB,KAAK,CAACC,EAAGjB,KAAC,IAAAoC,EAAAC,EAAA,OAAqB,QAAhBD,EAACnB,EAAEqB,qBAAa,IAAAF,EAAAA,EAAI,IAAqB,QAApBC,EAAKrC,EAAEsC,qBAAa,IAAAD,EAAAA,EAAI,KAGzDE,EAAoBrS,EACvBrV,OAAOqG,GAASA,EAAMihB,gBACtBnB,KAAK,CAACC,EAAGjB,KAAC,IAAAwC,EAAAC,EAAA,OAAqB,QAAhBD,EAACvB,EAAEqB,qBAAa,IAAAE,EAAAA,EAAI,IAAqB,QAApBC,EAAKzC,EAAEsC,qBAAa,IAAAG,EAAAA,EAAI,KAGzDliB,EAAgBgiB,EAAkB1hB,OAAS,EAC7CgF,KAAK6c,OAAOH,EAAkBxiB,IAAIuf,GAAKA,EAAEqD,sBAAwB,IACjE,EAGEviB,EAAmC,IAAnBI,EAClB0hB,EACAA,EAAWniB,IAAI6iB,GACbL,EAAkBzZ,KAChBhO,GAAKA,EAAE+nB,oBAAsBD,EAAK5gB,IAAMlH,EAAE6nB,uBAAyBniB,IAChEoiB,GAILniB,EAA8B,IAAIqiB,IACpCtiB,EAAiB,GACnBJ,EAAcyS,QAAQ,CAAC3R,EAAOC,KAAW,IAAD4hB,EAClC7hB,EAAMc,MAAwB,QAAtB+gB,EAAKb,EAAW/gB,UAAM,IAAA4hB,OAAA,EAAjBA,EAAmB/gB,KAClCvB,EAAeuiB,IAAI7hB,KAMzB,MAKMb,EAAgBF,EAAcC,IAAuBD,EAAc,GASzE,OANAwe,EAAAA,EAAAA,WAAU,KACJve,GAAsBD,EAAcS,QAAUT,EAAcS,OAAS,GACvEihB,EAAsB,IAEvB,CAAC1hB,EAAeC,IAEZ,CACL6hB,aACAK,oBACAniB,gBACAC,qBACAC,gBACAC,gBACAC,iBACAC,iBACAohB,eAvBqBA,KACrBI,EAAmBlL,IAAUA,EAAO,IAAMxW,EAAgB,KAuB1DuhB,wBACAG,oBAEJ,CHPMgB,CAAc/S,GAGZ9B,GAAczO,EAAAA,QAAc,IAC3BiF,GAASmc,EACPA,EAAQlmB,OAAQ8T,GACpBA,EAAMI,cAAgBJ,EAAMI,aAAanK,EAAK/B,OAC9C8L,EAAMM,kBAAoBN,EAAMM,iBAAiBrK,EAAK/B,OAH3B,GAK7B,CAACke,EAASnc,IAGPC,GAAiB,CACrB/J,EAAE,yBACFA,EAAE,sBACFA,EAAE,6BACFA,EAAE,0BAWJ,OAAIwlB,GAAeI,GAAsBxjB,EAAAA,EAAAA,KAACgmB,EAAAA,EAAM,IAC5C1C,IAAc5b,GAEd1H,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOmmB,UAAUlmB,UAC/BC,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOO,MAAMN,SAAEnC,EAAE,4BAMrCiC,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOmmB,UAAUlmB,SAAA,EAE/BF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOomB,gBAAgBnmB,SAAA,EACnC2H,EAAKye,UAAYze,EAAKpD,SACtBtE,EAAAA,EAAAA,KAAA,OACEuE,IAAKmD,EAAKye,UAAYze,EAAKpD,MAC3BE,IAAKkD,EAAK/B,KACVvH,UAAS,GAAApB,OAAK8C,EAAOsmB,YAAW,KAAAppB,OAAIonB,EAAetkB,EAAOumB,kBAAoB,IAC9EC,OAAQA,IAAMjC,GAAgB,MAGlCrkB,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAOymB,iBACvB1mB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO0mB,cAAczmB,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2mB,eAAe1mB,SAAA,EACpCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO4mB,cAAc3mB,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAI5B,UAAW0B,EAAO6mB,eAAe5mB,UAAEkL,EAAAA,EAAAA,IAAYvD,EAAMhE,EAAKgB,aAC9D1E,EAAAA,EAAAA,KAAC/B,EAAAA,EAAc,CAACE,OAAQuJ,EAAK5C,QAE9B4C,EAAKkf,OAASlf,EAAKkf,MAAMjjB,OAAS,IACjC3D,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO+mB,eAAe9mB,UACnC+mB,EAAAA,EAAAA,IAAepf,EAAKkf,MAAOljB,EAAKgB,UAAU7B,IAAI,CAACkkB,EAAMthB,KACpDzF,EAAAA,EAAAA,KAAA,QAAgB5B,UAAW0B,EAAOknB,cAAcjnB,SAAEgnB,GAAvCthB,OAIfiC,EAAKuf,mBAAqBvf,EAAKwf,wBAC/BlnB,EAAAA,EAAAA,KAAA,KAAG5B,UAAW0B,EAAOqnB,kBAAkBpnB,UACpCqnB,EAAAA,EAAAA,IAAwB1f,EAAMhE,EAAKgB,eAIzCgD,EAAKpD,QACJzE,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOunB,sBAAsBtnB,SAAA,CAC1C2H,EAAKmC,aAAenC,EAAKmC,YAAYlG,QAAU,IAC9C9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwnB,aAAc5mB,QAAQ,cAAaX,SAAA,EAExDC,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,2BAA2BC,YAAY,OACzFb,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,UAAUC,YAAY,IACtE0mB,gBAAe,GAAAvqB,OAAMH,OAAO6K,EAAKmC,YAAY,IAAM,IAAO,OAAM,WAChEjI,cAAc,QAAQ4lB,UAAU,uBAElCxnB,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,0BAA0BC,YAAY,OACxFb,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,UAAUC,YAAY,IACtE0mB,gBAAe,GAAAvqB,OAAMH,OAAO6K,EAAKmC,YAAY,IAAM,IAAO,OAAM,WAChEjI,cAAc,QAAQ4lB,UAAU,uBAElCxnB,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,2BAA2BC,YAAY,OACzFb,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,UAAUC,YAAY,IACtE0mB,gBAAe,GAAAvqB,OAAMH,OAAO6K,EAAKmC,YAAY,IAAM,IAAO,OAAM,WAChEjI,cAAc,QAAQ4lB,UAAU,uBAElCxnB,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,2BAA2BC,YAAY,OACzFb,EAAAA,EAAAA,KAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKrB,KAAK,OAAOC,OAAO,UAAUC,YAAY,IACtE0mB,gBAAe,GAAAvqB,OAAMH,OAAO6K,EAAKmC,YAAY,IAAM,IAAO,OAAM,WAChEjI,cAAc,QAAQ4lB,UAAU,0BAGtCxnB,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO2nB,eAAgBxnB,QAASA,IAAMkkB,GAAgB,GAAO4C,KAAK,SAASW,SAAU,EAAGC,UAAYhL,GAAgB,UAAVA,EAAElb,KAAmB0iB,GAAgB,GAAMpkB,UACnKC,EAAAA,EAAAA,KAAA,OAAKuE,IAAKmD,EAAKpD,MAAOE,KAAKyG,EAAAA,EAAAA,IAAYvD,EAAMhE,EAAKgB,qBAK1D1E,EAAAA,EAAAA,KAAA,OAAK5B,UAAW0B,EAAO8nB,yBAIzB/nB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO+nB,WAAW9nB,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOgoB,eAAe/nB,SAAA,EACpB,QAAfmH,EAAAQ,EAAK0B,kBAAU,IAAAlC,OAAA,EAAfA,EAAiB6gB,MAChBloB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkoB,SAAU,YAAU,KAAIjoB,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOmoB,cAAcloB,SAAE2H,EAAK0B,WAAW2e,MACxD/nB,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOooB,cAAcnoB,SAAC,QACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAOqoB,eAAepoB,SAAA,CAAC,KAAiB,QAAfoH,EAAAO,EAAK0B,kBAAU,IAAAjC,OAAA,EAAfA,EAAiBihB,WAAY,YAGzD,QAAhB/gB,EAACK,EAAK0B,kBAAU,IAAA/B,IAAfA,EAAiBghB,QAClBxoB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOkoB,SAAU,YAAU,OAAMjoB,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOmoB,cAAcloB,SAAE2H,EAAK0B,WAAWif,QACxDroB,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAOooB,cAAcnoB,SAAC,QACvCF,EAAAA,EAAAA,MAAA,QAAMzB,UAAW0B,EAAOqoB,eAAepoB,SAAA,CAAC,KAAiB,QAAfuH,EAAAI,EAAK0B,kBAAU,IAAA9B,OAAA,EAAfA,EAAiBghB,aAAc,cAI/EzoB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOyoB,gBAAgBxoB,SAAA,CACpC2H,EAAK8gB,cACJ3oB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2oB,SAAS1oB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO4oB,cAAc3oB,SAAEnC,EAAE,4BAC1CoC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO6oB,QAAQ5oB,UAAE6oB,EAAAA,EAAAA,IAAclhB,EAAK8gB,YAAa9kB,EAAKgB,eAG1EgD,EAAKmhB,MAAQnhB,EAAKmhB,KAAKllB,OAAS,IAC/B9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2oB,SAAS1oB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO4oB,cAAc3oB,SAAEnC,EAAE,sBACzCkrB,EAAAA,EAAAA,IAAephB,EAAKmhB,KAAMnlB,EAAKgB,UAAU7B,IAAI,CAACgmB,EAAMpjB,KACnDzF,EAAAA,EAAAA,KAAA,QAA0B5B,UAAW0B,EAAO6oB,QAAQ5oB,SAAE8oB,GAAI,QAAA7rB,OAAvCyI,QAIxBiC,EAAKqhB,WAAarhB,EAAKqhB,UAAUplB,OAAS,IACzC9D,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAO2oB,SAAS1oB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,QAAM5B,UAAW0B,EAAO4oB,cAAc3oB,SAAEnC,EAAE,2BACzCorB,EAAAA,EAAAA,IAAqBthB,EAAKqhB,UAAWrlB,EAAKgB,UAAU7B,IAAI,CAAComB,EAAMxjB,KAC9DzF,EAAAA,EAAAA,KAAA,QAA0B5B,UAAW0B,EAAO6oB,QAAS,cAAY,OAAM5oB,SAAEkpB,GAAI,QAAAjsB,OAA1DyI,eAQ7B5F,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOopB,gBAAgBnpB,SAAA,EACrCC,EAAAA,EAAAA,KAACwC,EAAc,CAACE,UAAWA,EAAWC,YAAa2hB,KAGjDzkB,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOqpB,WAAWppB,SAAA,CACjB,SAAd2C,IACC1C,EAAAA,EAAAA,KAACiH,EAAO,CAACS,KAAMA,EAAMC,eAAgBA,GAAgBC,eAtIzCwhB,GAClBA,GAAQ,GAAW,CAAEC,MAAOzrB,EAAE,6BAA8BiL,MAAO,QACnEugB,GAAQ,GAAW,CAAEC,MAAOzrB,EAAE,yBAA0BiL,MAAO,eAC/DugB,GAAQ,GAAW,CAAEC,MAAOzrB,EAAE,4BAA6BiL,MAAO,UAC/D,CAAEwgB,MAAOzrB,EAAE,wBAAyBiL,MAAO,SAoI3B,UAAdnG,IAAyB1C,EAAAA,EAAAA,KAACwK,EAAQ,CAAC9C,KAAMA,IAC3B,YAAdhF,IACC1C,EAAAA,EAAAA,KAACuL,EAAU,CAAC7D,KAAMA,EAAM8D,UAAWA,EAAWC,cAAeA,EAAeC,iBAAkBA,IAEjF,YAAdhJ,IACC1C,EAAAA,EAAAA,KAAC+P,EAAU,CAACrI,KAAMA,EAAM8D,UAAWA,EAAWwE,cAAeA,EAAeC,iBAAkBA,IAEjF,YAAdvN,IAA2B1C,EAAAA,EAAAA,KAACiR,EAAU,CAACvJ,KAAMA,EAAMwJ,YAAaA,KAClD,WAAdxO,IACC1C,EAAAA,EAAAA,KAAC+iB,EAAS,CAACrb,KAAMA,EAAMsb,aAAcA,EAAcC,gBAAiBA,WAM5EjjB,EAAAA,EAAAA,KAACiD,EAAa,CACZC,cAAeA,EACfC,mBAAoBA,EACpBC,cAAeA,EACfC,cAAeA,GACfC,eAAgBA,GAChBC,eAAgBA,GAChBC,cAAeohB,GACfnhB,iBAAkBkhB,KAInBT,IAAiBxc,EAAKye,UAAYze,EAAKpD,SACtCzE,EAAAA,EAAAA,MAAA,OAAKzB,UAAW0B,EAAOwpB,gBAAiBrpB,QAASA,IAAMkkB,GAAgB,GAAOpkB,SAAA,EAC5EC,EAAAA,EAAAA,KAAA,UAAQ5B,UAAW0B,EAAOypB,cAAetpB,QAASA,IAAMkkB,GAAgB,GAAQ,aAAW,QAAOpkB,UAChGF,EAAAA,EAAAA,MAAA,OAAKW,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIe,cAAc,QAAQC,eAAe,QAAO9B,SAAA,EAC5IC,EAAAA,EAAAA,KAAA,QAAMwpB,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,QAAO3pB,EAAAA,EAAAA,KAAA,QAAMwpB,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,aAGzE3pB,EAAAA,EAAAA,KAAA,OACE5B,UAAW0B,EAAO8pB,cAClBrlB,IAAKmD,EAAKye,UAAYze,EAAKpD,MAC3BE,KAAKyG,EAAAA,EAAAA,IAAYvD,EAAMhE,EAAKgB,UAC5BzE,QAAU0c,GAAMA,EAAEC,yBAM9B,C,gDIpQO,MAAMuF,EAAe,SAAC0H,GAAwC,IAAnBxqB,IAAMylB,UAAAnhB,OAAA,QAAA+gB,IAAAI,UAAA,KAAAA,UAAA,IACtDpD,EAAAA,EAAAA,WAAU,KACR,IAAKriB,EAAQ,OACb,MAAMsoB,EAAahL,IACH,WAAVA,EAAElb,KAAkBooB,KAG1B,OADAC,SAASC,iBAAiB,UAAWpC,GAC9B,IAAMmC,SAASE,oBAAoB,UAAWrC,IACpD,CAACkC,EAASxqB,GACf,C,gDCPA,MAAM4qB,EAAa,uCACbC,EAAmB,6HAEnBC,EAAa,GAAAntB,OADF,8CACgB,gBAE3BotB,EAAaA,CAACC,EAAkBC,KACpC,IAAIC,EAAOT,SAASU,cAAc,kBAADxtB,OAAmBqtB,EAAQ,OACvDE,IACHA,EAAOT,SAASW,cAAc,QAC9BF,EAAKG,aAAa,WAAYL,GAC9BP,SAASrc,KAAKkd,YAAYJ,IAE5BA,EAAKG,aAAa,UAAWJ,IAGzBM,EAAcA,CAACjlB,EAAc2kB,KACjC,IAAIC,EAAOT,SAASU,cAAc,cAADxtB,OAAe2I,EAAI,OAC/C4kB,IACHA,EAAOT,SAASW,cAAc,QAC9BF,EAAKG,aAAa,OAAQ/kB,GAC1BmkB,SAASrc,KAAKkd,YAAYJ,IAE5BA,EAAKG,aAAa,UAAWJ,IAGlB7F,EAAS,WAAmD,IAAlD,MAAElkB,EAAK,YAAEuS,EAAW,MAAExO,GAAiBwgB,UAAAnhB,OAAA,QAAA+gB,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GAChEpD,EAAAA,EAAAA,WAAU,KACR,MAAMmJ,EAAYtqB,EAAK,GAAAvD,OAAMuD,EAAK,OAAAvD,OAAMitB,GAAeA,EACjDa,EAAOhY,GAAeoX,EACtBa,EAAMzmB,GAAS6lB,EACfa,EAAMC,OAAOC,SAASC,KAqB5B,OAnBArB,SAASvpB,MAAQsqB,EAGjBD,EAAY,cAAeE,GAG3BV,EAAW,WAAYS,GACvBT,EAAW,iBAAkBU,GAC7BV,EAAW,WAAYW,GACvBX,EAAW,SAAUY,GACrBZ,EAAW,UAAW,WACtBA,EAAW,eAAgB,aAG3BQ,EAAY,eAAgB,uBAC5BA,EAAY,gBAAiBC,GAC7BD,EAAY,sBAAuBE,GACnCF,EAAY,gBAAiBG,GAEtB,KACLjB,SAASvpB,MAAQ0pB,EACjBW,EAAY,cAAeV,KAE5B,CAAC3pB,EAAOuS,EAAaxO,GAC1B,C,8EChDO,MAAMzF,EAAeA,KAC1B,MAAMuhB,GAAQ5hB,EAAAA,EAAAA,IAAc4jB,GAAMA,EAAEhC,OAC9BgL,GAAcC,EAAAA,EAAAA,OAEZ5tB,KAAM6tB,EAAY,GAAE,UAAEttB,IAAcxB,EAAAA,EAAAA,GAAqB,CAC/DC,SAAU,CAAC,aACXK,QAASA,KAAM2kB,EAAAA,EAAAA,IAAU,cACzBxkB,UAAWmjB,EACXljB,UAAW,IACXquB,MAAO,IAGH9sB,GAAae,EAAAA,EAAAA,aAChBrB,GAAmBmtB,EAAUE,KAAMC,GAAMA,EAAE3e,UAAY3O,GACxD,CAACmtB,IAGG5sB,GAAiBc,EAAAA,EAAAA,aACrBC,UACE,MAAMisB,EAAoBJ,EAAUE,KAAMC,GAAMA,EAAE3e,UAAY3O,GAG9DitB,EAAYO,aAAyB,CAAC,aAAc,eAACC,EAAG9G,UAAAnhB,OAAA,QAAA+gB,IAAAI,UAAA,GAAAA,UAAA,GAAG,GAAE,OAC3D4G,EACIE,EAAIjuB,OAAQ8tB,GAAMA,EAAE3e,UAAY3O,GAChC,IAAIytB,EAAK,CAAE9mB,GAAIyN,KAAKsZ,MAAO/e,QAAS3O,EAAQ2tB,YAAY,IAAIvZ,MAAOwZ,eAAgB,GAGzF,IACML,QACIjK,EAAAA,EAAAA,IAAU,cAADzkB,OAAemB,GAAU,CAAE4jB,OAAQ,iBAE5CN,EAAAA,EAAAA,IAAU,cAADzkB,OAAemB,GAAU,CAAE4jB,OAAQ,SAGpDqJ,EAAYY,kBAAkB,CAAEvvB,SAAU,CAAC,cAC7C,CAAE,MAAO0D,GAGP,MADAirB,EAAYY,kBAAkB,CAAEvvB,SAAU,CAAC,eACrC0D,CACR,GAEF,CAACmrB,EAAWF,IAGRzsB,GAAca,EAAAA,EAAAA,aAClBC,UAEE2rB,EAAYO,aAAyB,CAAC,aAAc,WAAS,MAAK,IAAV7G,UAAAnhB,OAAA,QAAA+gB,IAAAI,UAAA,GAAAA,UAAA,GAAG,GAEzD,CAAEhgB,GAAIyN,KAAKsZ,MAAO/e,QAAS3O,EAAQ2tB,YAAY,IAAIvZ,MAAOwZ,eAC3D,GAED,UACQtK,EAAAA,EAAAA,IAAU,cAADzkB,OAAemB,GAAU,CAAE4jB,OAAQ,SAClDqJ,EAAYY,kBAAkB,CAAEvvB,SAAU,CAAC,cAC7C,CAAE,MAAO0D,GAEP,MADAirB,EAAYY,kBAAkB,CAAEvvB,SAAU,CAAC,eACrC0D,CACR,GAEF,CAACirB,IAGH,MAAO,CAAEE,YAAWttB,YAAWS,aAAYC,iBAAgBC,e","sources":["hooks/useEmblems.ts","webpack://moba-wiki/./src/components/FavoriteButton/styles.module.scss?2bc5","components/FavoriteButton/index.tsx","utils/sanitize.ts","api/patches/index.ts","webpack://moba-wiki/./src/pages/HeroDetailPage/styles.module.scss?3518","pages/HeroDetailPage/components/TabsNavigation.tsx","pages/HeroDetailPage/components/SkillsSection.tsx","pages/HeroDetailPage/components/InfoTab.tsx","pages/HeroDetailPage/components/AboutTab.tsx","utils/parseMaybeJson.ts","pages/HeroDetailPage/components/CounterTab.tsx","pages/HeroDetailPage/components/SynergyTab.tsx","pages/HeroDetailPage/components/HistoryTab.tsx","pages/HeroDetailPage/components/ProBuildsSection.tsx","pages/HeroDetailPage/components/community-builds/BuildCard.tsx","pages/HeroDetailPage/components/community-builds/BuildFormModal.tsx","pages/HeroDetailPage/components/community-builds/BuildSkeleton.tsx","pages/HeroDetailPage/components/community-builds/useBuildForm.ts","pages/HeroDetailPage/components/CommunityBuildsSection.tsx","pages/HeroDetailPage/components/BuildsTab.tsx","pages/HeroDetailPage/index.tsx","queries/usePatchesQuery.ts","pages/HeroDetailPage/hooks/useHeroTabs.ts","pages/HeroDetailPage/hooks/useHeroSkills.ts","hooks/useEscapeKey.ts","hooks/useSEO.ts","hooks/useFavorites.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { STALE_5_MIN, queryKeys } from '../queries/keys';\nimport { fetcherRaw } from '../api/http/fetcher';\n\ninterface BaseStats {\n  [key: string]: string | number;\n}\n\ninterface Talent {\n  id: number;\n  name: string;\n  name_uk?: string;\n  tier: number;\n  effect: string;\n  effect_uk?: string;\n  icon_url?: string;\n  game_id: number;\n}\n\ninterface Emblem {\n  id: number;\n  game_id: number;\n  name: string;\n  name_uk?: string;\n  description: string;\n  description_uk?: string;\n  icon_url?: string;\n  base_stats?: BaseStats;\n  tier1_talents?: Talent[];\n  tier2_talents?: Talent[];\n  tier3_talents?: Talent[];\n}\n\nexport const useEmblems = (gameId: string | undefined) => {\n  return useQuery<Emblem[]>({\n    queryKey: queryKeys.emblems.all(Number(gameId)),\n    queryFn: () => fetcherRaw<Emblem[]>(`/emblems?game_id=${gameId}`),\n    enabled: !!gameId,\n    staleTime: STALE_5_MIN,\n  });\n};\n\nexport const useEmblemTalents = (gameId: string | undefined) => {\n  const allTalentsQuery = useQuery<Talent[]>({\n    queryKey: queryKeys.emblems.talents(Number(gameId)),\n    queryFn: () => fetcherRaw<Talent[]>(`/emblem-talents?game_id=${gameId}`),\n    enabled: !!gameId,\n    staleTime: STALE_5_MIN,\n  });\n\n  const allTalents = allTalentsQuery.data ?? [];\n\n  return {\n    tier1: allTalents.filter(t => t.tier === 1),\n    tier2: allTalents.filter(t => t.tier === 2),\n    tier3: allTalents.filter(t => t.tier === 3),\n    isLoading: allTalentsQuery.isLoading,\n  };\n};\n\nexport type { Emblem, Talent, BaseStats };\n","// extracted by mini-css-extract-plugin\nexport default {\"favWrapper\":\"styles_favWrapper__3fhqK\",\"favoriteBtn\":\"styles_favoriteBtn__mC9D2\",\"active\":\"styles_active__aHoUL\",\"notAuth\":\"styles_notAuth__M-vT0\",\"loginTooltip\":\"styles_loginTooltip__4+vqv\",\"tooltipFade\":\"styles_tooltipFade__ywqoM\",\"tooltipFadeMobile\":\"styles_tooltipFadeMobile__OnizT\",\"loginTooltipTop\":\"styles_loginTooltipTop__s+6X-\",\"tooltipFadeTop\":\"styles_tooltipFadeTop__QA1Bl\",\"tooltipFadeTopMobile\":\"styles_tooltipFadeTopMobile__hey0z\"};","import React, { useState, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuthStore } from '../../store/authStore';\nimport { useFavorites } from '../../hooks/useFavorites';\nimport { useGoogleAuth } from '../../hooks/useGoogleAuth';\nimport styles from './styles.module.scss';\n\ninterface FavoriteButtonProps {\n  heroId: number;\n  className?: string;\n  tooltipPosition?: 'top' | 'bottom';\n}\n\nexport const FavoriteButton: React.FC<FavoriteButtonProps> = ({ heroId, className, tooltipPosition = 'bottom' }) => {\n  const { t } = useTranslation();\n  const { user } = useAuthStore();\n  const { isFavorite, toggleFavorite, addFavorite, isLoading: favLoading } = useFavorites();\n  const [isToggling, setIsToggling] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const pendingHeroRef = useRef<number | null>(null);\n\n  const active = isFavorite(heroId);\n\n  // Google login for non-auth users  auto-adds favorite after login\n  const googleLogin = useGoogleAuth(useCallback(async () => {\n    if (pendingHeroRef.current !== null) {\n      try { await addFavorite(pendingHeroRef.current); } catch { /* user can retry */ }\n      pendingHeroRef.current = null;\n    }\n  }, [addFavorite]));\n\n  const handleClick = async () => {\n    if (isToggling || favLoading) return;\n\n    // Not logged in  show tooltip then trigger Google login\n    if (!user) {\n      pendingHeroRef.current = heroId;\n      setShowTooltip(true);\n      setTimeout(() => setShowTooltip(false), 2500);\n      setTimeout(() => googleLogin(), 400);\n      return;\n    }\n\n    setIsToggling(true);\n    try {\n      await toggleFavorite(heroId);\n    } catch (err) {\n      console.error('Failed to toggle favorite:', err);\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  const tooltipText = user\n    ? (active ? t('favorites.remove') : t('favorites.add'))\n    : t('favorites.loginToAdd');\n\n  return (\n    <div className={styles.favWrapper}>\n      <button\n        className={`${styles.favoriteBtn} ${active ? styles.active : ''} ${!user ? styles.notAuth : ''} ${className || ''}`}\n        onClick={handleClick}\n        disabled={isToggling}\n        title={tooltipText}\n        aria-label={tooltipText}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill={active ? 'currentColor' : 'none'} stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\" />\n        </svg>\n      </button>\n      {showTooltip && (\n        <div className={`${styles.loginTooltip} ${tooltipPosition === 'top' ? styles.loginTooltipTop : ''}`}>\n          {t('favorites.loginToAdd')}\n        </div>\n      )}\n    </div>\n  );\n};\n","import DOMPurify from 'dompurify';\n\n/**\n * Sanitize HTML string to prevent XSS attacks.\n * Used as a wrapper around dangerouslySetInnerHTML.\n */\nexport const sanitizeHtml = (dirty: string | undefined | null): string => {\n  if (!dirty) return '';\n  return DOMPurify.sanitize(dirty, {\n    ALLOWED_TAGS: [\n      'b', 'i', 'em', 'strong', 'u', 's', 'br', 'p', 'span', 'div',\n      'ul', 'ol', 'li', 'a', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n      'table', 'thead', 'tbody', 'tr', 'th', 'td', 'img', 'sup', 'sub',\n    ],\n    ALLOWED_ATTR: ['href', 'target', 'rel', 'class', 'style', 'src', 'alt', 'title'],\n  });\n};\n","import { fetcher } from '../http/fetcher';\n\nexport const patchesApi = {\n  getPatches: () => \n    fetcher('/patches'),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__z3RwH\",\"cinematicBanner\":\"styles_cinematicBanner__4mIie\",\"bannerImage\":\"styles_bannerImage__n17hB\",\"kenBurns\":\"styles_kenBurns__VWZ0s\",\"bannerImageLoaded\":\"styles_bannerImageLoaded__U3ZZv\",\"bannerOverlay\":\"styles_bannerOverlay__bO-pR\",\"bannerContent\":\"styles_bannerContent__1Mlkl\",\"bannerInfoCard\":\"styles_bannerInfoCard__hoPmD\",\"bannerNameRow\":\"styles_bannerNameRow__sTisp\",\"bannerHeroName\":\"styles_bannerHeroName__kS1jU\",\"bannerRoleTags\":\"styles_bannerRoleTags__34HXI\",\"bannerRoleTag\":\"styles_bannerRoleTag__SaWSb\",\"bannerRoles\":\"styles_bannerRoles__CQp5i\",\"bannerDescription\":\"styles_bannerDescription__ZrhME\",\"bannerPortraitWrapper\":\"styles_bannerPortraitWrapper__0rlvs\",\"abilityRings\":\"styles_abilityRings__12BqI\",\"bannerPortrait\":\"styles_bannerPortrait__ZccD-\",\"bannerGradientLine\":\"styles_bannerGradientLine__QVY8a\",\"gradientShift\":\"styles_gradientShift__1N59u\",\"statsStrip\":\"styles_statsStrip__fVJsS\",\"statsStripLeft\":\"styles_statsStripLeft__nEmLY\",\"statsStripRight\":\"styles_statsStripRight__cB0Ax\",\"statPill\":\"styles_statPill__g+f61\",\"statPillValue\":\"styles_statPillValue__qvDud\",\"statPillLabel\":\"styles_statPillLabel__eQ+Pa\",\"statPillGrowth\":\"styles_statPillGrowth__kQRo+\",\"tagGroup\":\"styles_tagGroup__VCMCb\",\"tagGroupLabel\":\"styles_tagGroupLabel__ITcMk\",\"tagPill\":\"styles_tagPill__JuFsm\",\"heroHeader\":\"styles_heroHeader__igQw5\",\"heroHeaderContent\":\"styles_heroHeaderContent__44qUY\",\"heroImageWrapper\":\"styles_heroImageWrapper__Tk38A\",\"heroPainting\":\"styles_heroPainting__23kHx\",\"heroImage\":\"styles_heroImage__zEooC\",\"heroPortrait\":\"styles_heroPortrait__OhwwG\",\"shimmer\":\"styles_shimmer__CgrhW\",\"heroSidebar\":\"styles_heroSidebar__rMb1z\",\"sidebarHeroName\":\"styles_sidebarHeroName__agqFX\",\"sidebarHeroNameRow\":\"styles_sidebarHeroNameRow__tLNFs\",\"sidebarHeroRole\":\"styles_sidebarHeroRole__RiCDr\",\"heroVitals\":\"styles_heroVitals__3H2fx\",\"vitalBar\":\"styles_vitalBar__GtYXF\",\"vitalValue\":\"styles_vitalValue__biyQL\",\"vitalGrowth\":\"styles_vitalGrowth__yob5y\",\"heroMainInfo\":\"styles_heroMainInfo__4X05n\",\"heroTitleSection\":\"styles_heroTitleSection__H07cm\",\"heroTitle\":\"styles_heroTitle__b-1uS\",\"heroMeta\":\"styles_heroMeta__Vwyyd\",\"heroAttribute\":\"styles_heroAttribute__nACJE\",\"attributeIcon\":\"styles_attributeIcon__PVa0p\",\"heroStats\":\"styles_heroStats__og4d1\",\"quickStat\":\"styles_quickStat__yXNPT\",\"statIcon\":\"styles_statIcon__0KSXO\",\"statInfo\":\"styles_statInfo__HaCBl\",\"statLabel\":\"styles_statLabel__UJtyZ\",\"statValue\":\"styles_statValue__UsSEv\",\"contentSection\":\"styles_contentSection__EVoKf\",\"statsGrid\":\"styles_statsGrid__HOt8b\",\"statsTable\":\"styles_statsTable__RsgSV\",\"statsTableRow\":\"styles_statsTableRow__ZmLeO\",\"statsTableCell\":\"styles_statsTableCell__AB9WM\",\"fullWidthCell\":\"styles_fullWidthCell__u9-xx\",\"statName\":\"styles_statName__A5gLG\",\"statValueLarge\":\"styles_statValueLarge__eTNO4\",\"heroDetailsGrid\":\"styles_heroDetailsGrid__n9-g1\",\"detailItem\":\"styles_detailItem__exTYY\",\"detailLabel\":\"styles_detailLabel__+kRjb\",\"detailValue\":\"styles_detailValue__4r8VE\",\"statCard\":\"styles_statCard__WgyPP\",\"statCardTitle\":\"styles_statCardTitle__1RQTy\",\"attributesRow\":\"styles_attributesRow__GOA5U\",\"attributeCard\":\"styles_attributeCard__tKyfn\",\"attrIcon\":\"styles_attrIcon__dnV4p\",\"attrName\":\"styles_attrName__GpSlm\",\"attrValue\":\"styles_attrValue__hJ1Va\",\"attrGrowth\":\"styles_attrGrowth__8UsIO\",\"statsList\":\"styles_statsList__r1Ju4\",\"statItem\":\"styles_statItem__esPxQ\",\"basicInfoGrid\":\"styles_basicInfoGrid__P444z\",\"infoCard\":\"styles_infoCard__iMXed\",\"infoIcon\":\"styles_infoIcon__ubc+7\",\"infoLabel\":\"styles_infoLabel__ezFFo\",\"infoValue\":\"styles_infoValue__QAAun\",\"ratingsGrid\":\"styles_ratingsGrid__pdB4w\",\"ratingsContainer\":\"styles_ratingsContainer__gekne\",\"ratingsTable\":\"styles_ratingsTable__drr0z\",\"ratingRow\":\"styles_ratingRow__wda7r\",\"ratingInfo\":\"styles_ratingInfo__N9YHl\",\"ratingName\":\"styles_ratingName__guxYG\",\"ratingDescription\":\"styles_ratingDescription__8a-VR\",\"ratingData\":\"styles_ratingData__Fa-iU\",\"ratingPercentage\":\"styles_ratingPercentage__JBlTE\",\"ratingBar\":\"styles_ratingBar__6m9Sc\",\"ratingBarFill\":\"styles_ratingBarFill__5tAFp\",\"ratingCard\":\"styles_ratingCard__ElEkw\",\"ratingHeader\":\"styles_ratingHeader__EZ1Xy\",\"ratingIcon\":\"styles_ratingIcon__Dl8Fn\",\"ratingLabel\":\"styles_ratingLabel__cJeb5\",\"sidebarDescription\":\"styles_sidebarDescription__PtSXT\",\"sidebarSpecialty\":\"styles_sidebarSpecialty__3C6E0\",\"sidebarSpecialtyLabel\":\"styles_sidebarSpecialtyLabel__zaxxL\",\"specialtyTags\":\"styles_specialtyTags__zcf3d\",\"specialtyTag\":\"styles_specialtyTag__AMvAv\",\"sidebarInfo\":\"styles_sidebarInfo__7Ajok\",\"sidebarInfoLabel\":\"styles_sidebarInfoLabel__ArqSQ\",\"sidebarInfoValue\":\"styles_sidebarInfoValue__01wc+\",\"ratingValueWrapper\":\"styles_ratingValueWrapper__SD7BV\",\"ratingValue\":\"styles_ratingValue__iXqUE\",\"ratingBadge\":\"styles_ratingBadge__hBXAb\",\"high\":\"styles_high__qJs53\",\"medium-high\":\"styles_medium-high__2wo0f\",\"medium\":\"styles_medium__Nf67F\",\"low\":\"styles_low__LGzB-\",\"progressBar\":\"styles_progressBar__kUNqx\",\"progressFill\":\"styles_progressFill__8p-UZ\",\"slide\":\"styles_slide__E1HRU\",\"statsSummary\":\"styles_statsSummary__Nv3tj\",\"summaryTitle\":\"styles_summaryTitle__Lt5Au\",\"summaryContent\":\"styles_summaryContent__4hUvZ\",\"summaryItem\":\"styles_summaryItem__0GIRc\",\"summaryIcon\":\"styles_summaryIcon__-Iikz\",\"loader\":\"styles_loader__klLJF\",\"error\":\"styles_error__Qn+go\",\"skillCard\":\"styles_skillCard__YZnTn\",\"transformed\":\"styles_transformed__unZS9\",\"skillType\":\"styles_skillType__ZmETU\",\"skillTabs\":\"styles_skillTabs__9EjFs\",\"skillTab\":\"styles_skillTab__bviow\",\"skillTabActive\":\"styles_skillTabActive__vVV51\",\"skillTabBadge\":\"styles_skillTabBadge__NtzQJ\",\"passive\":\"styles_passive__KKVyc\",\"active\":\"styles_active__YJjxR\",\"skillTabTransformed\":\"styles_skillTabTransformed__lNhNH\",\"transformButton\":\"styles_transformButton__WuflR\",\"transformIndex\":\"styles_transformIndex__lDbDO\",\"heroMainContent\":\"styles_heroMainContent__NTNdh\",\"heroName\":\"styles_heroName__kKeTl\",\"heroDescription\":\"styles_heroDescription__f6Ofn\",\"heroMetaTags\":\"styles_heroMetaTags__oVIk0\",\"metaTag\":\"styles_metaTag__Wu8Rw\",\"metaTagLabel\":\"styles_metaTagLabel__++L57\",\"metaTagValue\":\"styles_metaTagValue__7PeNQ\",\"heroRoles\":\"styles_heroRoles__+Lwp0\",\"heroBackgroundImage\":\"styles_heroBackgroundImage__BiOzB\",\"tabsNavigation\":\"styles_tabsNavigation__1YuyU\",\"tabButton\":\"styles_tabButton__U633C\",\"tabButtonActive\":\"styles_tabButtonActive__JfhOu\",\"tabContent\":\"styles_tabContent__SMMFg\",\"comingSoon\":\"styles_comingSoon__y0vOj\",\"descriptionSection\":\"styles_descriptionSection__eIsmM\",\"descriptionTitle\":\"styles_descriptionTitle__gEmA+\",\"descriptionText\":\"styles_descriptionText__V+VVA\",\"descriptionTextCollapsed\":\"styles_descriptionTextCollapsed__3L0LY\",\"showMoreButton\":\"styles_showMoreButton__B6T0P\",\"abilityShow\":\"styles_abilityShow__eG-pX\",\"performanceRatings\":\"styles_performanceRatings__Lriff\",\"sectionTitle\":\"styles_sectionTitle__Q0HSN\",\"ratingCardHeader\":\"styles_ratingCardHeader__euY0g\",\"ratingCardName\":\"styles_ratingCardName__YRK92\",\"ratingCardValue\":\"styles_ratingCardValue__7jqaU\",\"ratingCardDescription\":\"styles_ratingCardDescription__M6Hte\",\"abilityShowTitle\":\"styles_abilityShowTitle__rrOh7\",\"abilityShowGrid\":\"styles_abilityShowGrid__tg7iF\",\"abilityShowItem\":\"styles_abilityShowItem__5lRrh\",\"abilityShowLabel\":\"styles_abilityShowLabel__pEZtd\",\"abilityShowBarWrapper\":\"styles_abilityShowBarWrapper__2vTtT\",\"abilityShowBar\":\"styles_abilityShowBar__Tob3a\",\"abilityShowFill\":\"styles_abilityShowFill__5P+Cy\",\"abilityShowValue\":\"styles_abilityShowValue__1ImRk\",\"relationshipSection\":\"styles_relationshipSection__PEjIT\",\"relationshipMainTitle\":\"styles_relationshipMainTitle__Bx0PB\",\"relationshipTabs\":\"styles_relationshipTabs__YZYJE\",\"relationshipTab\":\"styles_relationshipTab__y9HtS\",\"relationshipTabActive\":\"styles_relationshipTabActive__vz1wk\",\"relationshipContent\":\"styles_relationshipContent__CcWhH\",\"comparisonBlock\":\"styles_comparisonBlock__8ge8M\",\"heroComparison\":\"styles_heroComparison__u9ftH\",\"heroComparisonSide\":\"styles_heroComparisonSide__aZNTO\",\"leftAvatar\":\"styles_leftAvatar__9MvTe\",\"rightAvatar\":\"styles_rightAvatar__ZzzHl\",\"heroComparisonDivider\":\"styles_heroComparisonDivider__jj8LD\",\"comparisonWinRate\":\"styles_comparisonWinRate__Zxc8F\",\"winRateNumber\":\"styles_winRateNumber__YNyoI\",\"left\":\"styles_left__h501p\",\"right\":\"styles_right__4eyDd\",\"winRateLabel\":\"styles_winRateLabel__C1FmK\",\"comparisonDesc\":\"styles_comparisonDesc__Wrx1X\",\"counterList\":\"styles_counterList__i23Ze\",\"counterListHeader\":\"styles_counterListHeader__L4HQA\",\"counterListItem\":\"styles_counterListItem__R8KBe\",\"counterListRank\":\"styles_counterListRank__SsdxC\",\"counterListImage\":\"styles_counterListImage__4YvU2\",\"counterListScore\":\"styles_counterListScore__5ghpw\",\"counterListInfo\":\"styles_counterListInfo__zPaPH\",\"counterListName\":\"styles_counterListName__cJKIa\",\"counterListBar\":\"styles_counterListBar__JSs9v\",\"counterListBarFill\":\"styles_counterListBarFill__UNe47\",\"comparisonHeroImage\":\"styles_comparisonHeroImage__mfU0S\",\"historySection\":\"styles_historySection__bZ6gX\",\"historyHeader\":\"styles_historyHeader__BLgJX\",\"historySectionTitle\":\"styles_historySectionTitle__KDkPR\",\"historySectionDesc\":\"styles_historySectionDesc__hElfe\",\"viewAllPatchesBtn\":\"styles_viewAllPatchesBtn__W3fno\",\"patchesTimeline\":\"styles_patchesTimeline__D5KQm\",\"patchCard\":\"styles_patchCard__D7Rub\",\"patchHeader\":\"styles_patchHeader__CxdJQ\",\"patchVersion\":\"styles_patchVersion__I2Q3z\",\"patchVersionLabel\":\"styles_patchVersionLabel__mbiw6\",\"patchVersionNumber\":\"styles_patchVersionNumber__QGN0+\",\"patchDate\":\"styles_patchDate__EWwqK\",\"patchSummary\":\"styles_patchSummary__5ytU3\",\"skillChanges\":\"styles_skillChanges__jNXpx\",\"skillChange\":\"styles_skillChange__a9HBX\",\"skillHeader\":\"styles_skillHeader__kQR1P\",\"skillName\":\"styles_skillName__Xcvs5\",\"skillNameText\":\"styles_skillNameText__4F945\",\"balanceBadge\":\"styles_balanceBadge__Aw6ev\",\"changesList\":\"styles_changesList__RrpG7\",\"changeItem\":\"styles_changeItem__iGa1Q\",\"patchLink\":\"styles_patchLink__6eRTU\",\"noHistoryData\":\"styles_noHistoryData__996KA\",\"skillsSection\":\"styles_skillsSection__D61mt\",\"skillsContainer\":\"styles_skillsContainer__DdeJ6\",\"skillDetail\":\"styles_skillDetail__W5VKH\",\"skillDetailHeader\":\"styles_skillDetailHeader__P6uAH\",\"skillDetailInfo\":\"styles_skillDetailInfo__7gaWw\",\"skillDetailName\":\"styles_skillDetailName__+x+ld\",\"skillBadges\":\"styles_skillBadges__uW-8T\",\"effectTypeBadge\":\"styles_effectTypeBadge__RWHaD\",\"skillStatsInline\":\"styles_skillStatsInline__CgDtp\",\"skillStatInline\":\"styles_skillStatInline__OVr8y\",\"skillDetailDescription\":\"styles_skillDetailDescription__2Gjv+\",\"levelScaling\":\"styles_levelScaling__vW8Hf\",\"levelScalingTable\":\"styles_levelScalingTable__4yeQ9\",\"paramName\":\"styles_paramName__yD9Bz\",\"pbContainer\":\"styles_pbContainer__BOQqe\",\"pbCount\":\"styles_pbCount__AO8A6\",\"pbCard\":\"styles_pbCard__k5zKa\",\"pbCardTop\":\"styles_pbCardTop__R05ce\",\"pbRankGold\":\"styles_pbRankGold__-zS+F\",\"pbRankSilver\":\"styles_pbRankSilver__K3tz7\",\"pbRankBronze\":\"styles_pbRankBronze__zRLXW\",\"pbItemsRow\":\"styles_pbItemsRow__ZjIvo\",\"pbItem\":\"styles_pbItem__WcF6m\",\"pbItemImg\":\"styles_pbItemImg__H6edE\",\"pbItemEmpty\":\"styles_pbItemEmpty__KUUuT\",\"pbItemLabel\":\"styles_pbItemLabel__P3gAD\",\"pbItemArrow\":\"styles_pbItemArrow__QUuYx\",\"pbItemDivider\":\"styles_pbItemDivider__4refH\",\"pbItemOptional\":\"styles_pbItemOptional__yeW3f\",\"pbSetupRow\":\"styles_pbSetupRow__vKTX-\",\"pbSetupGroup\":\"styles_pbSetupGroup__Af6Hn\",\"pbSetupGroupLabel\":\"styles_pbSetupGroupLabel__TydgP\",\"pbSetupGroupItems\":\"styles_pbSetupGroupItems__FPmkP\",\"pbSetupDivider\":\"styles_pbSetupDivider__a-4ue\",\"pbSetupItem\":\"styles_pbSetupItem__iXLkC\",\"pbSetupItemEmblem\":\"styles_pbSetupItemEmblem__Trdeo\",\"pbSetupIcon\":\"styles_pbSetupIcon__Cszoh\",\"pbSetupLabel\":\"styles_pbSetupLabel__Sb4Xt\",\"pbTalentsList\":\"styles_pbTalentsList__6Zl8S\",\"pbShowMore\":\"styles_pbShowMore__Uryt4\",\"pbSkeletonCard\":\"styles_pbSkeletonCard__RKljN\",\"pbPulse\":\"styles_pbPulse__57cPi\",\"pbSkeletonItemsRow\":\"styles_pbSkeletonItemsRow__cWeF7\",\"pbSkeletonItem\":\"styles_pbSkeletonItem__w+IsN\",\"pbSkeletonItemIcon\":\"styles_pbSkeletonItemIcon__MO4yS\",\"pbSkeletonItemLabel\":\"styles_pbSkeletonItemLabel__dHUa7\",\"pbSkeletonArrow\":\"styles_pbSkeletonArrow__8rgJF\",\"pbSkeletonSetupRow\":\"styles_pbSkeletonSetupRow__aX-Er\",\"pbSkeletonSetupItem\":\"styles_pbSkeletonSetupItem__ObgZx\",\"pbSkeletonSetupIcon\":\"styles_pbSkeletonSetupIcon__Vq3r4\",\"cbContainer\":\"styles_cbContainer__B6CBe\",\"cbSection\":\"styles_cbSection__M9yYq\",\"cbSectionHeader\":\"styles_cbSectionHeader__kJOXm\",\"cbCreateBtn\":\"styles_cbCreateBtn__3HAnc\",\"cbEmpty\":\"styles_cbEmpty__LMZqC\",\"cbLoginPrompt\":\"styles_cbLoginPrompt__ssZLg\",\"tooltipFade\":\"styles_tooltipFade__VnSjZ\",\"cbCard\":\"styles_cbCard__n+1mP\",\"cbCardHeader\":\"styles_cbCardHeader__n2-VQ\",\"cbCardTitle\":\"styles_cbCardTitle__uACHD\",\"cbAuthor\":\"styles_cbAuthor__Spj24\",\"cbAuthorPic\":\"styles_cbAuthorPic__HH3sM\",\"cbCardActions\":\"styles_cbCardActions__0WULW\",\"cbActionBtn\":\"styles_cbActionBtn__Or+iL\",\"cbNotes\":\"styles_cbNotes__sH1B3\",\"cbOverlay\":\"styles_cbOverlay__b4lcl\",\"cbModal\":\"styles_cbModal__YwDBT\",\"cbModalHeader\":\"styles_cbModalHeader__3OqKx\",\"cbCloseBtn\":\"styles_cbCloseBtn__xX-TO\",\"cbFormBody\":\"styles_cbFormBody__77yI+\",\"cbFormGroup\":\"styles_cbFormGroup__QF58u\",\"cbInput\":\"styles_cbInput__oTPoi\",\"cbTextarea\":\"styles_cbTextarea__xg9hd\",\"cbSelectedItems\":\"styles_cbSelectedItems__3LgbS\",\"cbSlot\":\"styles_cbSlot__e6QQG\",\"cbSlotFilled\":\"styles_cbSlotFilled__4u4x5\",\"cbItemGrid\":\"styles_cbItemGrid__zsYzO\",\"cbItemPick\":\"styles_cbItemPick__eJlJk\",\"cbItemPicked\":\"styles_cbItemPicked__iYkr-\",\"cbSpellRow\":\"styles_cbSpellRow__JhkDM\",\"cbSpellPick\":\"styles_cbSpellPick__0vW2C\",\"cbSpellPicked\":\"styles_cbSpellPicked__ixWUL\",\"cbEmblemRow\":\"styles_cbEmblemRow__BHCsl\",\"cbEmblemPick\":\"styles_cbEmblemPick__Io2Po\",\"cbEmblemPicked\":\"styles_cbEmblemPicked__hGh7D\",\"cbTalentTier\":\"styles_cbTalentTier__JLzkW\",\"cbTalentTierLabel\":\"styles_cbTalentTierLabel__GVDQy\",\"cbTalentRow\":\"styles_cbTalentRow__jzbR2\",\"cbTalentPick\":\"styles_cbTalentPick__tTK20\",\"cbTalentPicked\":\"styles_cbTalentPicked__JnGsN\",\"cbModalFooter\":\"styles_cbModalFooter__XVlOk\",\"cbCancelBtn\":\"styles_cbCancelBtn__y-r8I\",\"cbSaveBtn\":\"styles_cbSaveBtn__8he0B\",\"pbSkeletonSetupLabel\":\"styles_pbSkeletonSetupLabel__UCuwj\",\"lightboxOverlay\":\"styles_lightboxOverlay__HPEu+\",\"lightboxFadeIn\":\"styles_lightboxFadeIn__vRccd\",\"lightboxClose\":\"styles_lightboxClose__gpe64\",\"lightboxImage\":\"styles_lightboxImage__z9VNM\",\"lightboxZoomIn\":\"styles_lightboxZoomIn__RdaSx\"};","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { TabsNavigationProps } from './interface';\nimport styles from '../styles.module.scss';\n\nconst InfoIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 16v-4\"/><path d=\"M12 8h.01\"/>\n  </svg>\n);\n\nconst BuildsIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\"/>\n  </svg>\n);\n\nconst CounterIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\"/>\n  </svg>\n);\n\nconst SynergyIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M22 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\n  </svg>\n);\n\nconst AboutIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20\"/>\n  </svg>\n);\n\nconst HistoryIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\"/><polyline points=\"12 6 12 12 16 14\"/>\n  </svg>\n);\n\nconst TABS = [\n  { key: 'info', Icon: InfoIcon, label: 'heroDetail.baseInformation' },\n  { key: 'builds', Icon: BuildsIcon, label: 'heroDetail.proBuilds' },\n  { key: 'counter', Icon: CounterIcon, label: 'heroDetail.counters' },\n  { key: 'synergy', Icon: SynergyIcon, label: 'heroDetail.bestWith' },\n  { key: 'about', Icon: AboutIcon, label: 'heroDetail.aboutTab' },\n  { key: 'history', Icon: HistoryIcon, label: 'heroDetail.statsHistory' },\n] as const;\n\nexport const TabsNavigation: React.FC<TabsNavigationProps> = React.memo(({ activeTab, onTabChange }) => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.tabsNavigation}>\n      {TABS.map(({ key, Icon, label }) => (\n        <button\n          key={key}\n          className={`${styles.tabButton} ${activeTab === key ? styles.tabButtonActive : ''}`}\n          onClick={() => onTabChange(key)}\n        >\n          <Icon />\n          <span>{t(label)}</span>\n        </button>\n      ))}\n    </div>\n  );\n});\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { SkillsSectionProps } from './interface';\nimport { getSkillName, getSkillDescription } from '../../../utils/translation';\nimport { sanitizeHtml } from '../../../utils/sanitize';\nimport styles from '../styles.module.scss';\n\nexport const SkillsSection: React.FC<SkillsSectionProps> = React.memo(({ \n  displaySkills, \n  selectedSkillIndex, \n  selectedSkill,\n  maxTransforms,\n  transformIndex,\n  changedIndices,\n  onSkillSelect,\n  onTransformCycle \n}) => {\n  const { t, i18n } = useTranslation();\n  if (displaySkills.length === 0) return null;\n\n  return (\n    <div className={styles.skillsSection}>\n      <h2 className={styles.sectionTitle}>{t('heroDetail.abilities')}</h2>\n      \n      <div className={styles.skillsContainer}>\n        {/* Skill Tabs */}\n        <div className={styles.skillTabs}>\n          {displaySkills.map((skill, index) => (\n            <div \n              key={skill.id} \n              className={`${styles.skillTab} ${selectedSkillIndex === index ? styles.skillTabActive : ''} ${changedIndices.has(index) ? styles.skillTabTransformed : ''}`}\n              onClick={() => onSkillSelect(index)}\n            >\n              {skill.image && (\n                <img src={skill.image} alt={getSkillName(skill, i18n.language)} />\n              )}\n              {skill.skill_type && (\n                <div className={`${styles.skillTabBadge} ${styles[skill.skill_type]}`}>\n                  {skill.skill_type === 'passive' ? 'P' : 'A'}\n                </div>\n              )}\n              {changedIndices.has(index) && (\n                <div className={styles.skillTabChangedDot} />\n              )}\n            </div>\n          ))}\n          {maxTransforms > 0 && (\n            <button\n              onClick={onTransformCycle}\n              className={`${styles.transformButton} ${transformIndex > 0 ? styles.transformButtonActive : ''}`}\n              title={transformIndex === 0 ? t('heroDetail.showTransformation') : t('heroDetail.transformation', { index: transformIndex })}\n            >\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\" fill=\"currentColor\"/>\n              </svg>\n              {transformIndex > 0 && <span className={styles.transformIndex}>{transformIndex}</span>}\n            </button>\n          )}\n        </div>\n\n        {/* Selected Skill Detail */}\n        {selectedSkill && (\n          <div className={styles.skillDetail}>\n            <div className={styles.skillDetailHeader}>\n              <div className={styles.skillDetailInfo}>\n                <h3 className={styles.skillDetailName}>{getSkillName(selectedSkill, i18n.language)}</h3>\n                \n                {/* Effect Types badges */}\n                <div className={styles.skillBadges}>\n                  {selectedSkill.effect_types && selectedSkill.effect_types.length > 0 && (\n                    selectedSkill.effect_types.map((effectType, idx) => {\n                      const displayType = typeof effectType === 'string' \n                        ? effectType \n                        : ((effectType as Record<string, unknown>)?.name as string || JSON.stringify(effectType));\n                      return (\n                        <div key={idx} className={styles.effectTypeBadge}>\n                          {displayType}\n                        </div>\n                      );\n                    })\n                  )}\n                </div>\n                \n                {/* Skill Parameters */}\n                {selectedSkill.skill_parameters && Object.entries(selectedSkill.skill_parameters).length > 0 && (\n                  <div className={styles.skillStatsInline}>\n                    {Object.entries(selectedSkill.skill_parameters).map(([key, value]) => {\n                      if (typeof value === 'object' && value !== null && 'name' in value) {\n                        return null;\n                      }\n                      \n                      let displayValue: string;\n                      if (typeof value === 'object' && value !== null && 'levels' in value && Array.isArray((value as Record<string, unknown>).levels)) {\n                        displayValue = ((value as Record<string, unknown>).levels as string[]).join(' / ');\n                      } else {\n                        displayValue = String(value);\n                      }\n                      \n                      return (\n                        <span key={key} className={styles.skillStatInline}>\n                          {key}: {displayValue}\n                        </span>\n                      );\n                    })}\n                  </div>\n                )}\n\n                {(selectedSkill.skill_description || selectedSkill.skill_description_uk) && (\n                  <div \n                    className={styles.skillDetailDescription}\n                    dangerouslySetInnerHTML={{ __html: sanitizeHtml(getSkillDescription(selectedSkill, i18n.language)) }}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { InfoTabProps } from './interface';\nimport styles from '../styles.module.scss';\n\nexport const InfoTab: React.FC<InfoTabProps> = React.memo(({ hero, abilitiesLabel, getRatingLevel }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.contentSection}>\n      {/* Performance Ratings */}\n      {(hero.main_hero_appearance_rate || hero.main_hero_ban_rate || hero.main_hero_win_rate) && (\n        <div className={styles.performanceRatings}>\n          <h3 className={styles.sectionTitle}>{t('heroDetail.performanceStats')}</h3>\n          <div className={styles.ratingsGrid}>\n            {hero.main_hero_appearance_rate && (\n              <div className={styles.ratingCard}>\n                <div className={styles.ratingCardHeader}>\n                  <span className={styles.ratingCardName}>{t('heroDetail.appearanceRate')}</span>\n                  <span className={styles.ratingCardValue}>{hero.main_hero_appearance_rate.toFixed(2)}%</span>\n                </div>\n                <div className={styles.ratingBar}>\n                  <div\n                    className={styles.ratingBarFill}\n                    style={{ width: `${Math.min(hero.main_hero_appearance_rate, 100)}%` }}\n                    data-level={getRatingLevel(hero.main_hero_appearance_rate).color}\n                  />\n                </div>\n                <span className={styles.ratingCardDescription}>{t('heroDetail.pickFrequency')}</span>\n              </div>\n            )}\n\n            {hero.main_hero_ban_rate && (\n              <div className={styles.ratingCard}>\n                <div className={styles.ratingCardHeader}>\n                  <span className={styles.ratingCardName}>{t('heroDetail.banRate')}</span>\n                  <span className={styles.ratingCardValue}>{hero.main_hero_ban_rate.toFixed(2)}%</span>\n                </div>\n                <div className={styles.ratingBar}>\n                  <div\n                    className={styles.ratingBarFill}\n                    style={{ width: `${Math.min(hero.main_hero_ban_rate, 100)}%` }}\n                    data-level={getRatingLevel(hero.main_hero_ban_rate).color}\n                  />\n                </div>\n                <span className={styles.ratingCardDescription}>{t('heroDetail.howOftenBanned')}</span>\n              </div>\n            )}\n\n            {hero.main_hero_win_rate && (\n              <div className={styles.ratingCard}>\n                <div className={styles.ratingCardHeader}>\n                  <span className={styles.ratingCardName}>{t('heroDetail.winRate')}</span>\n                  <span className={styles.ratingCardValue}>{hero.main_hero_win_rate.toFixed(2)}%</span>\n                </div>\n                <div className={styles.ratingBar}>\n                  <div\n                    className={styles.ratingBarFill}\n                    style={{ width: `${Math.min(hero.main_hero_win_rate, 100)}%` }}\n                    data-level={getRatingLevel(hero.main_hero_win_rate).color}\n                  />\n                </div>\n                <span className={styles.ratingCardDescription}>{t('heroDetail.gamesWonPercentage')}</span>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Stats Table */}\n      <div className={styles.statsTable}>\n        <div className={styles.statsTableRow}>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.physicalAttack')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.physical_attack || '0'}</span>\n          </div>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.physicalDefense')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.physical_defense || '0'}</span>\n          </div>\n        </div>\n        <div className={styles.statsTableRow}>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.magicPower')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.magic_power ?? '0'}</span>\n          </div>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.magicDefense')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.magic_defense || '0'}</span>\n          </div>\n        </div>\n        <div className={styles.statsTableRow}>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.attackSpeed')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.attack_speed || '0'}</span>\n          </div>\n          <div className={styles.statsTableCell}>\n            <span className={styles.statName}>{t('heroDetail.movementSpeed')}</span>\n            <span className={styles.statValueLarge}>{hero.hero_stats?.movement_speed || '0'}</span>\n          </div>\n        </div>\n        {hero.hero_stats?.attack_speed_ratio && (\n          <div className={styles.statsTableRow}>\n            <div className={`${styles.statsTableCell} ${styles.fullWidthCell}`}>\n              <span className={styles.statName}>{t('heroDetail.attackSpeedRatio')}</span>\n              <span className={styles.statValueLarge}>{hero.hero_stats.attack_speed_ratio}</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Ability Ratings */}\n      {hero.abilityshow && hero.abilityshow.length > 0 && (\n        <div className={styles.abilityShow}>\n          <h3 className={styles.abilityShowTitle}>{t('heroDetail.abilityRatings')}</h3>\n          <div className={styles.abilityShowGrid}>\n            {hero.abilityshow.map((rating, idx) => (\n              <div key={idx} className={styles.abilityShowItem}>\n                <div className={styles.abilityShowLabel}>{abilitiesLabel[idx]}</div>\n                <div className={styles.abilityShowBarWrapper}>\n                  <div className={styles.abilityShowBar}>\n                    <div\n                      className={styles.abilityShowFill}\n                      style={{ width: `${rating}%` }}\n                    />\n                  </div>\n                  <span className={styles.abilityShowValue}>{rating}</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getHeroName, getHeroFullDescription } from '../../../utils/translation';\nimport { AboutTabProps } from './interface';\nimport styles from '../styles.module.scss';\n\nexport const AboutTab: React.FC<AboutTabProps> = React.memo(({ hero }) => {\n  const { t, i18n } = useTranslation();\n  const [showFullDescription, setShowFullDescription] = useState(false);\n\n  if (!hero.full_description && !hero.full_description_uk) return null;\n\n  const fullDescription = getHeroFullDescription(hero, i18n.language);\n\n  return (\n    <div className={styles.contentSection}>\n      <div className={styles.descriptionSection}>\n        <h3 className={styles.descriptionTitle}>\n          {t('heroDetail.about', { name: getHeroName(hero, i18n.language) })}\n        </h3>\n        <p className={`${styles.descriptionText} ${!showFullDescription ? styles.descriptionTextCollapsed : ''}`}>\n          {fullDescription}\n        </p>\n        {fullDescription.length > 300 && (\n          <button\n            className={styles.showMoreButton}\n            onClick={() => setShowFullDescription(!showFullDescription)}\n          >\n            {showFullDescription ? t('heroDetail.showLess') : t('heroDetail.showMore')}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n});\n","/**\n * Safely parse a value that may be a JSON string or already an object.\n * Returns null if the value is falsy or parsing fails.\n */\nexport const parseMaybeJson = <T,>(value: unknown): T | null => {\n  if (!value) return null;\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value) as T;\n    } catch {\n      return null;\n    }\n  }\n  if (typeof value === 'object') return value as T;\n  return null;\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getHeroName } from '../../../utils/translation';\nimport { parseMaybeJson } from '../../../utils/parseMaybeJson';\nimport { Hero, CounterHero } from '../../../types';\nimport { CounterTabProps, CounterData } from './interface';\nimport styles from '../styles.module.scss';\n\nexport const CounterTab: React.FC<CounterTabProps> = React.memo(({ hero, allHeroes, counterSubTab, setCounterSubTab }) => {\n  const { t, i18n } = useTranslation();\n\n  const findHeroByGameId = (heroId: number) =>\n    allHeroes.find(h => h.hero_game_id === heroId) || allHeroes.find(h => h.id === heroId);\n\n  const heroCounterData = parseMaybeJson<CounterData>(hero.counter_data);\n  if (!heroCounterData) return null;\n\n  const bestCounters = heroCounterData.best_counters || heroCounterData.counters || [];\n  const mostCounteredBy = heroCounterData.most_countered_by || heroCounterData.allies || [];\n\n  const renderComparison = (counterHeroes: CounterHero[], isWorst: boolean) => {\n    if (counterHeroes.length === 0) return null;\n    const topCounter = counterHeroes[0];\n    const counterHeroId = topCounter.heroid ?? topCounter.hero_id;\n    const counterHero = findHeroByGameId(counterHeroId);\n    if (!counterHero) return null;\n\n    const heroWinRateValue = heroCounterData.main_hero_win_rate || 0.5;\n    const heroWinRate = heroWinRateValue < 1 ? heroWinRateValue * 100 : heroWinRateValue;\n    const counterWinRateValue = topCounter.win_rate || 0;\n    const counterWinRate = counterWinRateValue < 1 ? counterWinRateValue * 100 : counterWinRateValue;\n\n    return (\n      <>\n        <div className={styles.heroComparison}>\n          <div className={`${styles.heroComparisonSide} ${styles.left}`}>\n            <img src={hero.head || hero.image} alt={hero.name} className={styles.leftAvatar} />\n            <div className={styles.comparisonWinRate}>\n              <span className={styles.winRateNumber}>{heroWinRate.toFixed(2)}%</span>\n              <span className={styles.winRateLabel}>{t('heroDetail.winRate')}</span>\n            </div>\n          </div>\n          <div className={styles.heroComparisonDivider}></div>\n          <div className={`${styles.heroComparisonSide} ${styles.right}`}>\n            <img src={counterHero.head || counterHero.image} alt={counterHero.name} className={styles.rightAvatar} />\n            <div className={styles.comparisonWinRate}>\n              <span className={styles.winRateNumber}>{counterWinRate.toFixed(2)}%</span>\n              <span className={styles.winRateLabel}>{t('heroDetail.winRate')}</span>\n            </div>\n          </div>\n        </div>\n        <p className={styles.comparisonDesc}>\n          {isWorst\n            ? t('heroDetail.strugglesAgainst', { hero: hero.name })\n            : t('heroDetail.counterComparisonDesc')}\n        </p>\n      </>\n    );\n  };\n\n  const renderList = (counterHeroes: CounterHero[], isBest: boolean) => {\n    return counterHeroes.slice(0, 5).map((counter: CounterHero, idx: number) => {\n      const counterHeroId = counter.heroid ?? counter.hero_id;\n      const counterHero = findHeroByGameId(counterHeroId);\n      if (!counterHero) return null;\n      const raw = counter.increase_win_rate != null ? Math.abs(counter.increase_win_rate) : 0;\n      const increaseWinRate = isBest\n        ? (raw < 1 ? raw * 100 : raw)\n        : (raw !== 0 && raw < 1 ? raw * 100 : raw);\n      return (\n        <Link\n          key={counterHeroId}\n          to={`/${hero.game_id}/heroes/${counterHero.id}`}\n          className={styles.counterListItem}\n        >\n          <div className={styles.counterListRank}>{idx + 1}</div>\n          <img src={counterHero.head || counterHero.image} alt={counterHero.name} className={styles.counterListImage} />\n          <div className={styles.counterListInfo}>\n            <span className={styles.counterListName}>{getHeroName(counterHero, i18n.language)}</span>\n            <div className={styles.counterListBar}>\n              <div className={styles.counterListBarFill} style={{ width: `${Math.min(increaseWinRate / 3 * 100, 100)}%` }} />\n            </div>\n          </div>\n          <span className={styles.counterListScore}>{increaseWinRate.toFixed(2)}</span>\n        </Link>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.contentSection}>\n      <div className={styles.relationshipSection}>\n        <h2 className={styles.relationshipMainTitle}>{t('heroDetail.counterRelationship')}</h2>\n        <div className={styles.relationshipTabs}>\n          <button\n            className={`${styles.relationshipTab} ${counterSubTab === 'best' ? styles.relationshipTabActive : ''}`}\n            onClick={() => setCounterSubTab('best')}\n          >\n            {t('heroDetail.bestCounters')}\n          </button>\n          <button\n            className={`${styles.relationshipTab} ${counterSubTab === 'worst' ? styles.relationshipTabActive : ''}`}\n            onClick={() => setCounterSubTab('worst')}\n          >\n            {t('heroDetail.mostCounteredBy')}\n          </button>\n        </div>\n\n        <div className={styles.relationshipContent}>\n          <div className={styles.comparisonBlock}>\n            {counterSubTab === 'best' && renderComparison(bestCounters, false)}\n            {counterSubTab === 'worst' && renderComparison(mostCounteredBy, true)}\n          </div>\n          <div className={styles.counterList}>\n            <div className={styles.counterListHeader}>\n              <span>{counterSubTab === 'best' ? t('heroDetail.bestCounters') : t('heroDetail.counteredBy')}</span>\n              <span>{t('heroDetail.counterScore')}</span>\n            </div>\n            {counterSubTab === 'best' && renderList(bestCounters, true)}\n            {counterSubTab === 'worst' && renderList(mostCounteredBy, false)}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getHeroName } from '../../../utils/translation';\nimport { parseMaybeJson } from '../../../utils/parseMaybeJson';\nimport { Hero, CompatibilityHero } from '../../../types';\nimport { SynergyTabProps, CompatibilityData } from './interface';\nimport styles from '../styles.module.scss';\n\nexport const SynergyTab: React.FC<SynergyTabProps> = React.memo(({ hero, allHeroes, synergySubTab, setSynergySubTab }) => {\n  const { t, i18n } = useTranslation();\n\n  const findHeroByGameId = (heroId: number) =>\n    allHeroes.find(h => h.hero_game_id === heroId) || allHeroes.find(h => h.id === heroId);\n\n  const heroCompatibilityData = parseMaybeJson<CompatibilityData>(hero.compatibility_data);\n  if (!heroCompatibilityData) return null;\n\n  const renderComparison = (mates: CompatibilityHero[], isIncompatible: boolean) => {\n    if (!mates || mates.length === 0) return null;\n    const topMate = mates[0];\n    const topMateId = topMate.heroid ?? topMate.hero_id;\n    const mateHero = findHeroByGameId(topMateId);\n    if (!mateHero) return null;\n\n    const heroWinRateValue = heroCompatibilityData.main_hero_win_rate || 0.5;\n    const heroWinRate = heroWinRateValue < 1 ? heroWinRateValue * 100 : heroWinRateValue;\n    const teamWinRateValue = topMate.win_rate || 0;\n    const teamWinRate = teamWinRateValue < 1 ? teamWinRateValue * 100 : teamWinRateValue;\n\n    return (\n      <>\n        <div className={styles.heroComparison}>\n          <div className={`${styles.heroComparisonSide} ${styles.left}`}>\n            <img src={hero.head || hero.image} alt={hero.name} className={styles.leftAvatar} />\n            <div className={styles.comparisonWinRate}>\n              <span className={styles.winRateNumber}>{heroWinRate.toFixed(2)}%</span>\n              <span className={styles.winRateLabel}>{t('heroDetail.winRate')}</span>\n            </div>\n          </div>\n          <div className={styles.heroComparisonDivider}></div>\n          <div className={`${styles.heroComparisonSide} ${styles.right}`}>\n            <img src={mateHero.head || mateHero.image} alt={mateHero.name} className={styles.rightAvatar} />\n            <div className={styles.comparisonWinRate}>\n              <span className={styles.winRateNumber}>{teamWinRate.toFixed(2)}%</span>\n              <span className={styles.winRateLabel}>{t('heroDetail.winRate')}</span>\n            </div>\n          </div>\n        </div>\n        <p className={styles.comparisonDesc}>\n          {isIncompatible ? t('heroDetail.teammateScoreLowDesc') : t('heroDetail.teammateScoreDesc')}\n        </p>\n      </>\n    );\n  };\n\n  const renderList = (mates: CompatibilityHero[]) => {\n    if (!mates) return null;\n    return mates.slice(0, 5).map((mate: CompatibilityHero, idx: number) => {\n      const mateId = mate.heroid ?? mate.hero_id;\n      const mateHero = findHeroByGameId(mateId);\n      if (!mateHero) return null;\n      const increaseWinRate = mate.increase_win_rate != null\n        ? (Math.abs(mate.increase_win_rate) < 1 ? Math.abs(mate.increase_win_rate) * 100 : Math.abs(mate.increase_win_rate))\n        : 0;\n      return (\n        <Link\n          key={mateId ?? mate.heroid}\n          to={`/${hero.game_id}/heroes/${mateHero.id}`}\n          className={styles.counterListItem}\n        >\n          <div className={styles.counterListRank}>{idx + 1}</div>\n          <img src={mateHero.head || mateHero.image} alt={mateHero.name} className={styles.counterListImage} />\n          <div className={styles.counterListInfo}>\n            <span className={styles.counterListName}>{getHeroName(mateHero, i18n.language)}</span>\n            <div className={styles.counterListBar}>\n              <div className={styles.counterListBarFill} style={{ width: `${Math.min(increaseWinRate / 3 * 100, 100)}%` }} />\n            </div>\n          </div>\n          <span className={styles.counterListScore}>{increaseWinRate.toFixed(2)}</span>\n        </Link>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.contentSection}>\n      <div className={styles.relationshipSection}>\n        <h2 className={styles.relationshipMainTitle}>{t('heroDetail.compatibility')}</h2>\n        <div className={styles.relationshipTabs}>\n          <button\n            className={`${styles.relationshipTab} ${synergySubTab === 'compatible' ? styles.relationshipTabActive : ''}`}\n            onClick={() => setSynergySubTab('compatible')}\n          >\n            {t('heroDetail.compatibility')}\n          </button>\n          <button\n            className={`${styles.relationshipTab} ${synergySubTab === 'incompatible' ? styles.relationshipTabActive : ''}`}\n            onClick={() => setSynergySubTab('incompatible')}\n          >\n            {t('heroDetail.notCompatible')}\n          </button>\n        </div>\n\n        <div className={styles.relationshipContent}>\n          <div className={styles.comparisonBlock}>\n            {synergySubTab === 'compatible' && renderComparison(heroCompatibilityData.compatible || [], false)}\n            {synergySubTab === 'incompatible' && renderComparison(heroCompatibilityData.not_compatible || [], true)}\n          </div>\n          <div className={styles.counterList}>\n            <div className={styles.counterListHeader}>\n              <span>{synergySubTab === 'compatible' ? t('heroDetail.bestTeammates') : t('heroDetail.worstTeammates')}</span>\n              <span>{t('heroDetail.teammateScore')}</span>\n            </div>\n            {synergySubTab === 'compatible' && renderList(heroCompatibilityData.compatible || [])}\n            {synergySubTab === 'incompatible' && renderList(heroCompatibilityData.not_compatible || [])}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { sanitizeHtml } from '../../../utils/sanitize';\nimport { HistoryTabProps } from './interface';\nimport type { Patch, SkillChange } from '../../../types';\nimport styles from '../styles.module.scss';\n\nexport const HistoryTab: React.FC<HistoryTabProps> = React.memo(({ hero, heroPatches }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.contentSection}>\n      <div className={styles.historySection}>\n        <div className={styles.historyHeader}>\n          <div>\n            <h2 className={styles.historySectionTitle}>{t('heroDetail.balanceHistory')}</h2>\n            <p className={styles.historySectionDesc}>\n              {t('heroDetail.balanceHistoryDesc', { hero: hero.name })}\n            </p>\n          </div>\n          <Link to={`/${hero.game_id}/patches`} className={styles.viewAllPatchesBtn}>\n            {t('heroDetail.viewAllPatches')}\n          </Link>\n        </div>\n\n        {heroPatches.length > 0 ? (\n          <div className={styles.patchesTimeline}>\n            {heroPatches.map((patch: Patch) => {\n              const heroChange = patch.hero_changes?.[hero.name];\n              const heroAdjustment = patch.hero_adjustments?.[hero.name];\n\n              if (!heroChange && !heroAdjustment) return null;\n\n              return (\n                <div key={patch.version} className={styles.patchCard}>\n                  <div className={styles.patchHeader}>\n                    <div className={styles.patchVersion}>\n                      <span className={styles.patchVersionLabel}>{t('heroDetail.version')}</span>\n                      <span className={styles.patchVersionNumber}>{patch.version}</span>\n                    </div>\n                    <div className={styles.patchDate}>\n                      {new Date(patch.release_date).toLocaleDateString('en-US', {\n                        year: 'numeric',\n                        month: 'short',\n                        day: 'numeric',\n                      })}\n                    </div>\n                  </div>\n\n                  {/* Summary/Description */}\n                  {(heroChange?.summary || heroAdjustment?.summary || heroAdjustment?.description) && (\n                    <div className={styles.patchSummary}>\n                      {heroChange?.summary && <p>{heroChange.summary}</p>}\n                      {!heroChange?.summary && heroAdjustment?.summary && <p>{heroAdjustment.summary}</p>}\n                      {!heroChange?.summary && !heroAdjustment?.summary && heroAdjustment?.description && (\n                        <div dangerouslySetInnerHTML={{ __html: sanitizeHtml(heroAdjustment.description) }} />\n                      )}\n                    </div>\n                  )}\n\n                  {/* Skills from any format */}\n                  {(heroChange?.skills || heroAdjustment?.skills) && (heroChange?.skills || heroAdjustment?.skills)!.length > 0 && (\n                    <div className={styles.skillChanges}>\n                      {(heroChange?.skills || heroAdjustment?.skills)!.map((skill: SkillChange, idx: number) => (\n                        <div key={idx} className={styles.skillChange}>\n                          <div className={styles.skillHeader}>\n                            <div className={styles.skillName}>\n                              <span className={styles.skillType}>{skill.type}</span>\n                              {skill.name && <span className={styles.skillNameText}>{skill.name}</span>}\n                            </div>\n                            {skill.balance && (\n                              <span className={styles.balanceBadge} data-balance={skill.balance.toLowerCase()}>\n                                {skill.balance}\n                              </span>\n                            )}\n                          </div>\n                          {skill.changes && skill.changes.length > 0 && (\n                            <ul className={styles.changesList}>\n                              {skill.changes.map((change: string, changeIdx: number) => (\n                                <li key={changeIdx} className={styles.changeItem}>{change}</li>\n                              ))}\n                            </ul>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* New format skill adjustments */}\n                  {heroAdjustment?.adjustments && heroAdjustment.adjustments.length > 0 && (\n                    <div className={styles.skillChanges}>\n                      {heroAdjustment.adjustments.map((adj, idx) => (\n                        <div key={idx} className={styles.skillChange}>\n                          <div className={styles.skillHeader}>\n                            <div className={styles.skillName}>\n                              {adj.skill_name ? (\n                                <span className={styles.skillNameText}>{adj.skill_name}</span>\n                              ) : (\n                                <span className={styles.skillType}>{adj.skill_type}</span>\n                              )}\n                            </div>\n                            {adj.badge && (\n                              <span className={styles.balanceBadge} data-balance={adj.badge.toLowerCase()}>\n                                {adj.badge}\n                              </span>\n                            )}\n                          </div>\n                          <div className={styles.changesList}>\n                            <div className={styles.changeItem} dangerouslySetInnerHTML={{ __html: sanitizeHtml(adj.description) }} />\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* New format attribute adjustments */}\n                  {heroAdjustment?.attribute_adjustments && heroAdjustment.attribute_adjustments.length > 0 && (\n                    <div className={styles.skillChanges}>\n                      {heroAdjustment.attribute_adjustments.map((adj, idx) => (\n                        <div key={idx} className={styles.skillChange}>\n                          <div className={styles.skillHeader}>\n                            <div className={styles.skillName}>\n                              <span className={styles.skillNameText}>{adj.attribute_name}</span>\n                            </div>\n                            {adj.badge && (\n                              <span className={styles.balanceBadge} data-balance={adj.badge.toLowerCase()}>\n                                {adj.badge}\n                              </span>\n                            )}\n                          </div>\n                          <div className={styles.changesList}>\n                            <div className={styles.changeItem} dangerouslySetInnerHTML={{ __html: sanitizeHtml(adj.description) }} />\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  <div className={styles.patchLink}>\n                    <Link to={`/${hero.game_id}/patches/patch_${patch.version}#${hero.name}`}>\n                      {t('heroDetail.viewFullPatchNotes')}\n                    </Link>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div className={styles.noHistoryData}>\n            <p>{t('heroDetail.noBalanceHistory')}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useTranslation } from 'react-i18next';\nimport { Item } from '../../../types/item';\nimport { useItemsQuery } from '../../../queries/useItemsQuery';\nimport { useEmblems, useEmblemTalents } from '../../../hooks/useEmblems';\nimport type { Emblem, Talent } from '../../../hooks/useEmblems';\nimport { fetcherRaw } from '../../../api/http/fetcher';\nimport { getEmblemName, getTalentName, getSpellName, getItemName } from '../../../utils/translation';\nimport styles from '../styles.module.scss';\nimport { STALE_5_MIN, queryKeys } from '../../../queries/keys';\nimport type { BattleSpell } from '../../../types';\nimport type { ProBuildsSectionProps } from './interface';\n\nconst BUILDS_PER_PAGE = 5;\n\nconst RANK_CLASSES: Record<number, string> = {\n  0: styles.pbRankGold,\n  1: styles.pbRankSilver,\n  2: styles.pbRankBronze,\n};\n\nexport const ProBuildsSection: React.FC<ProBuildsSectionProps> = ({ builds, gameId }) => {\n  const { t, i18n } = useTranslation();\n  const lang = i18n.language;\n  const [visibleCount, setVisibleCount] = React.useState(BUILDS_PER_PAGE);\n\n  const { data: items = [], isLoading: itemsLoading } = useItemsQuery(gameId);\n  const { data: emblems = [], isLoading: emblemsLoading } = useEmblems(String(gameId));\n  const { tier1, tier2, tier3, isLoading: talentsLoading } = useEmblemTalents(String(gameId));\n  const { data: spells = [], isLoading: spellsLoading } = useQuery<BattleSpell[]>({\n    queryKey: queryKeys.spells.all(gameId),\n    queryFn: () => fetcherRaw<BattleSpell[]>(`/battle-spells?game_id=${gameId}`),\n    enabled: !!gameId,\n    staleTime: STALE_5_MIN,\n  });\n\n  const isDataLoading = itemsLoading || emblemsLoading || talentsLoading || spellsLoading;\n\n  const itemsMap = React.useMemo(() => {\n    const map = new Map<number, Item>();\n    items.forEach((item: Item) => map.set(item.id, item));\n    return map;\n  }, [items]);\n\n  const spellsMap = React.useMemo(() => {\n    const map = new Map<number, BattleSpell>();\n    spells.forEach((spell) => map.set(spell.id, spell));\n    return map;\n  }, [spells]);\n\n  const emblemsMap = React.useMemo(() => {\n    const map = new Map<number, Emblem>();\n    emblems.forEach((emblem: Emblem) => map.set(emblem.id, emblem));\n    return map;\n  }, [emblems]);\n\n  const talentsMap = React.useMemo(() => {\n    const map = new Map<string, Talent>();\n    [...tier1, ...tier2, ...tier3].forEach((talent) => map.set(talent.name, talent));\n    return map;\n  }, [tier1, tier2, tier3]);\n\n  const sortedBuilds = builds;\n\n  const visibleBuilds = sortedBuilds.slice(0, visibleCount);\n  const hasMore = visibleCount < sortedBuilds.length;\n  const remaining = sortedBuilds.length - visibleCount;\n\n  if (!builds || builds.length === 0) {\n    return (\n      <div className={styles.noHistoryData}>\n        <p>{t('heroDetail.noBuildsData')}</p>\n      </div>\n    );\n  }\n\n  if (isDataLoading) {\n    return (\n      <div className={styles.pbContainer}>\n        {[...Array(3)].map((_, idx) => (\n          <div key={idx} className={styles.pbSkeletonCard}>\n            <div className={styles.pbSkeletonItemsRow}>\n              {[...Array(6)].map((_, i) => (\n                <React.Fragment key={i}>\n                  {i > 0 && <div className={styles.pbSkeletonArrow} />}\n                  <div className={styles.pbSkeletonItem}>\n                    <div className={styles.pbSkeletonItemIcon} />\n                    <div className={styles.pbSkeletonItemLabel} />\n                  </div>\n                </React.Fragment>\n              ))}\n            </div>\n            <div className={styles.pbSkeletonSetupRow}>\n              <div className={styles.pbSkeletonSetupItem}>\n                <div className={styles.pbSkeletonSetupIcon} />\n                <div className={styles.pbSkeletonSetupLabel} />\n              </div>\n              <div className={styles.pbSkeletonSetupItem}>\n                <div className={styles.pbSkeletonSetupIcon} />\n                <div className={styles.pbSkeletonSetupLabel} />\n              </div>\n              <div className={styles.pbSkeletonSetupItem}>\n                <div className={styles.pbSkeletonSetupIcon} />\n                <div className={styles.pbSkeletonSetupLabel} />\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.pbContainer}>\n      <div className={styles.pbCount}>\n        {sortedBuilds.length} {sortedBuilds.length === 1 ? 'build' : 'builds'}\n      </div>\n\n      {visibleBuilds.map((build, idx) => {\n        const spell = spellsMap.get(build.battle_spell_id);\n        const emblem = emblemsMap.get(build.emblem_id);\n        const isTop3 = idx < 3;\n        const rankClass = RANK_CLASSES[idx] || '';\n\n        return (\n          <div\n            key={idx}\n            className={`${styles.pbCard} ${isTop3 ? styles.pbCardTop : ''} ${rankClass}`}\n          >\n            {/* Items chain */}\n            <div className={styles.pbItemsRow}>\n              {build.core_items.map((itemId, iIdx) => {\n                const item = itemsMap.get(itemId);\n                return (\n                  <React.Fragment key={iIdx}>\n                    {iIdx > 0 && <span className={styles.pbItemArrow}></span>}\n                    <div className={styles.pbItem} title={item ? getItemName(item, lang) : `Item #${itemId}`}>\n                      {item?.icon_url ? (\n                        <img src={item.icon_url} alt={getItemName(item, lang)} className={styles.pbItemImg} loading=\"lazy\" />\n                      ) : (\n                        <div className={styles.pbItemEmpty}>{iIdx + 1}</div>\n                      )}\n                      <span className={styles.pbItemLabel}>{item ? getItemName(item, lang) : '???'}</span>\n                    </div>\n                  </React.Fragment>\n                );\n              })}\n\n              {build.optional_items && build.optional_items.length > 0 && (\n                <>\n                  <span className={styles.pbItemDivider}>|</span>\n                  {build.optional_items.map((itemId, iIdx) => {\n                    const item = itemsMap.get(itemId);\n                    return (\n                      <div key={`opt-${iIdx}`} className={`${styles.pbItem} ${styles.pbItemOptional}`} title={item ? getItemName(item, lang) : `Item #${itemId}`}>\n                        {item?.icon_url ? (\n                          <img src={item.icon_url} alt={item ? getItemName(item, lang) : ''} className={styles.pbItemImg} loading=\"lazy\" />\n                        ) : (\n                          <div className={styles.pbItemEmpty}>{iIdx + 1}</div>\n                        )}\n                      </div>\n                    );\n                  })}\n                </>\n              )}\n            </div>\n\n            {/* Setup: spell + emblem + talents */}\n            <div className={styles.pbSetupRow}>\n              {spell && (\n                <div className={styles.pbSetupGroup}>\n                  <span className={styles.pbSetupGroupLabel}>{t('heroDetail.battleSpell')}</span>\n                  <div className={styles.pbSetupItem}>\n                    {spell.icon_url && (\n                      <img src={spell.icon_url} alt={getSpellName(spell, lang)} className={styles.pbSetupIcon} loading=\"lazy\" />\n                    )}\n                    <span className={styles.pbSetupLabel}>{getSpellName(spell, lang)}</span>\n                  </div>\n                </div>\n              )}\n\n              {(emblem || (build.emblem_talents && build.emblem_talents.length > 0)) && (\n                <>\n                  {spell && <span className={styles.pbSetupDivider} />}\n                  <div className={styles.pbSetupGroup}>\n                    <span className={styles.pbSetupGroupLabel}>{t('heroDetail.emblem')}</span>\n                    <div className={styles.pbSetupGroupItems}>\n                      {emblem && (\n                        <div className={`${styles.pbSetupItem} ${styles.pbSetupItemEmblem}`}>\n                          {emblem.icon_url && (\n                            <img src={emblem.icon_url} alt={getEmblemName(emblem, lang)} className={styles.pbSetupIcon} loading=\"lazy\" />\n                          )}\n                          <span className={styles.pbSetupLabel}>{getEmblemName(emblem, lang)}</span>\n                        </div>\n                      )}\n                      {build.emblem_talents && build.emblem_talents.map((name, tIdx) => {\n                        const td = talentsMap.get(name);\n                        return (\n                          <div key={tIdx} className={styles.pbSetupItem}>\n                            {td?.icon_url && (\n                              <img src={td.icon_url} alt={getTalentName(td, lang)} className={styles.pbSetupIcon} loading=\"lazy\" />\n                            )}\n                            <span className={styles.pbSetupLabel}>{td ? getTalentName(td, lang) : name}</span>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        );\n      })}\n\n      {hasMore && (\n        <button\n          className={styles.pbShowMore}\n          onClick={() => setVisibleCount((prev) => prev + BUILDS_PER_PAGE)}\n        >\n          Show more ({remaining > BUILDS_PER_PAGE ? BUILDS_PER_PAGE : remaining} of {remaining})\n        </button>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getEmblemName, getTalentName } from '../../../../utils/translation';\nimport type { BuildCardProps } from './interface';\nimport styles from '../../styles.module.scss';\n\nexport const BuildCard: React.FC<BuildCardProps> = React.memo(({\n  build, isOwn, itemsMap, emblemsMap, spellsMap, talentsMap, onEdit, onDelete,\n}) => {\n  const { t, i18n } = useTranslation();\n  const lang = i18n.language;\n\n  const buildItems = (build.items || []).map(id => itemsMap.get(id)).filter(Boolean);\n  const emblem = build.emblem_id ? emblemsMap.get(build.emblem_id) : null;\n  const spell1 = build.spell1_id ? spellsMap.get(build.spell1_id) : null;\n  const spell2 = build.spell2_id ? spellsMap.get(build.spell2_id) : null;\n\n  return (\n    <div className={styles.cbCard}>\n      <div className={styles.cbCardHeader}>\n        <div className={styles.cbCardTitle}>\n          <strong>{build.name}</strong>\n          {build.author_name && !isOwn && (\n            <span className={styles.cbAuthor}>\n              {build.author_picture && (\n                <img src={build.author_picture} alt=\"\" className={styles.cbAuthorPic} referrerPolicy=\"no-referrer\" />\n              )}\n              {build.author_name}\n            </span>\n          )}\n        </div>\n        {isOwn && (\n          <div className={styles.cbCardActions}>\n            <button onClick={() => onEdit(build)} className={styles.cbActionBtn} title={t('builds.edit')}>\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\n                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n              </svg>\n            </button>\n            <button onClick={() => onDelete(build.id)} className={styles.cbActionBtn} title={t('builds.delete')}>\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\n              </svg>\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Items */}\n      <div className={styles.pbItemsRow}>\n        {buildItems.map((item, idx) => (\n          <React.Fragment key={idx}>\n            {idx > 0 && <span className={styles.pbItemArrow}></span>}\n            <div className={styles.pbItem} title={item?.name}>\n              {item?.icon_url ? (\n                <img src={item.icon_url} alt={item.name} className={styles.pbItemImg} loading=\"lazy\" />\n              ) : (\n                <div className={styles.pbItemEmpty}>{idx + 1}</div>\n              )}\n              <span className={styles.pbItemLabel}>{item?.name || '???'}</span>\n            </div>\n          </React.Fragment>\n        ))}\n      </div>\n\n      {/* Spell + Emblem */}\n      <div className={styles.pbSetupRow}>\n        {spell1 && (\n          <div className={styles.pbSetupGroup}>\n            <span className={styles.pbSetupGroupLabel}>Spell</span>\n            <div className={styles.pbSetupItem}>\n              {spell1.icon_url && <img src={spell1.icon_url} alt={spell1.name} className={styles.pbSetupIcon} loading=\"lazy\" />}\n              <span className={styles.pbSetupLabel}>{spell1.name}</span>\n            </div>\n            {spell2 && (\n              <div className={styles.pbSetupItem}>\n                {spell2.icon_url && <img src={spell2.icon_url} alt={spell2.name} className={styles.pbSetupIcon} loading=\"lazy\" />}\n                <span className={styles.pbSetupLabel}>{spell2.name}</span>\n              </div>\n            )}\n          </div>\n        )}\n        {emblem && (\n          <>\n            {spell1 && <span className={styles.pbSetupDivider} />}\n            <div className={styles.pbSetupGroup}>\n              <span className={styles.pbSetupGroupLabel}>Emblem</span>\n              <div className={styles.pbSetupGroupItems}>\n                <div className={`${styles.pbSetupItem} ${styles.pbSetupItemEmblem}`}>\n                  {emblem.icon_url && <img src={emblem.icon_url} alt={getEmblemName(emblem, lang)} className={styles.pbSetupIcon} loading=\"lazy\" />}\n                  <span className={styles.pbSetupLabel}>{getEmblemName(emblem, lang)}</span>\n                </div>\n                {build.talents && build.talents.map((name, tIdx) => {\n                  const td = talentsMap.get(name);\n                  return (\n                    <div key={tIdx} className={styles.pbSetupItem}>\n                      {td?.icon_url && <img src={td.icon_url} alt={td ? getTalentName(td, lang) : name} className={styles.pbSetupIcon} loading=\"lazy\" />}\n                      <span className={styles.pbSetupLabel}>{td ? getTalentName(td, lang) : name}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      {build.notes && <div className={styles.cbNotes}>{build.notes}</div>}\n    </div>\n  );\n});\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getEmblemName, getTalentName, getTalentEffect } from '../../../../utils/translation';\nimport type { BuildFormModalProps } from './interface';\nimport styles from '../../styles.module.scss';\n\nexport const BuildFormModal: React.FC<BuildFormModalProps> = ({\n  editingBuild,\n  buildName, setBuildName,\n  selectedItems,\n  selectedEmblem, setSelectedEmblem,\n  selectedSpell1, setSelectedSpell1,\n  selectedSpell2, setSelectedSpell2,\n  selectedTalents, setSelectedTalents,\n  notes, setNotes,\n  itemSearch, setItemSearch,\n  saving,\n  filteredItems, itemsMap, spells, emblems,\n  tier1, tier2, tier3,\n  toggleItem, onSave, onClose,\n}) => {\n  const { t, i18n } = useTranslation();\n  const lang = i18n.language;\n\n  return (\n    <div className={styles.cbOverlay} onClick={onClose}>\n      <div className={styles.cbModal} onClick={e => e.stopPropagation()}>\n        <div className={styles.cbModalHeader}>\n          <h3>{editingBuild ? t('builds.edit') : t('builds.create')}</h3>\n          <button className={styles.cbCloseBtn} onClick={onClose}></button>\n        </div>\n\n        <div className={styles.cbFormBody}>\n          {/* Build Name */}\n          <div className={styles.cbFormGroup}>\n            <label>{t('builds.name')}</label>\n            <input\n              type=\"text\"\n              value={buildName}\n              onChange={e => setBuildName(e.target.value)}\n              placeholder={t('builds.namePlaceholder')}\n              className={styles.cbInput}\n              maxLength={50}\n            />\n          </div>\n\n          {/* Items Selection */}\n          <div className={styles.cbFormGroup}>\n            <label>{t('builds.items')} ({selectedItems.length}/6)</label>\n            <div className={styles.cbSelectedItems}>\n              {[0, 1, 2, 3, 4, 5].map(slot => {\n                const itemId = selectedItems[slot];\n                const item = itemId ? itemsMap.get(itemId) : null;\n                return (\n                  <div\n                    key={slot}\n                    className={`${styles.cbSlot} ${item ? styles.cbSlotFilled : ''}`}\n                    onClick={() => item && toggleItem(item.id)}\n                    title={item ? `${item.name} (${t('builds.clickToRemove')})` : t('builds.emptySlot')}\n                  >\n                    {item?.icon_url ? <img src={item.icon_url} alt={item.name} /> : <span>{slot + 1}</span>}\n                  </div>\n                );\n              })}\n            </div>\n            <input\n              type=\"text\"\n              value={itemSearch}\n              onChange={e => setItemSearch(e.target.value)}\n              placeholder={t('builds.searchItems')}\n              className={styles.cbInput}\n            />\n            <div className={styles.cbItemGrid}>\n              {filteredItems.map((item) => (\n                <button\n                  key={item.id}\n                  className={`${styles.cbItemPick} ${selectedItems.includes(item.id) ? styles.cbItemPicked : ''}`}\n                  onClick={() => toggleItem(item.id)}\n                  title={item.name}\n                  disabled={selectedItems.length >= 6 && !selectedItems.includes(item.id)}\n                >\n                  {item.icon_url ? <img src={item.icon_url} alt={item.name} loading=\"lazy\" /> : <span>{item.name?.slice(0, 2)}</span>}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Spell Selection */}\n          <div className={styles.cbFormGroup}>\n            <label>{t('builds.spells')}</label>\n            <div className={styles.cbSpellRow}>\n              {spells.map(spell => (\n                <button\n                  key={spell.id}\n                  className={`${styles.cbSpellPick} ${selectedSpell1 === spell.id || selectedSpell2 === spell.id ? styles.cbSpellPicked : ''}`}\n                  onClick={() => {\n                    if (selectedSpell1 === spell.id) setSelectedSpell1(null);\n                    else if (selectedSpell2 === spell.id) setSelectedSpell2(null);\n                    else if (!selectedSpell1) setSelectedSpell1(spell.id);\n                    else if (!selectedSpell2) setSelectedSpell2(spell.id);\n                  }}\n                  title={spell.name}\n                >\n                  {spell.icon_url && <img src={spell.icon_url} alt={spell.name} loading=\"lazy\" />}\n                  <span>{spell.name}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Emblem Selection */}\n          <div className={styles.cbFormGroup}>\n            <label>{t('builds.emblem')}</label>\n            <div className={styles.cbEmblemRow}>\n              {emblems.map(emblem => (\n                <button\n                  key={emblem.id}\n                  className={`${styles.cbEmblemPick} ${selectedEmblem === emblem.id ? styles.cbEmblemPicked : ''}`}\n                  onClick={() => {\n                    if (selectedEmblem === emblem.id) {\n                      setSelectedEmblem(null);\n                    } else {\n                      setSelectedEmblem(emblem.id);\n                    }\n                    setSelectedTalents([]);\n                  }}\n                  title={getEmblemName(emblem, lang)}\n                >\n                  {emblem.icon_url && <img src={emblem.icon_url} alt={getEmblemName(emblem, lang)} loading=\"lazy\" />}\n                  <span>{getEmblemName(emblem, lang)}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Talent Selection */}\n          {selectedEmblem && (\n            <div className={styles.cbFormGroup}>\n              <label>{t('builds.talents')}</label>\n              {[tier1, tier2, tier3].map((tierTalents, tierIdx) => (\n                <div key={tierIdx} className={styles.cbTalentTier}>\n                  <span className={styles.cbTalentTierLabel}>Tier {tierIdx + 1}</span>\n                  <div className={styles.cbTalentRow}>\n                    {tierTalents.map(talent => {\n                      const isSelected = selectedTalents.includes(talent.name);\n                      return (\n                        <button\n                          key={talent.id}\n                          className={`${styles.cbTalentPick} ${isSelected ? styles.cbTalentPicked : ''}`}\n                          onClick={() => {\n                            setSelectedTalents(prev => {\n                              const otherTierNames = tierTalents.map(t => t.name);\n                              const withoutThisTier = prev.filter(n => !otherTierNames.includes(n));\n                              if (isSelected) return withoutThisTier;\n                              return [...withoutThisTier, talent.name];\n                            });\n                          }}\n                          title={getTalentEffect(talent, lang) || getTalentName(talent, lang)}\n                        >\n                          {talent.icon_url && <img src={talent.icon_url} alt={getTalentName(talent, lang)} loading=\"lazy\" />}\n                          <span>{getTalentName(talent, lang)}</span>\n                        </button>\n                      );\n                    })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Notes */}\n          <div className={styles.cbFormGroup}>\n            <label>{t('builds.notes')}</label>\n            <textarea\n              value={notes}\n              onChange={e => setNotes(e.target.value)}\n              placeholder={t('builds.notesPlaceholder')}\n              className={styles.cbTextarea}\n              maxLength={500}\n              rows={3}\n            />\n          </div>\n        </div>\n\n        <div className={styles.cbModalFooter}>\n          <button className={styles.cbCancelBtn} onClick={onClose}>{t('builds.cancel')}</button>\n          <button\n            className={styles.cbSaveBtn}\n            onClick={onSave}\n            disabled={saving || !buildName.trim() || selectedItems.length === 0}\n          >\n            {saving ? '...' : t('builds.save')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from '../../styles.module.scss';\n\nexport const BuildSkeleton: React.FC<{ count: number }> = React.memo(({ count }) => (\n  <>\n    {[...Array(count)].map((_, idx) => (\n      <div key={idx} className={styles.pbSkeletonCard}>\n        <div className={styles.pbSkeletonHeader}>\n          <div className={styles.pbSkeletonRank} />\n        </div>\n        <div className={styles.pbSkeletonItemsRow}>\n          {[...Array(6)].map((_, i) => (\n            <React.Fragment key={i}>\n              {i > 0 && <div className={styles.pbSkeletonArrow} />}\n              <div className={styles.pbSkeletonItem}>\n                <div className={styles.pbSkeletonItemIcon} />\n                <div className={styles.pbSkeletonItemLabel} />\n              </div>\n            </React.Fragment>\n          ))}\n        </div>\n        <div className={styles.pbSkeletonSetupRow}>\n          <div className={styles.pbSkeletonSetupItem}>\n            <div className={styles.pbSkeletonSetupIcon} />\n            <div className={styles.pbSkeletonSetupLabel} />\n          </div>\n          <div className={styles.pbSkeletonSetupItem}>\n            <div className={styles.pbSkeletonSetupIcon} />\n            <div className={styles.pbSkeletonSetupLabel} />\n          </div>\n        </div>\n      </div>\n    ))}\n  </>\n));\n","import { useState, useCallback, useEffect } from 'react';\nimport { useAuthStore, authFetch } from '../../../../store/authStore';\nimport type { UserBuild } from './interface';\n\nexport const useBuildForm = (heroId: number, refetchCommunity: () => void) => {\n  const { user } = useAuthStore();\n  const [showForm, setShowForm] = useState(false);\n  const [editingBuild, setEditingBuild] = useState<UserBuild | null>(null);\n  const [myBuilds, setMyBuilds] = useState<UserBuild[]>([]);\n  const [loadingMyBuilds, setLoadingMyBuilds] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Form fields\n  const [buildName, setBuildName] = useState('');\n  const [selectedItems, setSelectedItems] = useState<number[]>([]);\n  const [selectedEmblem, setSelectedEmblem] = useState<number | null>(null);\n  const [selectedSpell1, setSelectedSpell1] = useState<number | null>(null);\n  const [selectedSpell2, setSelectedSpell2] = useState<number | null>(null);\n  const [selectedTalents, setSelectedTalents] = useState<string[]>([]);\n  const [notes, setNotes] = useState('');\n  const [itemSearch, setItemSearch] = useState('');\n\n  const fetchMyBuilds = useCallback(async () => {\n    if (!user) return;\n    setLoadingMyBuilds(true);\n    try {\n      const data = await authFetch(`/builds?hero_id=${heroId}`);\n      setMyBuilds(data);\n    } catch {\n      // ignore\n    } finally {\n      setLoadingMyBuilds(false);\n    }\n  }, [user, heroId]);\n\n  useEffect(() => {\n    fetchMyBuilds();\n  }, [fetchMyBuilds]);\n\n  const resetForm = () => {\n    setBuildName('');\n    setSelectedItems([]);\n    setSelectedEmblem(null);\n    setSelectedSpell1(null);\n    setSelectedSpell2(null);\n    setSelectedTalents([]);\n    setNotes('');\n    setEditingBuild(null);\n    setItemSearch('');\n  };\n\n  const openForm = (build?: UserBuild) => {\n    if (build) {\n      setEditingBuild(build);\n      setBuildName(build.name);\n      setSelectedItems(build.items || []);\n      setSelectedEmblem(build.emblem_id);\n      setSelectedSpell1(build.spell1_id);\n      setSelectedSpell2(build.spell2_id);\n      setSelectedTalents(build.talents || []);\n      setNotes(build.notes || '');\n    } else {\n      resetForm();\n    }\n    setShowForm(true);\n  };\n\n  const handleSave = async () => {\n    if (!buildName.trim() || selectedItems.length === 0) return;\n    setSaving(true);\n    try {\n      const body = {\n        name: buildName,\n        items: selectedItems,\n        emblem_id: selectedEmblem,\n        talents: selectedTalents,\n        spell1_id: selectedSpell1,\n        spell2_id: selectedSpell2,\n        notes,\n      };\n      if (editingBuild) {\n        await authFetch(`/builds/${editingBuild.id}`, { method: 'PUT', body: JSON.stringify(body) });\n      } else {\n        await authFetch('/builds', { method: 'POST', body: JSON.stringify({ hero_id: heroId, ...body }) });\n      }\n      setShowForm(false);\n      resetForm();\n      fetchMyBuilds();\n      refetchCommunity();\n    } catch (err) {\n      console.error('Failed to save build:', err);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async (buildId: number) => {\n    try {\n      await authFetch(`/builds/${buildId}`, { method: 'DELETE' });\n      fetchMyBuilds();\n      refetchCommunity();\n    } catch (err) {\n      console.error('Failed to delete build:', err);\n    }\n  };\n\n  const toggleItem = (itemId: number) => {\n    setSelectedItems(prev => {\n      if (prev.includes(itemId)) return prev.filter(id => id !== itemId);\n      if (prev.length >= 6) return prev;\n      return [...prev, itemId];\n    });\n  };\n\n  return {\n    showForm, setShowForm,\n    editingBuild,\n    myBuilds, loadingMyBuilds,\n    saving,\n    buildName, setBuildName,\n    selectedItems, selectedEmblem, setSelectedEmblem,\n    selectedSpell1, setSelectedSpell1,\n    selectedSpell2, setSelectedSpell2,\n    selectedTalents, setSelectedTalents,\n    notes, setNotes,\n    itemSearch, setItemSearch,\n    openForm, handleSave, handleDelete, toggleItem,\n  };\n};\n","import React, { useCallback, useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useTranslation } from 'react-i18next';\nimport { useAuthStore } from '../../../store/authStore';\nimport { useItemsQuery } from '../../../queries/useItemsQuery';\nimport { useEmblems, useEmblemTalents } from '../../../hooks/useEmblems';\nimport type { Emblem, Talent } from '../../../hooks/useEmblems';\nimport { useGoogleAuth } from '../../../hooks/useGoogleAuth';\nimport { useEscapeKey } from '../../../hooks/useEscapeKey';\nimport { API_URL } from '../../../config';\nimport { fetcherRaw } from '../../../api/http/fetcher';\nimport { Item } from '../../../types/item';\nimport styles from '../styles.module.scss';\nimport { STALE_5_MIN, queryKeys } from '../../../queries/keys';\nimport type { BattleSpell } from '../../../types';\nimport { BuildCard } from './community-builds/BuildCard';\nimport { BuildFormModal } from './community-builds/BuildFormModal';\nimport { BuildSkeleton } from './community-builds/BuildSkeleton';\nimport { useBuildForm } from './community-builds/useBuildForm';\nimport type { UserBuild } from './community-builds/interface';\nimport type { CommunityBuildsSectionProps } from './interface';\n\nexport const CommunityBuildsSection: React.FC<CommunityBuildsSectionProps> = ({ heroId, gameId, showOnly }) => {\n  const { t } = useTranslation();\n  const { user } = useAuthStore();\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n\n  // Data queries\n  const { data: items = [] } = useItemsQuery(gameId);\n  const { data: emblems = [] } = useEmblems(String(gameId));\n  const { tier1, tier2, tier3 } = useEmblemTalents(String(gameId));\n  const { data: spells = [] } = useQuery<BattleSpell[]>({\n    queryKey: queryKeys.spells.all(gameId),\n    queryFn: () => fetcherRaw<BattleSpell[]>(`/battle-spells?game_id=${gameId}`),\n    enabled: !!gameId,\n    staleTime: STALE_5_MIN,\n  });\n\n  const { data: communityBuilds = [], isLoading: loadingCommunity, refetch: refetchCommunity } = useQuery<UserBuild[]>({\n    queryKey: queryKeys.builds.community(heroId, user?.id),\n    queryFn: async () => {\n      const token = useAuthStore.getState().token;\n      const headers: Record<string, string> = {};\n      if (token) headers['Authorization'] = `Bearer ${token}`;\n      const res = await fetch(`${API_URL}/heroes/${heroId}/builds`, { headers });\n      if (!res.ok) throw new Error('Failed to load builds');\n      const data = await res.json();\n      return Array.isArray(data) ? data : [];\n    },\n    enabled: !!heroId,\n    staleTime: 60 * 1000,\n  });\n\n  // Form state & handlers (extracted hook)\n  const form = useBuildForm(heroId, refetchCommunity);\n\n  useEscapeKey(useCallback(() => form.setShowForm(false), [form]), form.showForm);\n\n  const googleLogin = useGoogleAuth(() => setShowLoginPrompt(false));\n\n  const handleCreateClick = () => {\n    if (!user) {\n      setShowLoginPrompt(true);\n      setTimeout(() => googleLogin(), 500);\n      setTimeout(() => setShowLoginPrompt(false), 3000);\n      return;\n    }\n    form.openForm();\n  };\n\n  // Lookup maps\n  const itemsMap = React.useMemo(() => {\n    const map = new Map<number, Item>();\n    items.forEach((item: Item) => map.set(item.id, item));\n    return map;\n  }, [items]);\n\n  const emblemsMap = React.useMemo(() => {\n    const map = new Map<number, Emblem>();\n    (emblems as Emblem[]).forEach((e) => map.set(e.id, e));\n    return map;\n  }, [emblems]);\n\n  const spellsMap = React.useMemo(() => {\n    const map = new Map<number, BattleSpell>();\n    spells.forEach((s) => map.set(s.id, s));\n    return map;\n  }, [spells]);\n\n  const talentsMap = React.useMemo(() => {\n    const map = new Map<string, Talent>();\n    [...tier1, ...tier2, ...tier3].forEach((t) => map.set(t.name, t));\n    return map;\n  }, [tier1, tier2, tier3]);\n\n  const filteredItems = React.useMemo(() => {\n    let filtered = items.filter((item: Item) => String(item.tier) === '3');\n    if (form.itemSearch) {\n      const q = form.itemSearch.toLowerCase();\n      filtered = filtered.filter((item: Item) => item.name?.toLowerCase().includes(q));\n    }\n    return filtered;\n  }, [items, form.itemSearch]);\n\n  return (\n    <div className={styles.cbContainer}>\n      {/* My Builds */}\n      {(!showOnly || showOnly === 'my') && (\n        <div className={styles.cbSection}>\n          <div className={styles.cbSectionHeader}>\n            <h3 className={styles.sectionTitle}>{t('builds.myBuilds')}</h3>\n            <button className={styles.cbCreateBtn} onClick={handleCreateClick}>\n              + {t('builds.create')}\n            </button>\n          </div>\n          {showLoginPrompt && (\n            <p className={styles.cbLoginPrompt}>{t('builds.loginToCreate')}</p>\n          )}\n          {!user ? (\n            <p className={styles.cbEmpty}>{t('builds.loginToCreate')}</p>\n          ) : form.loadingMyBuilds ? (\n            <BuildSkeleton count={2} />\n          ) : form.myBuilds.length === 0 ? (\n            <p className={styles.cbEmpty}>{t('builds.noBuilds')}</p>\n          ) : (\n            form.myBuilds.map(b => (\n              <BuildCard\n                key={b.id}\n                build={b}\n                isOwn\n                itemsMap={itemsMap}\n                emblemsMap={emblemsMap}\n                spellsMap={spellsMap}\n                talentsMap={talentsMap}\n                onEdit={form.openForm}\n                onDelete={form.handleDelete}\n              />\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Community Builds */}\n      {(!showOnly || showOnly === 'community') && (loadingCommunity || communityBuilds.length > 0) && (\n        <div className={styles.cbSection}>\n          <h3 className={styles.sectionTitle}>{t('builds.communityBuilds')}</h3>\n          {loadingCommunity ? (\n            <BuildSkeleton count={3} />\n          ) : (\n            communityBuilds.map(b => (\n              <BuildCard\n                key={b.id}\n                build={b}\n                isOwn={false}\n                itemsMap={itemsMap}\n                emblemsMap={emblemsMap}\n                spellsMap={spellsMap}\n                talentsMap={talentsMap}\n                onEdit={form.openForm}\n                onDelete={form.handleDelete}\n              />\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Build Form Modal */}\n      {form.showForm && (\n        <BuildFormModal\n          editingBuild={form.editingBuild}\n          buildName={form.buildName}\n          setBuildName={form.setBuildName}\n          selectedItems={form.selectedItems}\n          selectedEmblem={form.selectedEmblem}\n          setSelectedEmblem={form.setSelectedEmblem}\n          selectedSpell1={form.selectedSpell1}\n          setSelectedSpell1={form.setSelectedSpell1}\n          selectedSpell2={form.selectedSpell2}\n          setSelectedSpell2={form.setSelectedSpell2}\n          selectedTalents={form.selectedTalents}\n          setSelectedTalents={form.setSelectedTalents}\n          notes={form.notes}\n          setNotes={form.setNotes}\n          itemSearch={form.itemSearch}\n          setItemSearch={form.setItemSearch}\n          saving={form.saving}\n          filteredItems={filteredItems}\n          itemsMap={itemsMap}\n          spells={spells}\n          emblems={emblems as Emblem[]}\n          tier1={tier1}\n          tier2={tier2}\n          tier3={tier3}\n          toggleItem={form.toggleItem}\n          onSave={form.handleSave}\n          onClose={() => form.setShowForm(false)}\n        />\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ProBuildsSection } from './ProBuildsSection';\nimport { CommunityBuildsSection } from './CommunityBuildsSection';\nimport { BuildsTabProps } from './interface';\nimport styles from '../styles.module.scss';\n\nexport const BuildsTab: React.FC<BuildsTabProps> = React.memo(({ hero, buildsSubTab, setBuildsSubTab }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.contentSection}>\n      <div className={styles.relationshipTabs}>\n        <button\n          className={`${styles.relationshipTab} ${buildsSubTab === 'builds' ? styles.relationshipTabActive : ''}`}\n          onClick={() => setBuildsSubTab('builds')}\n        >\n          {t('heroDetail.proBuilds')}\n        </button>\n        <button\n          className={`${styles.relationshipTab} ${buildsSubTab === 'my' ? styles.relationshipTabActive : ''}`}\n          onClick={() => setBuildsSubTab('my')}\n        >\n          {t('builds.myBuilds')}\n        </button>\n      </div>\n\n      {buildsSubTab === 'builds' && (\n        <>\n          <ProBuildsSection builds={hero.pro_builds || []} gameId={hero.game_id} />\n          <CommunityBuildsSection heroId={hero.id} gameId={hero.game_id} showOnly=\"community\" />\n        </>\n      )}\n\n      {buildsSubTab === 'my' && (\n        <CommunityBuildsSection heroId={hero.id} gameId={hero.game_id} showOnly=\"my\" />\n      )}\n    </div>\n  );\n});\n","import { useParams } from 'react-router-dom';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getHeroName, getHeroShortDescription, translateRoles, translateLanes, translateSpecialties, getDamageType } from '../../utils/translation';\nimport { useHeroQuery, useHeroSkillsQuery, useHeroCounterDataQuery, useHeroCompatibilityDataQuery, useHeroesQuery } from '../../queries/useHeroesQuery';\nimport { usePatchesQuery } from '../../queries/usePatchesQuery';\nimport { Loader } from '../../components/Loader';\nimport { FavoriteButton } from '../../components/FavoriteButton';\nimport { TabsNavigation } from './components/TabsNavigation';\nimport { SkillsSection } from './components/SkillsSection';\nimport { InfoTab } from './components/InfoTab';\nimport { AboutTab } from './components/AboutTab';\nimport { CounterTab } from './components/CounterTab';\nimport { SynergyTab } from './components/SynergyTab';\nimport { HistoryTab } from './components/HistoryTab';\nimport { BuildsTab } from './components/BuildsTab';\nimport { useHeroSkills } from './hooks/useHeroSkills';\nimport { useHeroTabs } from './hooks/useHeroTabs';\nimport { useSEO } from '../../hooks/useSEO';\nimport { useEscapeKey } from '../../hooks/useEscapeKey';\nimport { useAuthStore } from '../../store/authStore';\nimport styles from './styles.module.scss';\nimport type { Patch } from '../../types';\n\nfunction HeroDetailPage() {\n  const { t, i18n } = useTranslation();\n  const { heroId } = useParams();\n  const { data: hero, isLoading: heroLoading, isError: heroError } = useHeroQuery(Number(heroId));\n  const { data: skills = [], isLoading: skillsLoading } = useHeroSkillsQuery(Number(heroId));\n  const { data: allHeroes = [] } = useHeroesQuery(hero?.game_id || 0);\n  useHeroCounterDataQuery(hero?.game_id || 0);\n  useHeroCompatibilityDataQuery(hero?.game_id || 0);\n  const { data: patches = [] } = usePatchesQuery();\n  \n  const [lightboxOpen, setLightboxOpen] = React.useState(false);\n  const [bannerLoaded, setBannerLoaded] = React.useState(false);\n  \n  useEscapeKey(React.useCallback(() => setLightboxOpen(false), []), lightboxOpen);\n  \n  const { activeTab, counterSubTab, synergySubTab, setActiveTab, setCounterSubTab, setSynergySubTab } = useHeroTabs();\n  const [buildsSubTab, setBuildsSubTab] = React.useState<'builds' | 'my'>('builds');\n  const { user } = useAuthStore();\n  const prevUserRef = React.useRef(user);\n\n  // Reset to 'builds' sub-tab only when user actually logs out (was logged in  becomes null)\n  React.useEffect(() => {\n    if (prevUserRef.current && !user && buildsSubTab === 'my') {\n      setBuildsSubTab('builds');\n    }\n    prevUserRef.current = user;\n  }, [user, buildsSubTab]);\n  \n  useSEO({\n    title: hero ? `${hero.name}  Hero Guide` : 'Hero',\n    description: hero ? `${hero.name} guide  skills, builds, counters and stats for Mobile Legends.` : undefined,\n  });\n  \n  const {\n    displaySkills,\n    selectedSkillIndex,\n    selectedSkill,\n    maxTransforms,\n    transformIndex,\n    changedIndices,\n    cycleTransform,\n    setSelectedSkillIndex,\n  } = useHeroSkills(skills);\n\n  // Filter patches containing changes for this hero\n  const heroPatches = React.useMemo(() => {\n    if (!hero || !patches) return [];\n    return patches.filter((patch: Patch) => \n      (patch.hero_changes && patch.hero_changes[hero.name]) ||\n      (patch.hero_adjustments && patch.hero_adjustments[hero.name])\n    );\n  }, [patches, hero]);\n\n  // Ability labels\n  const abilitiesLabel = [\n    t('heroDetail.durability'),\n    t('heroDetail.offense'),\n    t('heroDetail.abilityEffects'),\n    t('heroDetail.difficulty')\n  ];\n\n  // Helper function to get rating level\n  const getRatingLevel = (rate: number): { level: string; color: string } => {\n    if (rate >= 60) return { level: t('heroDetail.ratingVeryHigh'), color: 'high' };\n    if (rate >= 40) return { level: t('heroDetail.ratingHigh'), color: 'medium-high' };\n    if (rate >= 20) return { level: t('heroDetail.ratingAverage'), color: 'medium' };\n    return { level: t('heroDetail.ratingLow'), color: 'low' };\n  };\n\n  if (heroLoading || skillsLoading) return <Loader />;\n  if (heroError || !hero) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.error}>{t('heroDetail.notFound')}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      {/* Cinematic Banner */}\n      <div className={styles.cinematicBanner}>\n        {(hero.painting || hero.image) && (\n          <img \n            src={hero.painting || hero.image} \n            alt={hero.name}\n            className={`${styles.bannerImage} ${bannerLoaded ? styles.bannerImageLoaded : ''}`}\n            onLoad={() => setBannerLoaded(true)}\n          />\n        )}\n        <div className={styles.bannerOverlay} />\n        <div className={styles.bannerContent}>\n          <div className={styles.bannerInfoCard}>\n            <div className={styles.bannerNameRow}>\n              <h1 className={styles.bannerHeroName}>{getHeroName(hero, i18n.language)}</h1>\n              <FavoriteButton heroId={hero.id} />\n            </div>\n            {hero.roles && hero.roles.length > 0 && (\n              <div className={styles.bannerRoleTags}>\n                {translateRoles(hero.roles, i18n.language).map((role, idx) => (\n                  <span key={idx} className={styles.bannerRoleTag}>{role}</span>\n                ))}\n              </div>\n            )}\n            {(hero.short_description || hero.short_description_uk) && (\n              <p className={styles.bannerDescription}>\n                {getHeroShortDescription(hero, i18n.language)}\n              </p>\n            )}\n          </div>\n          {hero.image && (\n            <div className={styles.bannerPortraitWrapper}>\n              {hero.abilityshow && hero.abilityshow.length >= 4 && (\n                <svg className={styles.abilityRings} viewBox=\"0 0 120 120\">\n                  {/* Durability ring  green */}\n                  <circle cx=\"60\" cy=\"60\" r=\"56\" fill=\"none\" stroke=\"rgba(16, 185, 129, 0.15)\" strokeWidth=\"3\" />\n                  <circle cx=\"60\" cy=\"60\" r=\"56\" fill=\"none\" stroke=\"#10b981\" strokeWidth=\"3\"\n                    strokeDasharray={`${(Number(hero.abilityshow[0]) / 100) * 351.86} 351.86`}\n                    strokeLinecap=\"round\" transform=\"rotate(-90 60 60)\" />\n                  {/* Offense ring  red */}\n                  <circle cx=\"60\" cy=\"60\" r=\"52\" fill=\"none\" stroke=\"rgba(239, 68, 68, 0.15)\" strokeWidth=\"3\" />\n                  <circle cx=\"60\" cy=\"60\" r=\"52\" fill=\"none\" stroke=\"#ef4444\" strokeWidth=\"3\"\n                    strokeDasharray={`${(Number(hero.abilityshow[1]) / 100) * 326.73} 326.73`}\n                    strokeLinecap=\"round\" transform=\"rotate(-90 60 60)\" />\n                  {/* Ability Effects ring  blue */}\n                  <circle cx=\"60\" cy=\"60\" r=\"48\" fill=\"none\" stroke=\"rgba(96, 165, 250, 0.15)\" strokeWidth=\"3\" />\n                  <circle cx=\"60\" cy=\"60\" r=\"48\" fill=\"none\" stroke=\"#60a5fa\" strokeWidth=\"3\"\n                    strokeDasharray={`${(Number(hero.abilityshow[2]) / 100) * 301.59} 301.59`}\n                    strokeLinecap=\"round\" transform=\"rotate(-90 60 60)\" />\n                  {/* Difficulty ring  amber */}\n                  <circle cx=\"60\" cy=\"60\" r=\"44\" fill=\"none\" stroke=\"rgba(245, 158, 11, 0.15)\" strokeWidth=\"3\" />\n                  <circle cx=\"60\" cy=\"60\" r=\"44\" fill=\"none\" stroke=\"#f59e0b\" strokeWidth=\"3\"\n                    strokeDasharray={`${(Number(hero.abilityshow[3]) / 100) * 276.46} 276.46`}\n                    strokeLinecap=\"round\" transform=\"rotate(-90 60 60)\" />\n                </svg>\n              )}\n              <div className={styles.bannerPortrait} onClick={() => setLightboxOpen(true)} role=\"button\" tabIndex={0} onKeyDown={(e) => e.key === 'Enter' && setLightboxOpen(true)}>\n                <img src={hero.image} alt={getHeroName(hero, i18n.language)} />\n              </div>\n            </div>\n          )}\n        </div>\n        <div className={styles.bannerGradientLine} />\n      </div>\n\n      {/* Stats Strip */}\n      <div className={styles.statsStrip}>\n        <div className={styles.statsStripLeft}>\n          {hero.hero_stats?.hp && (\n            <div className={styles.statPill} data-type=\"hp\">\n              <span className={styles.statPillValue}>{hero.hero_stats.hp}</span>\n              <span className={styles.statPillLabel}>HP</span>\n              <span className={styles.statPillGrowth}>+{hero.hero_stats?.hp_regen || '0'}</span>\n            </div>\n          )}\n          {!!hero.hero_stats?.mana && (\n            <div className={styles.statPill} data-type=\"mana\">\n              <span className={styles.statPillValue}>{hero.hero_stats.mana}</span>\n              <span className={styles.statPillLabel}>MP</span>\n              <span className={styles.statPillGrowth}>+{hero.hero_stats?.mana_regen || '0'}</span>\n            </div>\n          )}\n        </div>\n        <div className={styles.statsStripRight}>\n          {hero.damage_type && (\n            <div className={styles.tagGroup}>\n              <span className={styles.tagGroupLabel}>{t('heroDetail.damageType')}</span>\n              <span className={styles.tagPill}>{getDamageType(hero.damage_type, i18n.language)}</span>\n            </div>\n          )}\n          {hero.lane && hero.lane.length > 0 && (\n            <div className={styles.tagGroup}>\n              <span className={styles.tagGroupLabel}>{t('heroDetail.lane')}</span>\n              {translateLanes(hero.lane, i18n.language).map((lane, idx) => (\n                <span key={`lane-${idx}`} className={styles.tagPill}>{lane}</span>\n              ))}\n            </div>\n          )}\n          {hero.specialty && hero.specialty.length > 0 && (\n            <div className={styles.tagGroup}>\n              <span className={styles.tagGroupLabel}>{t('heroDetail.specialty')}</span>\n              {translateSpecialties(hero.specialty, i18n.language).map((spec, idx) => (\n                <span key={`spec-${idx}`} className={styles.tagPill} data-accent=\"true\">{spec}</span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Main Content  full width, no sidebar */}\n      <div className={styles.heroMainContent}>\n        <TabsNavigation activeTab={activeTab} onTabChange={setActiveTab} />\n\n          {/* Tab Content */}\n          <div className={styles.tabContent}>\n            {activeTab === 'info' && (\n              <InfoTab hero={hero} abilitiesLabel={abilitiesLabel} getRatingLevel={getRatingLevel} />\n            )}\n            {activeTab === 'about' && <AboutTab hero={hero} />}\n            {activeTab === 'counter' && (\n              <CounterTab hero={hero} allHeroes={allHeroes} counterSubTab={counterSubTab} setCounterSubTab={setCounterSubTab} />\n            )}\n            {activeTab === 'synergy' && (\n              <SynergyTab hero={hero} allHeroes={allHeroes} synergySubTab={synergySubTab} setSynergySubTab={setSynergySubTab} />\n            )}\n            {activeTab === 'history' && <HistoryTab hero={hero} heroPatches={heroPatches} />}\n            {activeTab === 'builds' && (\n              <BuildsTab hero={hero} buildsSubTab={buildsSubTab} setBuildsSubTab={setBuildsSubTab} />\n            )}\n          </div>\n        </div>\n\n      {/* Skills Section */}\n      <SkillsSection\n        displaySkills={displaySkills}\n        selectedSkillIndex={selectedSkillIndex}\n        selectedSkill={selectedSkill}\n        maxTransforms={maxTransforms}\n        transformIndex={transformIndex}\n        changedIndices={changedIndices}\n        onSkillSelect={setSelectedSkillIndex}\n        onTransformCycle={cycleTransform}\n      />\n\n      {/* Lightbox */}\n      {lightboxOpen && (hero.painting || hero.image) && (\n        <div className={styles.lightboxOverlay} onClick={() => setLightboxOpen(false)}>\n          <button className={styles.lightboxClose} onClick={() => setLightboxOpen(false)} aria-label=\"Close\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n            </svg>\n          </button>\n          <img\n            className={styles.lightboxImage}\n            src={hero.painting || hero.image}\n            alt={getHeroName(hero, i18n.language)}\n            onClick={(e) => e.stopPropagation()}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default HeroDetailPage;\n","import { useQuery } from '@tanstack/react-query';\nimport { patchesApi } from '../api/patches';\nimport { queryKeys, STALE_5_MIN } from './keys';\nimport type { Patch } from '../types';\n\nexport const usePatchesQuery = () => {\n  return useQuery({\n    queryKey: queryKeys.patches.all,\n    queryFn: async () => {\n      const patches = await patchesApi.getPatches() as Patch[];\n      // Sort patches by date (newest first)\n      return patches.sort((a: Patch, b: Patch) => {\n        const dateA = new Date(a.release_date).getTime();\n        const dateB = new Date(b.release_date).getTime();\n        return dateB - dateA;\n      });\n    },\n    staleTime: STALE_5_MIN,\n  });\n};\n\n\n","import { useState } from 'react';\nimport { UseHeroTabsReturn } from './interface';\n\nexport const useHeroTabs = (): UseHeroTabsReturn => {\n  const [activeTab, setActiveTab] = useState<'info' | 'about' | 'counter' | 'synergy' | 'history' | 'builds'>('info');\n  const [counterSubTab, setCounterSubTab] = useState<'best' | 'worst'>('best');\n  const [synergySubTab, setSynergySubTab] = useState<'compatible' | 'incompatible'>('compatible');\n\n  return {\n    activeTab,\n    counterSubTab,\n    synergySubTab,\n    setActiveTab,\n    setCounterSubTab,\n    setSynergySubTab,\n  };\n};\n","import { useState, useEffect } from 'react';\nimport { HeroSkill } from '../../../types/hero';\nimport { UseHeroSkillsReturn } from './interface';\n\nexport const useHeroSkills = (\n  skills: HeroSkill[],\n  initialSkillIndex: number = 0\n): UseHeroSkillsReturn => {\n  const [selectedSkillIndex, setSelectedSkillIndex] = useState<number>(initialSkillIndex);\n  const [transformIndex, setTransformIndex] = useState(0);\n\n  // Filter and sort base skills (non-transformed)\n  const baseSkills = skills\n    .filter(skill => !skill.is_transformed)\n    .sort((a, b) => (a.display_order ?? 0) - (b.display_order ?? 0));\n\n  // Filter and sort transformed skills\n  const transformedSkills = skills\n    .filter(skill => skill.is_transformed)\n    .sort((a, b) => (a.display_order ?? 0) - (b.display_order ?? 0));\n\n  // Calculate max transformation levels\n  const maxTransforms = transformedSkills.length > 0 \n    ? Math.max(...transformedSkills.map(s => s.transformation_order || 0))\n    : 0;\n\n  // Get display skills based on current transform index\n  const displaySkills = transformIndex === 0\n    ? baseSkills\n    : baseSkills.map(base => \n        transformedSkills.find(\n          t => t.replaces_skill_id === base.id && t.transformation_order === transformIndex\n        ) || base\n      );\n\n  // Track which skill indices changed from base\n  const changedIndices: Set<number> = new Set();\n  if (transformIndex > 0) {\n    displaySkills.forEach((skill, index) => {\n      if (skill.id !== baseSkills[index]?.id) {\n        changedIndices.add(index);\n      }\n    });\n  }\n\n  // Cycle through transformations\n  const cycleTransform = () => {\n    setTransformIndex((prev) => (prev + 1) % (maxTransforms + 1));\n  };\n\n  // Selected skill\n  const selectedSkill = displaySkills[selectedSkillIndex] || displaySkills[0];\n\n  // Reset skill index if out of bounds\n  useEffect(() => {\n    if (selectedSkillIndex >= displaySkills.length && displaySkills.length > 0) {\n      setSelectedSkillIndex(0);\n    }\n  }, [displaySkills, selectedSkillIndex]);\n\n  return {\n    baseSkills,\n    transformedSkills,\n    displaySkills,\n    selectedSkillIndex,\n    selectedSkill,\n    maxTransforms,\n    transformIndex,\n    changedIndices,\n    cycleTransform,\n    setSelectedSkillIndex,\n    setTransformIndex,\n  };\n};\n","import { useEffect } from 'react';\n\n/**\n * Calls `handler` when the Escape key is pressed.\n * Only active when `active` is true (default).\n */\nexport const useEscapeKey = (handler: () => void, active = true) => {\n  useEffect(() => {\n    if (!active) return;\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') handler();\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [handler, active]);\n};\n","import { useEffect } from 'react';\n\ninterface SEOProps {\n  title?: string;\n  description?: string;\n  image?: string;\n}\n\nconst BASE_TITLE = 'Wiki for Mobile Legends (Unofficial)';\nconst BASE_DESCRIPTION = 'Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.';\nconst BASE_URL = 'https://moba-wiki-production.up.railway.app';\nconst DEFAULT_IMAGE = `${BASE_URL}/logo512.png`;\n\nconst setMetaTag = (property: string, content: string) => {\n  let meta = document.querySelector(`meta[property=\"${property}\"]`);\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('property', property);\n    document.head.appendChild(meta);\n  }\n  meta.setAttribute('content', content);\n};\n\nconst setNameMeta = (name: string, content: string) => {\n  let meta = document.querySelector(`meta[name=\"${name}\"]`);\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', name);\n    document.head.appendChild(meta);\n  }\n  meta.setAttribute('content', content);\n};\n\nexport const useSEO = ({ title, description, image }: SEOProps = {}) => {\n  useEffect(() => {\n    const fullTitle = title ? `${title} | ${BASE_TITLE}` : BASE_TITLE;\n    const desc = description || BASE_DESCRIPTION;\n    const img = image || DEFAULT_IMAGE;\n    const url = window.location.href;\n\n    document.title = fullTitle;\n\n    // Standard meta\n    setNameMeta('description', desc);\n\n    // Open Graph\n    setMetaTag('og:title', fullTitle);\n    setMetaTag('og:description', desc);\n    setMetaTag('og:image', img);\n    setMetaTag('og:url', url);\n    setMetaTag('og:type', 'website');\n    setMetaTag('og:site_name', 'MOBA Wiki');\n\n    // Twitter Card\n    setNameMeta('twitter:card', 'summary_large_image');\n    setNameMeta('twitter:title', fullTitle);\n    setNameMeta('twitter:description', desc);\n    setNameMeta('twitter:image', img);\n\n    return () => {\n      document.title = BASE_TITLE;\n      setNameMeta('description', BASE_DESCRIPTION);\n    };\n  }, [title, description, image]);\n};\n","import { useCallback } from 'react';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { useAuthStore, authFetch } from '../store/authStore';\n\ninterface Favorite {\n  id: number;\n  hero_id: number;\n  created_at: string;\n  name?: string;\n  image?: string;\n}\n\n/**\n * Shared favorites hook  loads favorites ONCE and shares across all components.\n * Uses react-query for caching, deduplication, and automatic refetch.\n */\nexport const useFavorites = () => {\n  const token = useAuthStore((s) => s.token);\n  const queryClient = useQueryClient();\n\n  const { data: favorites = [], isLoading } = useQuery<Favorite[]>({\n    queryKey: ['favorites'],\n    queryFn: () => authFetch('/favorites'),\n    enabled: !!token,\n    staleTime: 30 * 1000, // 30 seconds\n    retry: 1,\n  });\n\n  const isFavorite = useCallback(\n    (heroId: number) => favorites.some((f) => f.hero_id === heroId),\n    [favorites]\n  );\n\n  const toggleFavorite = useCallback(\n    async (heroId: number) => {\n      const currentlyFavorite = favorites.some((f) => f.hero_id === heroId);\n\n      // Optimistic update\n      queryClient.setQueryData<Favorite[]>(['favorites'], (old = []) =>\n        currentlyFavorite\n          ? old.filter((f) => f.hero_id !== heroId)\n          : [...old, { id: Date.now(), hero_id: heroId, created_at: new Date().toISOString() }]\n      );\n\n      try {\n        if (currentlyFavorite) {\n          await authFetch(`/favorites/${heroId}`, { method: 'DELETE' });\n        } else {\n          await authFetch(`/favorites/${heroId}`, { method: 'POST' });\n        }\n        // Refetch to sync with server\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n      } catch (err) {\n        // Rollback optimistic update\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n        throw err;\n      }\n    },\n    [favorites, queryClient]\n  );\n\n  const addFavorite = useCallback(\n    async (heroId: number) => {\n      // Optimistic update\n      queryClient.setQueryData<Favorite[]>(['favorites'], (old = []) => [\n        ...old,\n        { id: Date.now(), hero_id: heroId, created_at: new Date().toISOString() },\n      ]);\n\n      try {\n        await authFetch(`/favorites/${heroId}`, { method: 'POST' });\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n      } catch (err) {\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n        throw err;\n      }\n    },\n    [queryClient]\n  );\n\n  return { favorites, isLoading, isFavorite, toggleFavorite, addFavorite };\n};\n"],"names":["useEmblems","gameId","useQuery","queryKey","queryKeys","emblems","all","Number","queryFn","fetcherRaw","concat","enabled","staleTime","STALE_5_MIN","useEmblemTalents","_allTalentsQuery$data","allTalentsQuery","talents","allTalents","data","tier1","filter","t","tier","tier2","tier3","isLoading","FavoriteButton","_ref","heroId","className","tooltipPosition","useTranslation","user","useAuthStore","isFavorite","toggleFavorite","addFavorite","favLoading","useFavorites","isToggling","setIsToggling","useState","showTooltip","setShowTooltip","pendingHeroRef","useRef","active","googleLogin","useGoogleAuth","useCallback","async","current","_unused","tooltipText","_jsxs","styles","children","_jsx","onClick","setTimeout","err","console","error","disabled","title","width","height","viewBox","fill","stroke","strokeWidth","d","sanitizeHtml","dirty","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","patchesApi","getPatches","fetcher","TABS","key","Icon","InfoIcon","strokeLinecap","strokeLinejoin","cx","cy","r","label","BuildsIcon","CounterIcon","SynergyIcon","AboutIcon","HistoryIcon","points","TabsNavigation","React","activeTab","onTabChange","tabsNavigation","map","_ref2","tabButton","tabButtonActive","SkillsSection","displaySkills","selectedSkillIndex","selectedSkill","maxTransforms","transformIndex","changedIndices","onSkillSelect","onTransformCycle","i18n","length","skillsSection","sectionTitle","skillsContainer","skillTabs","skill","index","skillTab","skillTabActive","has","skillTabTransformed","image","src","alt","getSkillName","language","skill_type","skillTabBadge","skillTabChangedDot","id","transformButton","transformButtonActive","xmlns","skillDetail","skillDetailHeader","skillDetailInfo","skillDetailName","skillBadges","effect_types","effectType","idx","displayType","name","JSON","stringify","effectTypeBadge","skill_parameters","Object","entries","skillStatsInline","displayValue","value","Array","isArray","levels","join","String","skillStatInline","skill_description","skill_description_uk","skillDetailDescription","dangerouslySetInnerHTML","__html","getSkillDescription","InfoTab","_hero$hero_stats","_hero$hero_stats2","_hero$hero_stats$magi","_hero$hero_stats3","_hero$hero_stats4","_hero$hero_stats5","_hero$hero_stats6","_hero$hero_stats7","hero","abilitiesLabel","getRatingLevel","contentSection","main_hero_appearance_rate","main_hero_ban_rate","main_hero_win_rate","performanceRatings","ratingsGrid","ratingCard","ratingCardHeader","ratingCardName","ratingCardValue","toFixed","ratingBar","ratingBarFill","style","Math","min","color","ratingCardDescription","statsTable","statsTableRow","statsTableCell","statName","statValueLarge","hero_stats","physical_attack","physical_defense","magic_power","magic_defense","attack_speed","movement_speed","attack_speed_ratio","fullWidthCell","abilityshow","abilityShow","abilityShowTitle","abilityShowGrid","rating","abilityShowItem","abilityShowLabel","abilityShowBarWrapper","abilityShowBar","abilityShowFill","abilityShowValue","AboutTab","showFullDescription","setShowFullDescription","full_description","full_description_uk","fullDescription","getHeroFullDescription","descriptionSection","descriptionTitle","getHeroName","descriptionText","descriptionTextCollapsed","showMoreButton","parseMaybeJson","parse","CounterTab","allHeroes","counterSubTab","setCounterSubTab","findHeroByGameId","find","h","hero_game_id","heroCounterData","counter_data","bestCounters","best_counters","counters","mostCounteredBy","most_countered_by","allies","renderComparison","counterHeroes","isWorst","_topCounter$heroid","topCounter","counterHeroId","heroid","hero_id","counterHero","heroWinRateValue","heroWinRate","counterWinRateValue","win_rate","counterWinRate","_Fragment","heroComparison","heroComparisonSide","left","head","leftAvatar","comparisonWinRate","winRateNumber","winRateLabel","heroComparisonDivider","right","rightAvatar","comparisonDesc","renderList","isBest","slice","counter","_counter$heroid","raw","increase_win_rate","abs","increaseWinRate","Link","to","game_id","counterListItem","counterListRank","counterListImage","counterListInfo","counterListName","counterListBar","counterListBarFill","counterListScore","relationshipSection","relationshipMainTitle","relationshipTabs","relationshipTab","relationshipTabActive","relationshipContent","comparisonBlock","counterList","counterListHeader","SynergyTab","synergySubTab","setSynergySubTab","heroCompatibilityData","compatibility_data","mates","isIncompatible","_topMate$heroid","topMate","topMateId","mateHero","teamWinRateValue","teamWinRate","mate","_mate$heroid","mateId","compatible","not_compatible","HistoryTab","heroPatches","historySection","historyHeader","historySectionTitle","historySectionDesc","viewAllPatchesBtn","patchesTimeline","patch","_patch$hero_changes","_patch$hero_adjustmen","heroChange","hero_changes","heroAdjustment","hero_adjustments","patchCard","patchHeader","patchVersion","patchVersionLabel","patchVersionNumber","version","patchDate","Date","release_date","toLocaleDateString","year","month","day","summary","description","patchSummary","skills","skillChanges","skillChange","skillHeader","skillName","skillType","type","skillNameText","balance","balanceBadge","toLowerCase","changes","changesList","change","changeIdx","changeItem","adjustments","adj","skill_name","badge","attribute_adjustments","attribute_name","patchLink","noHistoryData","RANK_CLASSES","pbRankGold","pbRankSilver","pbRankBronze","ProBuildsSection","builds","lang","visibleCount","setVisibleCount","items","itemsLoading","useItemsQuery","emblemsLoading","talentsLoading","spells","spellsLoading","isDataLoading","itemsMap","Map","forEach","item","set","spellsMap","spell","emblemsMap","emblem","talentsMap","talent","sortedBuilds","visibleBuilds","hasMore","remaining","pbContainer","_","pbSkeletonCard","pbSkeletonItemsRow","i","pbSkeletonArrow","pbSkeletonItem","pbSkeletonItemIcon","pbSkeletonItemLabel","pbSkeletonSetupRow","pbSkeletonSetupItem","pbSkeletonSetupIcon","pbSkeletonSetupLabel","pbCount","build","get","battle_spell_id","emblem_id","isTop3","rankClass","pbCard","pbCardTop","pbItemsRow","core_items","itemId","iIdx","pbItemArrow","pbItem","getItemName","icon_url","pbItemImg","loading","pbItemEmpty","pbItemLabel","optional_items","pbItemDivider","pbItemOptional","pbSetupRow","pbSetupGroup","pbSetupGroupLabel","pbSetupItem","getSpellName","pbSetupIcon","pbSetupLabel","emblem_talents","pbSetupDivider","pbSetupGroupItems","pbSetupItemEmblem","getEmblemName","tIdx","td","getTalentName","pbShowMore","prev","BuildCard","isOwn","onEdit","onDelete","buildItems","Boolean","spell1","spell1_id","spell2","spell2_id","cbCard","cbCardHeader","cbCardTitle","author_name","cbAuthor","author_picture","cbAuthorPic","referrerPolicy","cbCardActions","cbActionBtn","notes","cbNotes","BuildFormModal","editingBuild","buildName","setBuildName","selectedItems","selectedEmblem","setSelectedEmblem","selectedSpell1","setSelectedSpell1","selectedSpell2","setSelectedSpell2","selectedTalents","setSelectedTalents","setNotes","itemSearch","setItemSearch","saving","filteredItems","toggleItem","onSave","onClose","cbOverlay","cbModal","e","stopPropagation","cbModalHeader","cbCloseBtn","cbFormBody","cbFormGroup","onChange","target","placeholder","cbInput","maxLength","cbSelectedItems","slot","cbSlot","cbSlotFilled","cbItemGrid","_item$name","cbItemPick","includes","cbItemPicked","cbSpellRow","cbSpellPick","cbSpellPicked","cbEmblemRow","cbEmblemPick","cbEmblemPicked","tierTalents","tierIdx","cbTalentTier","cbTalentTierLabel","cbTalentRow","isSelected","cbTalentPick","cbTalentPicked","otherTierNames","withoutThisTier","n","getTalentEffect","cbTextarea","rows","cbModalFooter","cbCancelBtn","cbSaveBtn","trim","BuildSkeleton","count","pbSkeletonHeader","pbSkeletonRank","CommunityBuildsSection","showOnly","showLoginPrompt","setShowLoginPrompt","communityBuilds","loadingCommunity","refetch","refetchCommunity","community","token","getState","headers","res","fetch","API_URL","ok","Error","json","form","useBuildForm","showForm","setShowForm","setEditingBuild","myBuilds","setMyBuilds","loadingMyBuilds","setLoadingMyBuilds","setSaving","setSelectedItems","fetchMyBuilds","authFetch","useEffect","resetForm","openForm","handleSave","body","method","_objectSpread","handleDelete","buildId","useEscapeKey","s","filtered","q","cbContainer","cbSection","cbSectionHeader","cbCreateBtn","handleCreateClick","cbLoginPrompt","cbEmpty","b","BuildsTab","buildsSubTab","setBuildsSubTab","pro_builds","useParams","heroLoading","isError","heroError","useHeroQuery","skillsLoading","useHeroSkillsQuery","useHeroesQuery","useHeroCounterDataQuery","useHeroCompatibilityDataQuery","patches","sort","a","dateA","getTime","lightboxOpen","setLightboxOpen","bannerLoaded","setBannerLoaded","setActiveTab","useHeroTabs","prevUserRef","useSEO","undefined","cycleTransform","setSelectedSkillIndex","initialSkillIndex","arguments","setTransformIndex","baseSkills","is_transformed","_a$display_order","_b$display_order","display_order","transformedSkills","_a$display_order2","_b$display_order2","max","transformation_order","base","replaces_skill_id","Set","_baseSkills$index","add","useHeroSkills","Loader","container","cinematicBanner","painting","bannerImage","bannerImageLoaded","onLoad","bannerOverlay","bannerContent","bannerInfoCard","bannerNameRow","bannerHeroName","roles","bannerRoleTags","translateRoles","role","bannerRoleTag","short_description","short_description_uk","bannerDescription","getHeroShortDescription","bannerPortraitWrapper","abilityRings","strokeDasharray","transform","bannerPortrait","tabIndex","onKeyDown","bannerGradientLine","statsStrip","statsStripLeft","hp","statPill","statPillValue","statPillLabel","statPillGrowth","hp_regen","mana","mana_regen","statsStripRight","damage_type","tagGroup","tagGroupLabel","tagPill","getDamageType","lane","translateLanes","specialty","translateSpecialties","spec","heroMainContent","tabContent","rate","level","lightboxOverlay","lightboxClose","x1","y1","x2","y2","lightboxImage","handler","document","addEventListener","removeEventListener","BASE_TITLE","BASE_DESCRIPTION","DEFAULT_IMAGE","setMetaTag","property","content","meta","querySelector","createElement","setAttribute","appendChild","setNameMeta","fullTitle","desc","img","url","window","location","href","queryClient","useQueryClient","favorites","retry","some","f","currentlyFavorite","setQueryData","old","now","created_at","toISOString","invalidateQueries"],"ignoreList":[],"sourceRoot":""}