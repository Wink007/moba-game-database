"use strict";(self.webpackChunkmoba_wiki=self.webpackChunkmoba_wiki||[]).push([[471],{1175:(e,s,a)=>{a.d(s,{$:()=>r,Z:()=>n});var t=a(8261),l=a(5249),i=a(833);const n=e=>(0,t.I)({queryKey:l.l.emblems.all(Number(e)),queryFn:()=>(0,i.m)("/emblems?game_id=".concat(e)),enabled:!!e,staleTime:l.N}),r=e=>{var s;const a=(0,t.I)({queryKey:l.l.emblems.talents(Number(e)),queryFn:()=>(0,i.m)("/emblem-talents?game_id=".concat(e)),enabled:!!e,staleTime:l.N}),n=null!==(s=a.data)&&void 0!==s?s:[];return{tier1:n.filter(e=>1===e.tier),tier2:n.filter(e=>2===e.tier),tier3:n.filter(e=>3===e.tier),isLoading:a.isLoading}}},1743:(e,s,a)=>{a.d(s,{Z:()=>p});var t=a(5043),l=a(6930),i=a(8687),n=a(9645),r=a(623);const c="styles_favWrapper__3fhqK",o="styles_favoriteBtn__mC9D2",d="styles_active__aHoUL",m="styles_notAuth__M-vT0",_="styles_loginTooltip__4+vqv",h="styles_loginTooltipTop__s+6X-";var b=a(579);const p=e=>{let{heroId:s,className:a,tooltipPosition:p="bottom"}=e;const{t:u}=(0,l.Bd)(),{user:y}=(0,i.nc)(),{isFavorite:g,toggleFavorite:x,addFavorite:v,isLoading:j}=(0,n.r)(),[N,S]=(0,t.useState)(!1),[k,I]=(0,t.useState)(!1),f=(0,t.useRef)(null),T=g(s),w=(0,r.h)((0,t.useCallback)(async()=>{if(null!==f.current){try{await v(f.current)}catch(e){}f.current=null}},[v])),C=u(y?T?"favorites.remove":"favorites.add":"favorites.loginToAdd");return(0,b.jsxs)("div",{className:c,children:[(0,b.jsx)("button",{className:"".concat(o," ").concat(T?d:""," ").concat(y?"":m," ").concat(a||""),onClick:async()=>{if(!N&&!j){if(!y)return f.current=s,I(!0),setTimeout(()=>I(!1),2500),void setTimeout(()=>w(),400);S(!0);try{await x(s)}catch(e){console.error("Failed to toggle favorite:",e)}finally{S(!1)}}},disabled:N,title:C,"aria-label":C,children:(0,b.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:T?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),k&&(0,b.jsx)("div",{className:"".concat(_," ").concat("top"===p?h:""),children:u("favorites.loginToAdd")})]})}},2389:(e,s,a)=>{a.d(s,{p:()=>l});var t=a(7977);const l=e=>e?t.A.sanitize(e,{ALLOWED_TAGS:["b","i","em","strong","u","s","br","p","span","div","ul","ol","li","a","h1","h2","h3","h4","h5","h6","table","thead","tbody","tr","th","td","img","sup","sub"],ALLOWED_ATTR:["href","target","rel","class","style","src","alt","title"]}):""},2471:(e,s,a)=>{a.r(s),a.d(s,{default:()=>V});var t=a(4218),l=a(5043),i=a(6930),n=a(9046),r=a(5935),c=a(8261),o=a(833);const d=()=>(0,o.G)("/patches");var m=a(5249);var _=a(5836),h=a(1743);const b={container:"styles_container__z3RwH",cinematicBanner:"styles_cinematicBanner__4mIie",bannerImage:"styles_bannerImage__n17hB",kenBurns:"styles_kenBurns__VWZ0s",bannerImageLoaded:"styles_bannerImageLoaded__U3ZZv",bannerOverlay:"styles_bannerOverlay__bO-pR",bannerContent:"styles_bannerContent__1Mlkl",bannerInfoCard:"styles_bannerInfoCard__hoPmD",bannerNameRow:"styles_bannerNameRow__sTisp",bannerHeroName:"styles_bannerHeroName__kS1jU",bannerRoleTags:"styles_bannerRoleTags__34HXI",bannerRoleTag:"styles_bannerRoleTag__SaWSb",bannerRoles:"styles_bannerRoles__CQp5i",bannerDescription:"styles_bannerDescription__ZrhME",bannerPortraitWrapper:"styles_bannerPortraitWrapper__0rlvs",abilityRings:"styles_abilityRings__12BqI",bannerPortrait:"styles_bannerPortrait__ZccD-",bannerGradientLine:"styles_bannerGradientLine__QVY8a",gradientShift:"styles_gradientShift__1N59u",statsStrip:"styles_statsStrip__fVJsS",statsStripLeft:"styles_statsStripLeft__nEmLY",statsStripRight:"styles_statsStripRight__cB0Ax",statPill:"styles_statPill__g+f61",statPillValue:"styles_statPillValue__qvDud",statPillLabel:"styles_statPillLabel__eQ+Pa",statPillGrowth:"styles_statPillGrowth__kQRo+",tagGroup:"styles_tagGroup__VCMCb",tagGroupLabel:"styles_tagGroupLabel__ITcMk",tagPill:"styles_tagPill__JuFsm",heroHeader:"styles_heroHeader__igQw5",heroHeaderContent:"styles_heroHeaderContent__44qUY",heroImageWrapper:"styles_heroImageWrapper__Tk38A",heroPainting:"styles_heroPainting__23kHx",heroImage:"styles_heroImage__zEooC",heroPortrait:"styles_heroPortrait__OhwwG",shimmer:"styles_shimmer__CgrhW",heroSidebar:"styles_heroSidebar__rMb1z",sidebarHeroName:"styles_sidebarHeroName__agqFX",sidebarHeroNameRow:"styles_sidebarHeroNameRow__tLNFs",sidebarHeroRole:"styles_sidebarHeroRole__RiCDr",heroVitals:"styles_heroVitals__3H2fx",vitalBar:"styles_vitalBar__GtYXF",vitalValue:"styles_vitalValue__biyQL",vitalGrowth:"styles_vitalGrowth__yob5y",heroMainInfo:"styles_heroMainInfo__4X05n",heroTitleSection:"styles_heroTitleSection__H07cm",heroTitle:"styles_heroTitle__b-1uS",heroMeta:"styles_heroMeta__Vwyyd",heroAttribute:"styles_heroAttribute__nACJE",attributeIcon:"styles_attributeIcon__PVa0p",heroStats:"styles_heroStats__og4d1",quickStat:"styles_quickStat__yXNPT",statIcon:"styles_statIcon__0KSXO",statInfo:"styles_statInfo__HaCBl",statLabel:"styles_statLabel__UJtyZ",statValue:"styles_statValue__UsSEv",contentSection:"styles_contentSection__EVoKf",statsGrid:"styles_statsGrid__HOt8b",statsTable:"styles_statsTable__RsgSV",statsTableRow:"styles_statsTableRow__ZmLeO",statsTableCell:"styles_statsTableCell__AB9WM",fullWidthCell:"styles_fullWidthCell__u9-xx",statName:"styles_statName__A5gLG",statValueLarge:"styles_statValueLarge__eTNO4",heroDetailsGrid:"styles_heroDetailsGrid__n9-g1",detailItem:"styles_detailItem__exTYY",detailLabel:"styles_detailLabel__+kRjb",detailValue:"styles_detailValue__4r8VE",statCard:"styles_statCard__WgyPP",statCardTitle:"styles_statCardTitle__1RQTy",attributesRow:"styles_attributesRow__GOA5U",attributeCard:"styles_attributeCard__tKyfn",attrIcon:"styles_attrIcon__dnV4p",attrName:"styles_attrName__GpSlm",attrValue:"styles_attrValue__hJ1Va",attrGrowth:"styles_attrGrowth__8UsIO",statsList:"styles_statsList__r1Ju4",statItem:"styles_statItem__esPxQ",basicInfoGrid:"styles_basicInfoGrid__P444z",infoCard:"styles_infoCard__iMXed",infoIcon:"styles_infoIcon__ubc+7",infoLabel:"styles_infoLabel__ezFFo",infoValue:"styles_infoValue__QAAun",ratingsGrid:"styles_ratingsGrid__pdB4w",ratingsContainer:"styles_ratingsContainer__gekne",ratingsTable:"styles_ratingsTable__drr0z",ratingRow:"styles_ratingRow__wda7r",ratingInfo:"styles_ratingInfo__N9YHl",ratingName:"styles_ratingName__guxYG",ratingDescription:"styles_ratingDescription__8a-VR",ratingData:"styles_ratingData__Fa-iU",ratingPercentage:"styles_ratingPercentage__JBlTE",ratingBar:"styles_ratingBar__6m9Sc",ratingBarFill:"styles_ratingBarFill__5tAFp",ratingCard:"styles_ratingCard__ElEkw",ratingHeader:"styles_ratingHeader__EZ1Xy",ratingIcon:"styles_ratingIcon__Dl8Fn",ratingLabel:"styles_ratingLabel__cJeb5",sidebarDescription:"styles_sidebarDescription__PtSXT",sidebarSpecialty:"styles_sidebarSpecialty__3C6E0",sidebarSpecialtyLabel:"styles_sidebarSpecialtyLabel__zaxxL",specialtyTags:"styles_specialtyTags__zcf3d",specialtyTag:"styles_specialtyTag__AMvAv",sidebarInfo:"styles_sidebarInfo__7Ajok",sidebarInfoLabel:"styles_sidebarInfoLabel__ArqSQ",sidebarInfoValue:"styles_sidebarInfoValue__01wc+",ratingValueWrapper:"styles_ratingValueWrapper__SD7BV",ratingValue:"styles_ratingValue__iXqUE",ratingBadge:"styles_ratingBadge__hBXAb",high:"styles_high__qJs53","medium-high":"styles_medium-high__2wo0f",medium:"styles_medium__Nf67F",low:"styles_low__LGzB-",progressBar:"styles_progressBar__kUNqx",progressFill:"styles_progressFill__8p-UZ",slide:"styles_slide__E1HRU",statsSummary:"styles_statsSummary__Nv3tj",summaryTitle:"styles_summaryTitle__Lt5Au",summaryContent:"styles_summaryContent__4hUvZ",summaryItem:"styles_summaryItem__0GIRc",summaryIcon:"styles_summaryIcon__-Iikz",loader:"styles_loader__klLJF",error:"styles_error__Qn+go",skillCard:"styles_skillCard__YZnTn",transformed:"styles_transformed__unZS9",skillType:"styles_skillType__ZmETU",skillTabs:"styles_skillTabs__9EjFs",skillTab:"styles_skillTab__bviow",skillTabActive:"styles_skillTabActive__vVV51",skillTabBadge:"styles_skillTabBadge__NtzQJ",passive:"styles_passive__KKVyc",active:"styles_active__YJjxR",skillTabTransformed:"styles_skillTabTransformed__lNhNH",transformButton:"styles_transformButton__WuflR",transformIndex:"styles_transformIndex__lDbDO",heroMainContent:"styles_heroMainContent__NTNdh",heroName:"styles_heroName__kKeTl",heroDescription:"styles_heroDescription__f6Ofn",heroMetaTags:"styles_heroMetaTags__oVIk0",metaTag:"styles_metaTag__Wu8Rw",metaTagLabel:"styles_metaTagLabel__++L57",metaTagValue:"styles_metaTagValue__7PeNQ",heroRoles:"styles_heroRoles__+Lwp0",heroBackgroundImage:"styles_heroBackgroundImage__BiOzB",tabsNavigation:"styles_tabsNavigation__1YuyU",tabButton:"styles_tabButton__U633C",tabButtonActive:"styles_tabButtonActive__JfhOu",tabContent:"styles_tabContent__SMMFg",comingSoon:"styles_comingSoon__y0vOj",descriptionSection:"styles_descriptionSection__eIsmM",descriptionTitle:"styles_descriptionTitle__gEmA+",descriptionText:"styles_descriptionText__V+VVA",descriptionTextCollapsed:"styles_descriptionTextCollapsed__3L0LY",showMoreButton:"styles_showMoreButton__B6T0P",abilityShow:"styles_abilityShow__eG-pX",performanceRatings:"styles_performanceRatings__Lriff",sectionTitle:"styles_sectionTitle__Q0HSN",ratingCardHeader:"styles_ratingCardHeader__euY0g",ratingCardName:"styles_ratingCardName__YRK92",ratingCardValue:"styles_ratingCardValue__7jqaU",ratingCardDescription:"styles_ratingCardDescription__M6Hte",abilityShowTitle:"styles_abilityShowTitle__rrOh7",abilityShowGrid:"styles_abilityShowGrid__tg7iF",abilityShowItem:"styles_abilityShowItem__5lRrh",abilityShowLabel:"styles_abilityShowLabel__pEZtd",abilityShowBarWrapper:"styles_abilityShowBarWrapper__2vTtT",abilityShowBar:"styles_abilityShowBar__Tob3a",abilityShowFill:"styles_abilityShowFill__5P+Cy",abilityShowValue:"styles_abilityShowValue__1ImRk",relationshipSection:"styles_relationshipSection__PEjIT",relationshipMainTitle:"styles_relationshipMainTitle__Bx0PB",relationshipTabs:"styles_relationshipTabs__YZYJE",relationshipTab:"styles_relationshipTab__y9HtS",relationshipTabActive:"styles_relationshipTabActive__vz1wk",relationshipContent:"styles_relationshipContent__CcWhH",comparisonBlock:"styles_comparisonBlock__8ge8M",heroComparison:"styles_heroComparison__u9ftH",heroComparisonSide:"styles_heroComparisonSide__aZNTO",leftAvatar:"styles_leftAvatar__9MvTe",rightAvatar:"styles_rightAvatar__ZzzHl",heroComparisonDivider:"styles_heroComparisonDivider__jj8LD",comparisonWinRate:"styles_comparisonWinRate__Zxc8F",winRateNumber:"styles_winRateNumber__YNyoI",left:"styles_left__h501p",right:"styles_right__4eyDd",winRateLabel:"styles_winRateLabel__C1FmK",comparisonDesc:"styles_comparisonDesc__Wrx1X",counterList:"styles_counterList__i23Ze",counterListHeader:"styles_counterListHeader__L4HQA",counterListItem:"styles_counterListItem__R8KBe",counterListRank:"styles_counterListRank__SsdxC",counterListImage:"styles_counterListImage__4YvU2",counterListScore:"styles_counterListScore__5ghpw",counterListInfo:"styles_counterListInfo__zPaPH",counterListName:"styles_counterListName__cJKIa",counterListBar:"styles_counterListBar__JSs9v",counterListBarFill:"styles_counterListBarFill__UNe47",comparisonHeroImage:"styles_comparisonHeroImage__mfU0S",historySection:"styles_historySection__bZ6gX",historyHeader:"styles_historyHeader__BLgJX",historySectionTitle:"styles_historySectionTitle__KDkPR",historySectionDesc:"styles_historySectionDesc__hElfe",viewAllPatchesBtn:"styles_viewAllPatchesBtn__W3fno",patchesTimeline:"styles_patchesTimeline__D5KQm",patchCard:"styles_patchCard__D7Rub",patchHeader:"styles_patchHeader__CxdJQ",patchVersion:"styles_patchVersion__I2Q3z",patchVersionLabel:"styles_patchVersionLabel__mbiw6",patchVersionNumber:"styles_patchVersionNumber__QGN0+",patchDate:"styles_patchDate__EWwqK",patchSummary:"styles_patchSummary__5ytU3",skillChanges:"styles_skillChanges__jNXpx",skillChange:"styles_skillChange__a9HBX",skillHeader:"styles_skillHeader__kQR1P",skillName:"styles_skillName__Xcvs5",skillNameText:"styles_skillNameText__4F945",balanceBadge:"styles_balanceBadge__Aw6ev",changesList:"styles_changesList__RrpG7",changeItem:"styles_changeItem__iGa1Q",patchLink:"styles_patchLink__6eRTU",noHistoryData:"styles_noHistoryData__996KA",skillsSection:"styles_skillsSection__D61mt",skillsContainer:"styles_skillsContainer__DdeJ6",skillDetail:"styles_skillDetail__W5VKH",skillDetailHeader:"styles_skillDetailHeader__P6uAH",skillDetailInfo:"styles_skillDetailInfo__7gaWw",skillDetailName:"styles_skillDetailName__+x+ld",skillBadges:"styles_skillBadges__uW-8T",effectTypeBadge:"styles_effectTypeBadge__RWHaD",skillStatsInline:"styles_skillStatsInline__CgDtp",skillStatInline:"styles_skillStatInline__OVr8y",skillDetailDescription:"styles_skillDetailDescription__2Gjv+",levelScaling:"styles_levelScaling__vW8Hf",levelScalingTable:"styles_levelScalingTable__4yeQ9",paramName:"styles_paramName__yD9Bz",pbContainer:"styles_pbContainer__BOQqe",pbCount:"styles_pbCount__AO8A6",pbCard:"styles_pbCard__k5zKa",pbCardTop:"styles_pbCardTop__R05ce",pbRankGold:"styles_pbRankGold__-zS+F",pbRankSilver:"styles_pbRankSilver__K3tz7",pbRankBronze:"styles_pbRankBronze__zRLXW",pbItemsRow:"styles_pbItemsRow__ZjIvo",pbItem:"styles_pbItem__WcF6m",pbItemImg:"styles_pbItemImg__H6edE",pbItemEmpty:"styles_pbItemEmpty__KUUuT",pbItemLabel:"styles_pbItemLabel__P3gAD",pbItemArrow:"styles_pbItemArrow__QUuYx",pbItemDivider:"styles_pbItemDivider__4refH",pbItemOptional:"styles_pbItemOptional__yeW3f",pbSetupRow:"styles_pbSetupRow__vKTX-",pbSetupGroup:"styles_pbSetupGroup__Af6Hn",pbSetupGroupLabel:"styles_pbSetupGroupLabel__TydgP",pbSetupGroupItems:"styles_pbSetupGroupItems__FPmkP",pbSetupDivider:"styles_pbSetupDivider__a-4ue",pbSetupItem:"styles_pbSetupItem__iXLkC",pbSetupItemEmblem:"styles_pbSetupItemEmblem__Trdeo",pbSetupIcon:"styles_pbSetupIcon__Cszoh",pbSetupLabel:"styles_pbSetupLabel__Sb4Xt",pbTalentsList:"styles_pbTalentsList__6Zl8S",pbShowMore:"styles_pbShowMore__Uryt4",pbSkeletonCard:"styles_pbSkeletonCard__RKljN",pbPulse:"styles_pbPulse__57cPi",pbSkeletonItemsRow:"styles_pbSkeletonItemsRow__cWeF7",pbSkeletonItem:"styles_pbSkeletonItem__w+IsN",pbSkeletonItemIcon:"styles_pbSkeletonItemIcon__MO4yS",pbSkeletonItemLabel:"styles_pbSkeletonItemLabel__dHUa7",pbSkeletonArrow:"styles_pbSkeletonArrow__8rgJF",pbSkeletonSetupRow:"styles_pbSkeletonSetupRow__aX-Er",pbSkeletonSetupItem:"styles_pbSkeletonSetupItem__ObgZx",pbSkeletonSetupIcon:"styles_pbSkeletonSetupIcon__Vq3r4",cbContainer:"styles_cbContainer__B6CBe",cbSection:"styles_cbSection__M9yYq",cbSectionHeader:"styles_cbSectionHeader__kJOXm",cbCreateBtn:"styles_cbCreateBtn__3HAnc",cbEmpty:"styles_cbEmpty__LMZqC",cbLoginPrompt:"styles_cbLoginPrompt__ssZLg",tooltipFade:"styles_tooltipFade__VnSjZ",cbCard:"styles_cbCard__n+1mP",cbCardHeader:"styles_cbCardHeader__n2-VQ",cbCardTitle:"styles_cbCardTitle__uACHD",cbAuthor:"styles_cbAuthor__Spj24",cbAuthorPic:"styles_cbAuthorPic__HH3sM",cbCardActions:"styles_cbCardActions__0WULW",cbActionBtn:"styles_cbActionBtn__Or+iL",cbNotes:"styles_cbNotes__sH1B3",cbOverlay:"styles_cbOverlay__b4lcl",cbModal:"styles_cbModal__YwDBT",cbModalHeader:"styles_cbModalHeader__3OqKx",cbCloseBtn:"styles_cbCloseBtn__xX-TO",cbFormBody:"styles_cbFormBody__77yI+",cbFormGroup:"styles_cbFormGroup__QF58u",cbInput:"styles_cbInput__oTPoi",cbTextarea:"styles_cbTextarea__xg9hd",cbSelectedItems:"styles_cbSelectedItems__3LgbS",cbSlot:"styles_cbSlot__e6QQG",cbSlotFilled:"styles_cbSlotFilled__4u4x5",cbItemGrid:"styles_cbItemGrid__zsYzO",cbItemPick:"styles_cbItemPick__eJlJk",cbItemPicked:"styles_cbItemPicked__iYkr-",cbSpellRow:"styles_cbSpellRow__JhkDM",cbSpellPick:"styles_cbSpellPick__0vW2C",cbSpellPicked:"styles_cbSpellPicked__ixWUL",cbEmblemRow:"styles_cbEmblemRow__BHCsl",cbEmblemPick:"styles_cbEmblemPick__Io2Po",cbEmblemPicked:"styles_cbEmblemPicked__hGh7D",cbTalentTier:"styles_cbTalentTier__JLzkW",cbTalentTierLabel:"styles_cbTalentTierLabel__GVDQy",cbTalentRow:"styles_cbTalentRow__jzbR2",cbTalentPick:"styles_cbTalentPick__tTK20",cbTalentPicked:"styles_cbTalentPicked__JnGsN",cbModalFooter:"styles_cbModalFooter__XVlOk",cbCancelBtn:"styles_cbCancelBtn__y-r8I",cbSaveBtn:"styles_cbSaveBtn__8he0B",pbSkeletonSetupLabel:"styles_pbSkeletonSetupLabel__UCuwj",lightboxOverlay:"styles_lightboxOverlay__HPEu+",lightboxFadeIn:"styles_lightboxFadeIn__vRccd",lightboxClose:"styles_lightboxClose__gpe64",lightboxImage:"styles_lightboxImage__z9VNM",lightboxZoomIn:"styles_lightboxZoomIn__RdaSx"};var p=a(579);const u=[{key:"info",Icon:()=>(0,p.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("path",{d:"M12 16v-4"}),(0,p.jsx)("path",{d:"M12 8h.01"})]}),label:"heroDetail.baseInformation"},{key:"builds",Icon:()=>(0,p.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,p.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),label:"heroDetail.proBuilds"},{key:"counter",Icon:()=>(0,p.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,p.jsx)("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),label:"heroDetail.counters"},{key:"synergy",Icon:()=>(0,p.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,p.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,p.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,p.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),label:"heroDetail.bestWith"},{key:"about",Icon:()=>(0,p.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,p.jsx)("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"heroDetail.aboutTab"},{key:"history",Icon:()=>(0,p.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),label:"heroDetail.statsHistory"}],y=l.memo(e=>{let{activeTab:s,onTabChange:a}=e;const{t:t}=(0,i.Bd)();return(0,p.jsx)("div",{className:b.tabsNavigation,children:u.map(e=>{let{key:l,Icon:i,label:n}=e;return(0,p.jsxs)("button",{className:"".concat(b.tabButton," ").concat(s===l?b.tabButtonActive:""),onClick:()=>a(l),children:[(0,p.jsx)(i,{}),(0,p.jsx)("span",{children:t(n)})]},l)})})});var g=a(2389);const x=l.memo(e=>{let{displaySkills:s,selectedSkillIndex:a,selectedSkill:t,maxTransforms:l,transformIndex:r,changedIndices:c,onSkillSelect:o,onTransformCycle:d}=e;const{t:m,i18n:_}=(0,i.Bd)();return 0===s.length?null:(0,p.jsxs)("div",{className:b.skillsSection,children:[(0,p.jsx)("h2",{className:b.sectionTitle,children:m("heroDetail.abilities")}),(0,p.jsxs)("div",{className:b.skillsContainer,children:[(0,p.jsxs)("div",{className:b.skillTabs,children:[s.map((e,s)=>(0,p.jsxs)("div",{className:"".concat(b.skillTab," ").concat(a===s?b.skillTabActive:""," ").concat(c.has(s)?b.skillTabTransformed:""),onClick:()=>o(s),children:[e.image&&(0,p.jsx)("img",{src:e.image,alt:(0,n.Fj)(e,_.language)}),e.skill_type&&(0,p.jsx)("div",{className:"".concat(b.skillTabBadge," ").concat(b[e.skill_type]),children:"passive"===e.skill_type?"P":"A"}),c.has(s)&&(0,p.jsx)("div",{className:b.skillTabChangedDot})]},e.id)),l>0&&(0,p.jsxs)("button",{onClick:d,className:"".concat(b.transformButton," ").concat(r>0?b.transformButtonActive:""),title:0===r?m("heroDetail.showTransformation"):m("heroDetail.transformation",{index:r}),children:[(0,p.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"})}),r>0&&(0,p.jsx)("span",{className:b.transformIndex,children:r})]})]}),t&&(0,p.jsx)("div",{className:b.skillDetail,children:(0,p.jsx)("div",{className:b.skillDetailHeader,children:(0,p.jsxs)("div",{className:b.skillDetailInfo,children:[(0,p.jsx)("h3",{className:b.skillDetailName,children:(0,n.Fj)(t,_.language)}),(0,p.jsx)("div",{className:b.skillBadges,children:t.effect_types&&t.effect_types.length>0&&t.effect_types.map((e,s)=>{const a="string"===typeof e?e:(null===e||void 0===e?void 0:e.name)||JSON.stringify(e);return(0,p.jsx)("div",{className:b.effectTypeBadge,children:a},s)})}),t.skill_parameters&&Object.entries(t.skill_parameters).length>0&&(0,p.jsx)("div",{className:b.skillStatsInline,children:Object.entries(t.skill_parameters).map(e=>{let s,[a,t]=e;return"object"===typeof t&&null!==t&&"name"in t?null:(s="object"===typeof t&&null!==t&&"levels"in t&&Array.isArray(t.levels)?t.levels.join(" / "):String(t),(0,p.jsxs)("span",{className:b.skillStatInline,children:[a,": ",s]},a))})}),(t.skill_description||t.skill_description_uk)&&(0,p.jsx)("div",{className:b.skillDetailDescription,dangerouslySetInnerHTML:{__html:(0,g.p)((0,n.a7)(t,_.language))}})]})})})]})]})}),v=l.memo(e=>{var s,a,t,l,n,r,c,o;let{hero:d,abilitiesLabel:m,getRatingLevel:_}=e;const{t:h}=(0,i.Bd)();return(0,p.jsxs)("div",{className:b.contentSection,children:[(d.main_hero_appearance_rate||d.main_hero_ban_rate||d.main_hero_win_rate)&&(0,p.jsxs)("div",{className:b.performanceRatings,children:[(0,p.jsx)("h3",{className:b.sectionTitle,children:h("heroDetail.performanceStats")}),(0,p.jsxs)("div",{className:b.ratingsGrid,children:[d.main_hero_appearance_rate&&(0,p.jsxs)("div",{className:b.ratingCard,children:[(0,p.jsxs)("div",{className:b.ratingCardHeader,children:[(0,p.jsx)("span",{className:b.ratingCardName,children:h("heroDetail.appearanceRate")}),(0,p.jsxs)("span",{className:b.ratingCardValue,children:[d.main_hero_appearance_rate.toFixed(2),"%"]})]}),(0,p.jsx)("div",{className:b.ratingBar,children:(0,p.jsx)("div",{className:b.ratingBarFill,style:{width:"".concat(Math.min(d.main_hero_appearance_rate,100),"%")},"data-level":_(d.main_hero_appearance_rate).color})}),(0,p.jsx)("span",{className:b.ratingCardDescription,children:h("heroDetail.pickFrequency")})]}),d.main_hero_ban_rate&&(0,p.jsxs)("div",{className:b.ratingCard,children:[(0,p.jsxs)("div",{className:b.ratingCardHeader,children:[(0,p.jsx)("span",{className:b.ratingCardName,children:h("heroDetail.banRate")}),(0,p.jsxs)("span",{className:b.ratingCardValue,children:[d.main_hero_ban_rate.toFixed(2),"%"]})]}),(0,p.jsx)("div",{className:b.ratingBar,children:(0,p.jsx)("div",{className:b.ratingBarFill,style:{width:"".concat(Math.min(d.main_hero_ban_rate,100),"%")},"data-level":_(d.main_hero_ban_rate).color})}),(0,p.jsx)("span",{className:b.ratingCardDescription,children:h("heroDetail.howOftenBanned")})]}),d.main_hero_win_rate&&(0,p.jsxs)("div",{className:b.ratingCard,children:[(0,p.jsxs)("div",{className:b.ratingCardHeader,children:[(0,p.jsx)("span",{className:b.ratingCardName,children:h("heroDetail.winRate")}),(0,p.jsxs)("span",{className:b.ratingCardValue,children:[d.main_hero_win_rate.toFixed(2),"%"]})]}),(0,p.jsx)("div",{className:b.ratingBar,children:(0,p.jsx)("div",{className:b.ratingBarFill,style:{width:"".concat(Math.min(d.main_hero_win_rate,100),"%")},"data-level":_(d.main_hero_win_rate).color})}),(0,p.jsx)("span",{className:b.ratingCardDescription,children:h("heroDetail.gamesWonPercentage")})]})]})]}),(0,p.jsxs)("div",{className:b.statsTable,children:[(0,p.jsxs)("div",{className:b.statsTableRow,children:[(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.physicalAttack")}),(0,p.jsx)("span",{className:b.statValueLarge,children:(null===(s=d.hero_stats)||void 0===s?void 0:s.physical_attack)||"0"})]}),(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.physicalDefense")}),(0,p.jsx)("span",{className:b.statValueLarge,children:(null===(a=d.hero_stats)||void 0===a?void 0:a.physical_defense)||"0"})]})]}),(0,p.jsxs)("div",{className:b.statsTableRow,children:[(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.magicPower")}),(0,p.jsx)("span",{className:b.statValueLarge,children:null!==(t=null===(l=d.hero_stats)||void 0===l?void 0:l.magic_power)&&void 0!==t?t:"0"})]}),(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.magicDefense")}),(0,p.jsx)("span",{className:b.statValueLarge,children:(null===(n=d.hero_stats)||void 0===n?void 0:n.magic_defense)||"0"})]})]}),(0,p.jsxs)("div",{className:b.statsTableRow,children:[(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.attackSpeed")}),(0,p.jsx)("span",{className:b.statValueLarge,children:(null===(r=d.hero_stats)||void 0===r?void 0:r.attack_speed)||"0"})]}),(0,p.jsxs)("div",{className:b.statsTableCell,children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.movementSpeed")}),(0,p.jsx)("span",{className:b.statValueLarge,children:(null===(c=d.hero_stats)||void 0===c?void 0:c.movement_speed)||"0"})]})]}),(null===(o=d.hero_stats)||void 0===o?void 0:o.attack_speed_ratio)&&(0,p.jsx)("div",{className:b.statsTableRow,children:(0,p.jsxs)("div",{className:"".concat(b.statsTableCell," ").concat(b.fullWidthCell),children:[(0,p.jsx)("span",{className:b.statName,children:h("heroDetail.attackSpeedRatio")}),(0,p.jsx)("span",{className:b.statValueLarge,children:d.hero_stats.attack_speed_ratio})]})})]}),d.abilityshow&&d.abilityshow.length>0&&(0,p.jsxs)("div",{className:b.abilityShow,children:[(0,p.jsx)("h3",{className:b.abilityShowTitle,children:h("heroDetail.abilityRatings")}),(0,p.jsx)("div",{className:b.abilityShowGrid,children:d.abilityshow.map((e,s)=>(0,p.jsxs)("div",{className:b.abilityShowItem,children:[(0,p.jsx)("div",{className:b.abilityShowLabel,children:m[s]}),(0,p.jsxs)("div",{className:b.abilityShowBarWrapper,children:[(0,p.jsx)("div",{className:b.abilityShowBar,children:(0,p.jsx)("div",{className:b.abilityShowFill,style:{width:"".concat(e,"%")}})}),(0,p.jsx)("span",{className:b.abilityShowValue,children:e})]})]},s))})]})]})}),j=l.memo(e=>{let{hero:s}=e;const{t:a,i18n:t}=(0,i.Bd)(),[r,c]=(0,l.useState)(!1);if(!s.full_description&&!s.full_description_uk)return null;const o=(0,n.Yf)(s,t.language);return(0,p.jsx)("div",{className:b.contentSection,children:(0,p.jsxs)("div",{className:b.descriptionSection,children:[(0,p.jsx)("h3",{className:b.descriptionTitle,children:a("heroDetail.about",{name:(0,n.MJ)(s,t.language)})}),(0,p.jsx)("p",{className:"".concat(b.descriptionText," ").concat(r?"":b.descriptionTextCollapsed),children:o}),o.length>300&&(0,p.jsx)("button",{className:b.showMoreButton,onClick:()=>c(!r),children:a(r?"heroDetail.showLess":"heroDetail.showMore")})]})})}),N=e=>{if(!e)return null;if("string"===typeof e)try{return JSON.parse(e)}catch(s){return null}return"object"===typeof e?e:null},S=l.memo(e=>{let{hero:s,allHeroes:a,counterSubTab:l,setCounterSubTab:r}=e;const{t:c,i18n:o}=(0,i.Bd)(),d=e=>a.find(s=>s.hero_game_id===e)||a.find(s=>s.id===e),m=N(s.counter_data);if(!m)return null;const _=m.best_counters||m.counters||[],h=m.most_countered_by||m.allies||[],u=(e,a)=>{var t;if(0===e.length)return null;const l=e[0],i=null!==(t=l.heroid)&&void 0!==t?t:l.hero_id,n=d(i);if(!n)return null;const r=m.main_hero_win_rate||.5,o=r<1?100*r:r,_=l.win_rate||0,h=_<1?100*_:_;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:b.heroComparison,children:[(0,p.jsxs)("div",{className:"".concat(b.heroComparisonSide," ").concat(b.left),children:[(0,p.jsx)("img",{src:s.head||s.image,alt:s.name,className:b.leftAvatar}),(0,p.jsxs)("div",{className:b.comparisonWinRate,children:[(0,p.jsxs)("span",{className:b.winRateNumber,children:[o.toFixed(2),"%"]}),(0,p.jsx)("span",{className:b.winRateLabel,children:c("heroDetail.winRate")})]})]}),(0,p.jsx)("div",{className:b.heroComparisonDivider}),(0,p.jsxs)("div",{className:"".concat(b.heroComparisonSide," ").concat(b.right),children:[(0,p.jsx)("img",{src:n.head||n.image,alt:n.name,className:b.rightAvatar}),(0,p.jsxs)("div",{className:b.comparisonWinRate,children:[(0,p.jsxs)("span",{className:b.winRateNumber,children:[h.toFixed(2),"%"]}),(0,p.jsx)("span",{className:b.winRateLabel,children:c("heroDetail.winRate")})]})]})]}),(0,p.jsx)("p",{className:b.comparisonDesc,children:a?c("heroDetail.strugglesAgainst",{hero:s.name}):c("heroDetail.counterComparisonDesc")})]})},y=(e,a)=>e.slice(0,5).map((e,l)=>{var i;const r=null!==(i=e.heroid)&&void 0!==i?i:e.hero_id,c=d(r);if(!c)return null;const m=null!=e.increase_win_rate?Math.abs(e.increase_win_rate):0,_=a?m<1?100*m:m:0!==m&&m<1?100*m:m;return(0,p.jsxs)(t.N_,{to:"/".concat(s.game_id,"/heroes/").concat(c.id),className:b.counterListItem,children:[(0,p.jsx)("div",{className:b.counterListRank,children:l+1}),(0,p.jsx)("img",{src:c.head||c.image,alt:c.name,className:b.counterListImage}),(0,p.jsxs)("div",{className:b.counterListInfo,children:[(0,p.jsx)("span",{className:b.counterListName,children:(0,n.MJ)(c,o.language)}),(0,p.jsx)("div",{className:b.counterListBar,children:(0,p.jsx)("div",{className:b.counterListBarFill,style:{width:"".concat(Math.min(_/3*100,100),"%")}})})]}),(0,p.jsx)("span",{className:b.counterListScore,children:_.toFixed(2)})]},r)});return(0,p.jsx)("div",{className:b.contentSection,children:(0,p.jsxs)("div",{className:b.relationshipSection,children:[(0,p.jsx)("h2",{className:b.relationshipMainTitle,children:c("heroDetail.counterRelationship")}),(0,p.jsxs)("div",{className:b.relationshipTabs,children:[(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("best"===l?b.relationshipTabActive:""),onClick:()=>r("best"),children:c("heroDetail.bestCounters")}),(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("worst"===l?b.relationshipTabActive:""),onClick:()=>r("worst"),children:c("heroDetail.mostCounteredBy")})]}),(0,p.jsxs)("div",{className:b.relationshipContent,children:[(0,p.jsxs)("div",{className:b.comparisonBlock,children:["best"===l&&u(_,!1),"worst"===l&&u(h,!0)]}),(0,p.jsxs)("div",{className:b.counterList,children:[(0,p.jsxs)("div",{className:b.counterListHeader,children:[(0,p.jsx)("span",{children:c("best"===l?"heroDetail.bestCounters":"heroDetail.counteredBy")}),(0,p.jsx)("span",{children:c("heroDetail.counterScore")})]}),"best"===l&&y(_,!0),"worst"===l&&y(h,!1)]})]})]})})}),k=l.memo(e=>{let{hero:s,allHeroes:a,synergySubTab:l,setSynergySubTab:r}=e;const{t:c,i18n:o}=(0,i.Bd)(),d=e=>a.find(s=>s.hero_game_id===e)||a.find(s=>s.id===e),m=N(s.compatibility_data);if(!m)return null;const _=(e,a)=>{var t;if(!e||0===e.length)return null;const l=e[0],i=null!==(t=l.heroid)&&void 0!==t?t:l.hero_id,n=d(i);if(!n)return null;const r=m.main_hero_win_rate||.5,o=r<1?100*r:r,_=l.win_rate||0,h=_<1?100*_:_;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:b.heroComparison,children:[(0,p.jsxs)("div",{className:"".concat(b.heroComparisonSide," ").concat(b.left),children:[(0,p.jsx)("img",{src:s.head||s.image,alt:s.name,className:b.leftAvatar}),(0,p.jsxs)("div",{className:b.comparisonWinRate,children:[(0,p.jsxs)("span",{className:b.winRateNumber,children:[o.toFixed(2),"%"]}),(0,p.jsx)("span",{className:b.winRateLabel,children:c("heroDetail.winRate")})]})]}),(0,p.jsx)("div",{className:b.heroComparisonDivider}),(0,p.jsxs)("div",{className:"".concat(b.heroComparisonSide," ").concat(b.right),children:[(0,p.jsx)("img",{src:n.head||n.image,alt:n.name,className:b.rightAvatar}),(0,p.jsxs)("div",{className:b.comparisonWinRate,children:[(0,p.jsxs)("span",{className:b.winRateNumber,children:[h.toFixed(2),"%"]}),(0,p.jsx)("span",{className:b.winRateLabel,children:c("heroDetail.winRate")})]})]})]}),(0,p.jsx)("p",{className:b.comparisonDesc,children:c(a?"heroDetail.teammateScoreLowDesc":"heroDetail.teammateScoreDesc")})]})},h=e=>e?e.slice(0,5).map((e,a)=>{var l;const i=null!==(l=e.heroid)&&void 0!==l?l:e.hero_id,r=d(i);if(!r)return null;const c=null!=e.increase_win_rate?Math.abs(e.increase_win_rate)<1?100*Math.abs(e.increase_win_rate):Math.abs(e.increase_win_rate):0;return(0,p.jsxs)(t.N_,{to:"/".concat(s.game_id,"/heroes/").concat(r.id),className:b.counterListItem,children:[(0,p.jsx)("div",{className:b.counterListRank,children:a+1}),(0,p.jsx)("img",{src:r.head||r.image,alt:r.name,className:b.counterListImage}),(0,p.jsxs)("div",{className:b.counterListInfo,children:[(0,p.jsx)("span",{className:b.counterListName,children:(0,n.MJ)(r,o.language)}),(0,p.jsx)("div",{className:b.counterListBar,children:(0,p.jsx)("div",{className:b.counterListBarFill,style:{width:"".concat(Math.min(c/3*100,100),"%")}})})]}),(0,p.jsx)("span",{className:b.counterListScore,children:c.toFixed(2)})]},null!==i&&void 0!==i?i:e.heroid)}):null;return(0,p.jsx)("div",{className:b.contentSection,children:(0,p.jsxs)("div",{className:b.relationshipSection,children:[(0,p.jsx)("h2",{className:b.relationshipMainTitle,children:c("heroDetail.compatibility")}),(0,p.jsxs)("div",{className:b.relationshipTabs,children:[(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("compatible"===l?b.relationshipTabActive:""),onClick:()=>r("compatible"),children:c("heroDetail.compatibility")}),(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("incompatible"===l?b.relationshipTabActive:""),onClick:()=>r("incompatible"),children:c("heroDetail.notCompatible")})]}),(0,p.jsxs)("div",{className:b.relationshipContent,children:[(0,p.jsxs)("div",{className:b.comparisonBlock,children:["compatible"===l&&_(m.compatible||[],!1),"incompatible"===l&&_(m.not_compatible||[],!0)]}),(0,p.jsxs)("div",{className:b.counterList,children:[(0,p.jsxs)("div",{className:b.counterListHeader,children:[(0,p.jsx)("span",{children:c("compatible"===l?"heroDetail.bestTeammates":"heroDetail.worstTeammates")}),(0,p.jsx)("span",{children:c("heroDetail.teammateScore")})]}),"compatible"===l&&h(m.compatible||[]),"incompatible"===l&&h(m.not_compatible||[])]})]})]})})}),I=l.memo(e=>{let{hero:s,heroPatches:a}=e;const{t:l}=(0,i.Bd)();return(0,p.jsx)("div",{className:b.contentSection,children:(0,p.jsxs)("div",{className:b.historySection,children:[(0,p.jsxs)("div",{className:b.historyHeader,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:b.historySectionTitle,children:l("heroDetail.balanceHistory")}),(0,p.jsx)("p",{className:b.historySectionDesc,children:l("heroDetail.balanceHistoryDesc",{hero:s.name})})]}),(0,p.jsx)(t.N_,{to:"/".concat(s.game_id,"/patches"),className:b.viewAllPatchesBtn,children:l("heroDetail.viewAllPatches")})]}),a.length>0?(0,p.jsx)("div",{className:b.patchesTimeline,children:a.map(e=>{var a,i;const n=null===(a=e.hero_changes)||void 0===a?void 0:a[s.name],r=null===(i=e.hero_adjustments)||void 0===i?void 0:i[s.name];return n||r?(0,p.jsxs)("div",{className:b.patchCard,children:[(0,p.jsxs)("div",{className:b.patchHeader,children:[(0,p.jsxs)("div",{className:b.patchVersion,children:[(0,p.jsx)("span",{className:b.patchVersionLabel,children:l("heroDetail.version")}),(0,p.jsx)("span",{className:b.patchVersionNumber,children:e.version})]}),(0,p.jsx)("div",{className:b.patchDate,children:new Date(e.release_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),((null===n||void 0===n?void 0:n.summary)||(null===r||void 0===r?void 0:r.summary)||(null===r||void 0===r?void 0:r.description))&&(0,p.jsxs)("div",{className:b.patchSummary,children:[(null===n||void 0===n?void 0:n.summary)&&(0,p.jsx)("p",{children:n.summary}),!(null!==n&&void 0!==n&&n.summary)&&(null===r||void 0===r?void 0:r.summary)&&(0,p.jsx)("p",{children:r.summary}),!(null!==n&&void 0!==n&&n.summary)&&!(null!==r&&void 0!==r&&r.summary)&&(null===r||void 0===r?void 0:r.description)&&(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,g.p)(r.description)}})]}),((null===n||void 0===n?void 0:n.skills)||(null===r||void 0===r?void 0:r.skills))&&((null===n||void 0===n?void 0:n.skills)||(null===r||void 0===r?void 0:r.skills)).length>0&&(0,p.jsx)("div",{className:b.skillChanges,children:((null===n||void 0===n?void 0:n.skills)||(null===r||void 0===r?void 0:r.skills)).map((e,s)=>(0,p.jsxs)("div",{className:b.skillChange,children:[(0,p.jsxs)("div",{className:b.skillHeader,children:[(0,p.jsxs)("div",{className:b.skillName,children:[(0,p.jsx)("span",{className:b.skillType,children:e.type}),e.name&&(0,p.jsx)("span",{className:b.skillNameText,children:e.name})]}),e.balance&&(0,p.jsx)("span",{className:b.balanceBadge,"data-balance":e.balance.toLowerCase(),children:e.balance})]}),e.changes&&e.changes.length>0&&(0,p.jsx)("ul",{className:b.changesList,children:e.changes.map((e,s)=>(0,p.jsx)("li",{className:b.changeItem,children:e},s))})]},s))}),(null===r||void 0===r?void 0:r.adjustments)&&r.adjustments.length>0&&(0,p.jsx)("div",{className:b.skillChanges,children:r.adjustments.map((e,s)=>(0,p.jsxs)("div",{className:b.skillChange,children:[(0,p.jsxs)("div",{className:b.skillHeader,children:[(0,p.jsx)("div",{className:b.skillName,children:e.skill_name?(0,p.jsx)("span",{className:b.skillNameText,children:e.skill_name}):(0,p.jsx)("span",{className:b.skillType,children:e.skill_type})}),e.badge&&(0,p.jsx)("span",{className:b.balanceBadge,"data-balance":e.badge.toLowerCase(),children:e.badge})]}),(0,p.jsx)("div",{className:b.changesList,children:(0,p.jsx)("div",{className:b.changeItem,dangerouslySetInnerHTML:{__html:(0,g.p)(e.description)}})})]},s))}),(null===r||void 0===r?void 0:r.attribute_adjustments)&&r.attribute_adjustments.length>0&&(0,p.jsx)("div",{className:b.skillChanges,children:r.attribute_adjustments.map((e,s)=>(0,p.jsxs)("div",{className:b.skillChange,children:[(0,p.jsxs)("div",{className:b.skillHeader,children:[(0,p.jsx)("div",{className:b.skillName,children:(0,p.jsx)("span",{className:b.skillNameText,children:e.attribute_name})}),e.badge&&(0,p.jsx)("span",{className:b.balanceBadge,"data-balance":e.badge.toLowerCase(),children:e.badge})]}),(0,p.jsx)("div",{className:b.changesList,children:(0,p.jsx)("div",{className:b.changeItem,dangerouslySetInnerHTML:{__html:(0,g.p)(e.description)}})})]},s))}),(0,p.jsx)("div",{className:b.patchLink,children:(0,p.jsx)(t.N_,{to:"/".concat(s.game_id,"/patches/patch_").concat(e.version,"#").concat(s.name),children:l("heroDetail.viewFullPatchNotes")})})]},e.version):null})}):(0,p.jsx)("div",{className:b.noHistoryData,children:(0,p.jsx)("p",{children:l("heroDetail.noBalanceHistory")})})]})})});var f=a(3931),T=a(1175);const w={0:b.pbRankGold,1:b.pbRankSilver,2:b.pbRankBronze},C=e=>{let{builds:s,gameId:a}=e;const{t:t,i18n:r}=(0,i.Bd)(),d=r.language,[_,h]=l.useState(5),{data:u=[],isLoading:y}=(0,f.o)(a),{data:g=[],isLoading:x}=(0,T.Z)(String(a)),{tier1:v,tier2:j,tier3:N,isLoading:S}=(0,T.$)(String(a)),{data:k=[],isLoading:I}=(0,c.I)({queryKey:m.l.spells.all(a),queryFn:()=>(0,o.m)("/battle-spells?game_id=".concat(a)),enabled:!!a,staleTime:m.N}),C=y||x||S||I,L=l.useMemo(()=>{const e=new Map;return u.forEach(s=>e.set(s.id,s)),e},[u]),D=l.useMemo(()=>{const e=new Map;return k.forEach(s=>e.set(s.id,s)),e},[k]),B=l.useMemo(()=>{const e=new Map;return g.forEach(s=>e.set(s.id,s)),e},[g]),R=l.useMemo(()=>{const e=new Map;return[...v,...j,...N].forEach(s=>e.set(s.name,s)),e},[v,j,N]),M=s,H=M.slice(0,_),P=_<M.length,F=M.length-_;return s&&0!==s.length?C?(0,p.jsx)("div",{className:b.pbContainer,children:[...Array(3)].map((e,s)=>(0,p.jsxs)("div",{className:b.pbSkeletonCard,children:[(0,p.jsx)("div",{className:b.pbSkeletonItemsRow,children:[...Array(6)].map((e,s)=>(0,p.jsxs)(l.Fragment,{children:[s>0&&(0,p.jsx)("div",{className:b.pbSkeletonArrow}),(0,p.jsxs)("div",{className:b.pbSkeletonItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonItemIcon}),(0,p.jsx)("div",{className:b.pbSkeletonItemLabel})]})]},s))}),(0,p.jsxs)("div",{className:b.pbSkeletonSetupRow,children:[(0,p.jsxs)("div",{className:b.pbSkeletonSetupItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonSetupIcon}),(0,p.jsx)("div",{className:b.pbSkeletonSetupLabel})]}),(0,p.jsxs)("div",{className:b.pbSkeletonSetupItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonSetupIcon}),(0,p.jsx)("div",{className:b.pbSkeletonSetupLabel})]}),(0,p.jsxs)("div",{className:b.pbSkeletonSetupItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonSetupIcon}),(0,p.jsx)("div",{className:b.pbSkeletonSetupLabel})]})]})]},s))}):(0,p.jsxs)("div",{className:b.pbContainer,children:[(0,p.jsxs)("div",{className:b.pbCount,children:[M.length," ",1===M.length?"build":"builds"]}),H.map((e,s)=>{const a=D.get(e.battle_spell_id),i=B.get(e.emblem_id),r=s<3,c=w[s]||"";return(0,p.jsxs)("div",{className:"".concat(b.pbCard," ").concat(r?b.pbCardTop:""," ").concat(c),children:[(0,p.jsxs)("div",{className:b.pbItemsRow,children:[e.core_items.map((e,s)=>{const a=L.get(e);return(0,p.jsxs)(l.Fragment,{children:[s>0&&(0,p.jsx)("span",{className:b.pbItemArrow,children:"\u203a"}),(0,p.jsxs)("div",{className:b.pbItem,title:a?(0,n.H0)(a,d):"Item #".concat(e),children:[null!==a&&void 0!==a&&a.icon_url?(0,p.jsx)("img",{src:a.icon_url,alt:(0,n.H0)(a,d),className:b.pbItemImg,loading:"lazy"}):(0,p.jsx)("div",{className:b.pbItemEmpty,children:s+1}),(0,p.jsx)("span",{className:b.pbItemLabel,children:a?(0,n.H0)(a,d):"???"})]})]},s)}),e.optional_items&&e.optional_items.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:b.pbItemDivider,children:"|"}),e.optional_items.map((e,s)=>{const a=L.get(e);return(0,p.jsx)("div",{className:"".concat(b.pbItem," ").concat(b.pbItemOptional),title:a?(0,n.H0)(a,d):"Item #".concat(e),children:null!==a&&void 0!==a&&a.icon_url?(0,p.jsx)("img",{src:a.icon_url,alt:a?(0,n.H0)(a,d):"",className:b.pbItemImg,loading:"lazy"}):(0,p.jsx)("div",{className:b.pbItemEmpty,children:s+1})},"opt-".concat(s))})]})]}),(0,p.jsxs)("div",{className:b.pbSetupRow,children:[a&&(0,p.jsxs)("div",{className:b.pbSetupGroup,children:[(0,p.jsx)("span",{className:b.pbSetupGroupLabel,children:t("heroDetail.battleSpell")}),(0,p.jsxs)("div",{className:b.pbSetupItem,children:[a.icon_url&&(0,p.jsx)("img",{src:a.icon_url,alt:(0,n.G8)(a,d),className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:(0,n.G8)(a,d)})]})]}),(i||e.emblem_talents&&e.emblem_talents.length>0)&&(0,p.jsxs)(p.Fragment,{children:[a&&(0,p.jsx)("span",{className:b.pbSetupDivider}),(0,p.jsxs)("div",{className:b.pbSetupGroup,children:[(0,p.jsx)("span",{className:b.pbSetupGroupLabel,children:t("heroDetail.emblem")}),(0,p.jsxs)("div",{className:b.pbSetupGroupItems,children:[i&&(0,p.jsxs)("div",{className:"".concat(b.pbSetupItem," ").concat(b.pbSetupItemEmblem),children:[i.icon_url&&(0,p.jsx)("img",{src:i.icon_url,alt:(0,n.EK)(i,d),className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:(0,n.EK)(i,d)})]}),e.emblem_talents&&e.emblem_talents.map((e,s)=>{const a=R.get(e);return(0,p.jsxs)("div",{className:b.pbSetupItem,children:[(null===a||void 0===a?void 0:a.icon_url)&&(0,p.jsx)("img",{src:a.icon_url,alt:(0,n.s6)(a,d),className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:a?(0,n.s6)(a,d):e})]},s)})]})]})]})]})]},s)}),P&&(0,p.jsxs)("button",{className:b.pbShowMore,onClick:()=>h(e=>e+5),children:["Show more (",F>5?5:F," of ",F,")"]})]}):(0,p.jsx)("div",{className:b.noHistoryData,children:(0,p.jsx)("p",{children:t("heroDetail.noBuildsData")})})};var L=a(8687),D=a(623),B=a(2606),R=a(4357);const M=l.memo(e=>{let{build:s,isOwn:a,itemsMap:t,emblemsMap:r,spellsMap:c,talentsMap:o,onEdit:d,onDelete:m}=e;const{t:_,i18n:h}=(0,i.Bd)(),u=h.language,y=(s.items||[]).map(e=>t.get(e)).filter(Boolean),g=s.emblem_id?r.get(s.emblem_id):null,x=s.spell1_id?c.get(s.spell1_id):null,v=s.spell2_id?c.get(s.spell2_id):null;return(0,p.jsxs)("div",{className:b.cbCard,children:[(0,p.jsxs)("div",{className:b.cbCardHeader,children:[(0,p.jsxs)("div",{className:b.cbCardTitle,children:[(0,p.jsx)("strong",{children:s.name}),s.author_name&&!a&&(0,p.jsxs)("span",{className:b.cbAuthor,children:[s.author_picture&&(0,p.jsx)("img",{src:s.author_picture,alt:"",className:b.cbAuthorPic,referrerPolicy:"no-referrer"}),s.author_name]})]}),a&&(0,p.jsxs)("div",{className:b.cbCardActions,children:[(0,p.jsx)("button",{onClick:()=>d(s),className:b.cbActionBtn,title:_("builds.edit"),children:(0,p.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,p.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,p.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,p.jsx)("button",{onClick:()=>m(s.id),className:b.cbActionBtn,title:_("builds.delete"),children:(0,p.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,p.jsx)("path",{d:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})})})]})]}),(0,p.jsx)("div",{className:b.pbItemsRow,children:y.map((e,s)=>(0,p.jsxs)(l.Fragment,{children:[s>0&&(0,p.jsx)("span",{className:b.pbItemArrow,children:"\u203a"}),(0,p.jsxs)("div",{className:b.pbItem,title:null===e||void 0===e?void 0:e.name,children:[null!==e&&void 0!==e&&e.icon_url?(0,p.jsx)("img",{src:e.icon_url,alt:e.name,className:b.pbItemImg,loading:"lazy"}):(0,p.jsx)("div",{className:b.pbItemEmpty,children:s+1}),(0,p.jsx)("span",{className:b.pbItemLabel,children:(null===e||void 0===e?void 0:e.name)||"???"})]})]},s))}),(0,p.jsxs)("div",{className:b.pbSetupRow,children:[x&&(0,p.jsxs)("div",{className:b.pbSetupGroup,children:[(0,p.jsx)("span",{className:b.pbSetupGroupLabel,children:"Spell"}),(0,p.jsxs)("div",{className:b.pbSetupItem,children:[x.icon_url&&(0,p.jsx)("img",{src:x.icon_url,alt:x.name,className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:x.name})]}),v&&(0,p.jsxs)("div",{className:b.pbSetupItem,children:[v.icon_url&&(0,p.jsx)("img",{src:v.icon_url,alt:v.name,className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:v.name})]})]}),g&&(0,p.jsxs)(p.Fragment,{children:[x&&(0,p.jsx)("span",{className:b.pbSetupDivider}),(0,p.jsxs)("div",{className:b.pbSetupGroup,children:[(0,p.jsx)("span",{className:b.pbSetupGroupLabel,children:"Emblem"}),(0,p.jsxs)("div",{className:b.pbSetupGroupItems,children:[(0,p.jsxs)("div",{className:"".concat(b.pbSetupItem," ").concat(b.pbSetupItemEmblem),children:[g.icon_url&&(0,p.jsx)("img",{src:g.icon_url,alt:(0,n.EK)(g,u),className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:(0,n.EK)(g,u)})]}),s.talents&&s.talents.map((e,s)=>{const a=o.get(e);return(0,p.jsxs)("div",{className:b.pbSetupItem,children:[(null===a||void 0===a?void 0:a.icon_url)&&(0,p.jsx)("img",{src:a.icon_url,alt:a?(0,n.s6)(a,u):e,className:b.pbSetupIcon,loading:"lazy"}),(0,p.jsx)("span",{className:b.pbSetupLabel,children:a?(0,n.s6)(a,u):e})]},s)})]})]})]})]}),s.notes&&(0,p.jsx)("div",{className:b.cbNotes,children:s.notes})]})}),H=e=>{let{editingBuild:s,buildName:a,setBuildName:t,selectedItems:l,selectedEmblem:r,setSelectedEmblem:c,selectedSpell1:o,setSelectedSpell1:d,selectedSpell2:m,setSelectedSpell2:_,selectedTalents:h,setSelectedTalents:u,notes:y,setNotes:g,itemSearch:x,setItemSearch:v,saving:j,filteredItems:N,itemsMap:S,spells:k,emblems:I,tier1:f,tier2:T,tier3:w,toggleItem:C,onSave:L,onClose:D}=e;const{t:B,i18n:R}=(0,i.Bd)(),M=R.language;return(0,p.jsx)("div",{className:b.cbOverlay,onClick:D,children:(0,p.jsxs)("div",{className:b.cbModal,onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:b.cbModalHeader,children:[(0,p.jsx)("h3",{children:B(s?"builds.edit":"builds.create")}),(0,p.jsx)("button",{className:b.cbCloseBtn,onClick:D,children:"\xd7"})]}),(0,p.jsxs)("div",{className:b.cbFormBody,children:[(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsx)("label",{children:B("builds.name")}),(0,p.jsx)("input",{type:"text",value:a,onChange:e=>t(e.target.value),placeholder:B("builds.namePlaceholder"),className:b.cbInput,maxLength:50})]}),(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsxs)("label",{children:[B("builds.items")," (",l.length,"/6)"]}),(0,p.jsx)("div",{className:b.cbSelectedItems,children:[0,1,2,3,4,5].map(e=>{const s=l[e],a=s?S.get(s):null;return(0,p.jsx)("div",{className:"".concat(b.cbSlot," ").concat(a?b.cbSlotFilled:""),onClick:()=>a&&C(a.id),title:a?"".concat(a.name," (").concat(B("builds.clickToRemove"),")"):B("builds.emptySlot"),children:null!==a&&void 0!==a&&a.icon_url?(0,p.jsx)("img",{src:a.icon_url,alt:a.name}):(0,p.jsx)("span",{children:e+1})},e)})}),(0,p.jsx)("input",{type:"text",value:x,onChange:e=>v(e.target.value),placeholder:B("builds.searchItems"),className:b.cbInput}),(0,p.jsx)("div",{className:b.cbItemGrid,children:N.map(e=>{var s;return(0,p.jsx)("button",{className:"".concat(b.cbItemPick," ").concat(l.includes(e.id)?b.cbItemPicked:""),onClick:()=>C(e.id),title:e.name,disabled:l.length>=6&&!l.includes(e.id),children:e.icon_url?(0,p.jsx)("img",{src:e.icon_url,alt:e.name,loading:"lazy"}):(0,p.jsx)("span",{children:null===(s=e.name)||void 0===s?void 0:s.slice(0,2)})},e.id)})})]}),(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsx)("label",{children:B("builds.spells")}),(0,p.jsx)("div",{className:b.cbSpellRow,children:k.map(e=>(0,p.jsxs)("button",{className:"".concat(b.cbSpellPick," ").concat(o===e.id||m===e.id?b.cbSpellPicked:""),onClick:()=>{o===e.id?d(null):m===e.id?_(null):o?m||_(e.id):d(e.id)},title:e.name,children:[e.icon_url&&(0,p.jsx)("img",{src:e.icon_url,alt:e.name,loading:"lazy"}),(0,p.jsx)("span",{children:e.name})]},e.id))})]}),(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsx)("label",{children:B("builds.emblem")}),(0,p.jsx)("div",{className:b.cbEmblemRow,children:I.map(e=>(0,p.jsxs)("button",{className:"".concat(b.cbEmblemPick," ").concat(r===e.id?b.cbEmblemPicked:""),onClick:()=>{r===e.id?c(null):c(e.id),u([])},title:(0,n.EK)(e,M),children:[e.icon_url&&(0,p.jsx)("img",{src:e.icon_url,alt:(0,n.EK)(e,M),loading:"lazy"}),(0,p.jsx)("span",{children:(0,n.EK)(e,M)})]},e.id))})]}),r&&(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsx)("label",{children:B("builds.talents")}),[f,T,w].map((e,s)=>(0,p.jsxs)("div",{className:b.cbTalentTier,children:[(0,p.jsxs)("span",{className:b.cbTalentTierLabel,children:["Tier ",s+1]}),(0,p.jsx)("div",{className:b.cbTalentRow,children:e.map(s=>{const a=h.includes(s.name);return(0,p.jsxs)("button",{className:"".concat(b.cbTalentPick," ").concat(a?b.cbTalentPicked:""),onClick:()=>{u(t=>{const l=e.map(e=>e.name),i=t.filter(e=>!l.includes(e));return a?i:[...i,s.name]})},title:(0,n.kT)(s,M)||(0,n.s6)(s,M),children:[s.icon_url&&(0,p.jsx)("img",{src:s.icon_url,alt:(0,n.s6)(s,M),loading:"lazy"}),(0,p.jsx)("span",{children:(0,n.s6)(s,M)})]},s.id)})})]},s))]}),(0,p.jsxs)("div",{className:b.cbFormGroup,children:[(0,p.jsx)("label",{children:B("builds.notes")}),(0,p.jsx)("textarea",{value:y,onChange:e=>g(e.target.value),placeholder:B("builds.notesPlaceholder"),className:b.cbTextarea,maxLength:500,rows:3})]})]}),(0,p.jsxs)("div",{className:b.cbModalFooter,children:[(0,p.jsx)("button",{className:b.cbCancelBtn,onClick:D,children:B("builds.cancel")}),(0,p.jsx)("button",{className:b.cbSaveBtn,onClick:L,disabled:j||!a.trim()||0===l.length,children:j?"...":B("builds.save")})]})]})})},P=l.memo(e=>{let{count:s}=e;return(0,p.jsx)(p.Fragment,{children:[...Array(s)].map((e,s)=>(0,p.jsxs)("div",{className:b.pbSkeletonCard,children:[(0,p.jsx)("div",{className:b.pbSkeletonHeader,children:(0,p.jsx)("div",{className:b.pbSkeletonRank})}),(0,p.jsx)("div",{className:b.pbSkeletonItemsRow,children:[...Array(6)].map((e,s)=>(0,p.jsxs)(l.Fragment,{children:[s>0&&(0,p.jsx)("div",{className:b.pbSkeletonArrow}),(0,p.jsxs)("div",{className:b.pbSkeletonItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonItemIcon}),(0,p.jsx)("div",{className:b.pbSkeletonItemLabel})]})]},s))}),(0,p.jsxs)("div",{className:b.pbSkeletonSetupRow,children:[(0,p.jsxs)("div",{className:b.pbSkeletonSetupItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonSetupIcon}),(0,p.jsx)("div",{className:b.pbSkeletonSetupLabel})]}),(0,p.jsxs)("div",{className:b.pbSkeletonSetupItem,children:[(0,p.jsx)("div",{className:b.pbSkeletonSetupIcon}),(0,p.jsx)("div",{className:b.pbSkeletonSetupLabel})]})]})]},s))})});var F=a(2555);const A=e=>{let{heroId:s,gameId:a,showOnly:t}=e;const{t:n}=(0,i.Bd)(),{user:r}=(0,L.nc)(),[d,_]=(0,l.useState)(!1),{data:h=[]}=(0,f.o)(a),{data:u=[]}=(0,T.Z)(String(a)),{tier1:y,tier2:g,tier3:x}=(0,T.$)(String(a)),{data:v=[]}=(0,c.I)({queryKey:m.l.spells.all(a),queryFn:()=>(0,o.m)("/battle-spells?game_id=".concat(a)),enabled:!!a,staleTime:m.N}),{data:j=[],isLoading:N,refetch:S}=(0,c.I)({queryKey:m.l.builds.community(s,null===r||void 0===r?void 0:r.id),queryFn:async()=>{const e=L.nc.getState().token,a={};e&&(a.Authorization="Bearer ".concat(e));const t=await fetch("".concat(R.H,"/heroes/").concat(s,"/builds"),{headers:a});if(!t.ok)throw new Error("Failed to load builds");const l=await t.json();return Array.isArray(l)?l:[]},enabled:!!s,staleTime:6e4}),k=((e,s)=>{const{user:a}=(0,L.nc)(),[t,i]=(0,l.useState)(!1),[n,r]=(0,l.useState)(null),[c,o]=(0,l.useState)([]),[d,m]=(0,l.useState)(!1),[_,h]=(0,l.useState)(!1),[b,p]=(0,l.useState)(""),[u,y]=(0,l.useState)([]),[g,x]=(0,l.useState)(null),[v,j]=(0,l.useState)(null),[N,S]=(0,l.useState)(null),[k,I]=(0,l.useState)([]),[f,T]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),D=(0,l.useCallback)(async()=>{if(a){m(!0);try{const s=await(0,L.tm)("/builds?hero_id=".concat(e));o(s)}catch(s){}finally{m(!1)}}},[a,e]);(0,l.useEffect)(()=>{D()},[D]);const B=()=>{p(""),y([]),x(null),j(null),S(null),I([]),T(""),r(null),C("")};return{showForm:t,setShowForm:i,editingBuild:n,myBuilds:c,loadingMyBuilds:d,saving:_,buildName:b,setBuildName:p,selectedItems:u,selectedEmblem:g,setSelectedEmblem:x,selectedSpell1:v,setSelectedSpell1:j,selectedSpell2:N,setSelectedSpell2:S,selectedTalents:k,setSelectedTalents:I,notes:f,setNotes:T,itemSearch:w,setItemSearch:C,openForm:e=>{e?(r(e),p(e.name),y(e.items||[]),x(e.emblem_id),j(e.spell1_id),S(e.spell2_id),I(e.talents||[]),T(e.notes||"")):B(),i(!0)},handleSave:async()=>{if(b.trim()&&0!==u.length){h(!0);try{const a={name:b,items:u,emblem_id:g,talents:k,spell1_id:v,spell2_id:N,notes:f};n?await(0,L.tm)("/builds/".concat(n.id),{method:"PUT",body:JSON.stringify(a)}):await(0,L.tm)("/builds",{method:"POST",body:JSON.stringify((0,F.A)({hero_id:e},a))}),i(!1),B(),D(),s()}catch(a){console.error("Failed to save build:",a)}finally{h(!1)}}},handleDelete:async e=>{try{await(0,L.tm)("/builds/".concat(e),{method:"DELETE"}),D(),s()}catch(a){console.error("Failed to delete build:",a)}},toggleItem:e=>{y(s=>s.includes(e)?s.filter(s=>s!==e):s.length>=6?s:[...s,e])}}})(s,S);(0,B.i)((0,l.useCallback)(()=>k.setShowForm(!1),[k]),k.showForm);const I=(0,D.h)(()=>_(!1)),w=l.useMemo(()=>{const e=new Map;return h.forEach(s=>e.set(s.id,s)),e},[h]),C=l.useMemo(()=>{const e=new Map;return u.forEach(s=>e.set(s.id,s)),e},[u]),A=l.useMemo(()=>{const e=new Map;return v.forEach(s=>e.set(s.id,s)),e},[v]),E=l.useMemo(()=>{const e=new Map;return[...y,...g,...x].forEach(s=>e.set(s.name,s)),e},[y,g,x]),G=l.useMemo(()=>{let e=h.filter(e=>"3"===String(e.tier));if(k.itemSearch){const s=k.itemSearch.toLowerCase();e=e.filter(e=>{var a;return null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(s)})}return e},[h,k.itemSearch]);return(0,p.jsxs)("div",{className:b.cbContainer,children:[(!t||"my"===t)&&(0,p.jsxs)("div",{className:b.cbSection,children:[(0,p.jsxs)("div",{className:b.cbSectionHeader,children:[(0,p.jsx)("h3",{className:b.sectionTitle,children:n("builds.myBuilds")}),(0,p.jsxs)("button",{className:b.cbCreateBtn,onClick:()=>{if(!r)return _(!0),setTimeout(()=>I(),500),void setTimeout(()=>_(!1),3e3);k.openForm()},children:["+ ",n("builds.create")]})]}),d&&(0,p.jsx)("p",{className:b.cbLoginPrompt,children:n("builds.loginToCreate")}),r?k.loadingMyBuilds?(0,p.jsx)(P,{count:2}):0===k.myBuilds.length?(0,p.jsx)("p",{className:b.cbEmpty,children:n("builds.noBuilds")}):k.myBuilds.map(e=>(0,p.jsx)(M,{build:e,isOwn:!0,itemsMap:w,emblemsMap:C,spellsMap:A,talentsMap:E,onEdit:k.openForm,onDelete:k.handleDelete},e.id)):(0,p.jsx)("p",{className:b.cbEmpty,children:n("builds.loginToCreate")})]}),(!t||"community"===t)&&(N||j.length>0)&&(0,p.jsxs)("div",{className:b.cbSection,children:[(0,p.jsx)("h3",{className:b.sectionTitle,children:n("builds.communityBuilds")}),N?(0,p.jsx)(P,{count:3}):j.map(e=>(0,p.jsx)(M,{build:e,isOwn:!1,itemsMap:w,emblemsMap:C,spellsMap:A,talentsMap:E,onEdit:k.openForm,onDelete:k.handleDelete},e.id))]}),k.showForm&&(0,p.jsx)(H,{editingBuild:k.editingBuild,buildName:k.buildName,setBuildName:k.setBuildName,selectedItems:k.selectedItems,selectedEmblem:k.selectedEmblem,setSelectedEmblem:k.setSelectedEmblem,selectedSpell1:k.selectedSpell1,setSelectedSpell1:k.setSelectedSpell1,selectedSpell2:k.selectedSpell2,setSelectedSpell2:k.setSelectedSpell2,selectedTalents:k.selectedTalents,setSelectedTalents:k.setSelectedTalents,notes:k.notes,setNotes:k.setNotes,itemSearch:k.itemSearch,setItemSearch:k.setItemSearch,saving:k.saving,filteredItems:G,itemsMap:w,spells:v,emblems:u,tier1:y,tier2:g,tier3:x,toggleItem:k.toggleItem,onSave:k.handleSave,onClose:()=>k.setShowForm(!1)})]})},E=l.memo(e=>{let{hero:s,buildsSubTab:a,setBuildsSubTab:t}=e;const{t:l}=(0,i.Bd)();return(0,p.jsxs)("div",{className:b.contentSection,children:[(0,p.jsxs)("div",{className:b.relationshipTabs,children:[(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("builds"===a?b.relationshipTabActive:""),onClick:()=>t("builds"),children:l("heroDetail.proBuilds")}),(0,p.jsx)("button",{className:"".concat(b.relationshipTab," ").concat("my"===a?b.relationshipTabActive:""),onClick:()=>t("my"),children:l("builds.myBuilds")})]}),"builds"===a&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{builds:s.pro_builds||[],gameId:s.game_id}),(0,p.jsx)(A,{heroId:s.id,gameId:s.game_id,showOnly:"community"})]}),"my"===a&&(0,p.jsx)(A,{heroId:s.id,gameId:s.game_id,showOnly:"my"})]})});var G=a(5613);const V=function(){var e,s,a,o;const{t:u,i18n:g}=(0,i.Bd)(),{heroId:N}=(0,t.g)(),{data:f,isLoading:T,isError:w}=(0,r.oJ)(Number(N)),{data:C=[],isLoading:D}=(0,r.w4)(Number(N)),{data:R=[]}=(0,r.GA)((null===f||void 0===f?void 0:f.game_id)||0);(0,r.u8)((null===f||void 0===f?void 0:f.game_id)||0),(0,r.gZ)((null===f||void 0===f?void 0:f.game_id)||0);const{data:M=[]}=(0,c.I)({queryKey:m.l.patches.all,queryFn:async()=>(await d()).sort((e,s)=>{const a=new Date(e.release_date).getTime();return new Date(s.release_date).getTime()-a}),staleTime:m.N}),[H,P]=l.useState(!1),[F,A]=l.useState(!1);(0,B.i)(l.useCallback(()=>P(!1),[]),H);const{activeTab:V,counterSubTab:W,synergySubTab:O,setActiveTab:z,setCounterSubTab:K,setSynergySubTab:q}=(()=>{const[e,s]=(0,l.useState)("info"),[a,t]=(0,l.useState)("best"),[i,n]=(0,l.useState)("compatible");return{activeTab:e,counterSubTab:a,synergySubTab:i,setActiveTab:s,setCounterSubTab:t,setSynergySubTab:n}})(),[J,Q]=l.useState("builds"),{user:U}=(0,L.nc)(),Z=l.useRef(U);l.useEffect(()=>{Z.current&&!U&&"my"===J&&Q("builds"),Z.current=U},[U,J]),(0,G.P)({title:f?"".concat(f.name," \u2014 Hero Guide"):"Hero",description:f?"".concat(f.name," guide \u2014 skills, builds, counters and stats for Mobile Legends."):void 0});const{displaySkills:X,selectedSkillIndex:Y,selectedSkill:$,maxTransforms:ee,transformIndex:se,changedIndices:ae,cycleTransform:te,setSelectedSkillIndex:le}=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[a,t]=(0,l.useState)(s),[i,n]=(0,l.useState)(0),r=e.filter(e=>!e.is_transformed).sort((e,s)=>{var a,t;return(null!==(a=e.display_order)&&void 0!==a?a:0)-(null!==(t=s.display_order)&&void 0!==t?t:0)}),c=e.filter(e=>e.is_transformed).sort((e,s)=>{var a,t;return(null!==(a=e.display_order)&&void 0!==a?a:0)-(null!==(t=s.display_order)&&void 0!==t?t:0)}),o=c.length>0?Math.max(...c.map(e=>e.transformation_order||0)):0,d=0===i?r:r.map(e=>c.find(s=>s.replaces_skill_id===e.id&&s.transformation_order===i)||e),m=new Set;i>0&&d.forEach((e,s)=>{var a;e.id!==(null===(a=r[s])||void 0===a?void 0:a.id)&&m.add(s)});const _=d[a]||d[0];return(0,l.useEffect)(()=>{a>=d.length&&d.length>0&&t(0)},[d,a]),{baseSkills:r,transformedSkills:c,displaySkills:d,selectedSkillIndex:a,selectedSkill:_,maxTransforms:o,transformIndex:i,changedIndices:m,cycleTransform:()=>{n(e=>(e+1)%(o+1))},setSelectedSkillIndex:t,setTransformIndex:n}}(C),ie=l.useMemo(()=>f&&M?M.filter(e=>e.hero_changes&&e.hero_changes[f.name]||e.hero_adjustments&&e.hero_adjustments[f.name]):[],[M,f]),ne=[u("heroDetail.durability"),u("heroDetail.offense"),u("heroDetail.abilityEffects"),u("heroDetail.difficulty")];return T||D?(0,p.jsx)(_.a,{}):w||!f?(0,p.jsx)("div",{className:b.container,children:(0,p.jsx)("div",{className:b.error,children:u("heroDetail.notFound")})}):(0,p.jsxs)("div",{className:b.container,children:[(0,p.jsxs)("div",{className:b.cinematicBanner,children:[(f.painting||f.image)&&(0,p.jsx)("img",{src:f.painting||f.image,alt:f.name,className:"".concat(b.bannerImage," ").concat(F?b.bannerImageLoaded:""),onLoad:()=>A(!0)}),(0,p.jsx)("div",{className:b.bannerOverlay}),(0,p.jsxs)("div",{className:b.bannerContent,children:[(0,p.jsxs)("div",{className:b.bannerInfoCard,children:[(0,p.jsxs)("div",{className:b.bannerNameRow,children:[(0,p.jsx)("h1",{className:b.bannerHeroName,children:(0,n.MJ)(f,g.language)}),(0,p.jsx)(h.Z,{heroId:f.id})]}),f.roles&&f.roles.length>0&&(0,p.jsx)("div",{className:b.bannerRoleTags,children:(0,n.CD)(f.roles,g.language).map((e,s)=>(0,p.jsx)("span",{className:b.bannerRoleTag,children:e},s))}),(f.short_description||f.short_description_uk)&&(0,p.jsx)("p",{className:b.bannerDescription,children:(0,n.f4)(f,g.language)})]}),f.image&&(0,p.jsxs)("div",{className:b.bannerPortraitWrapper,children:[f.abilityshow&&f.abilityshow.length>=4&&(0,p.jsxs)("svg",{className:b.abilityRings,viewBox:"0 0 120 120",children:[(0,p.jsx)("circle",{cx:"60",cy:"60",r:"56",fill:"none",stroke:"rgba(16, 185, 129, 0.15)",strokeWidth:"3"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"56",fill:"none",stroke:"#10b981",strokeWidth:"3",strokeDasharray:"".concat(Number(f.abilityshow[0])/100*351.86," 351.86"),strokeLinecap:"round",transform:"rotate(-90 60 60)"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"rgba(239, 68, 68, 0.15)",strokeWidth:"3"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"#ef4444",strokeWidth:"3",strokeDasharray:"".concat(Number(f.abilityshow[1])/100*326.73," 326.73"),strokeLinecap:"round",transform:"rotate(-90 60 60)"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"48",fill:"none",stroke:"rgba(96, 165, 250, 0.15)",strokeWidth:"3"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"48",fill:"none",stroke:"#60a5fa",strokeWidth:"3",strokeDasharray:"".concat(Number(f.abilityshow[2])/100*301.59," 301.59"),strokeLinecap:"round",transform:"rotate(-90 60 60)"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"44",fill:"none",stroke:"rgba(245, 158, 11, 0.15)",strokeWidth:"3"}),(0,p.jsx)("circle",{cx:"60",cy:"60",r:"44",fill:"none",stroke:"#f59e0b",strokeWidth:"3",strokeDasharray:"".concat(Number(f.abilityshow[3])/100*276.46," 276.46"),strokeLinecap:"round",transform:"rotate(-90 60 60)"})]}),(0,p.jsx)("div",{className:b.bannerPortrait,onClick:()=>P(!0),role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&P(!0),children:(0,p.jsx)("img",{src:f.image,alt:(0,n.MJ)(f,g.language)})})]})]}),(0,p.jsx)("div",{className:b.bannerGradientLine})]}),(0,p.jsxs)("div",{className:b.statsStrip,children:[(0,p.jsxs)("div",{className:b.statsStripLeft,children:[(null===(e=f.hero_stats)||void 0===e?void 0:e.hp)&&(0,p.jsxs)("div",{className:b.statPill,"data-type":"hp",children:[(0,p.jsx)("span",{className:b.statPillValue,children:f.hero_stats.hp}),(0,p.jsx)("span",{className:b.statPillLabel,children:"HP"}),(0,p.jsxs)("span",{className:b.statPillGrowth,children:["+",(null===(s=f.hero_stats)||void 0===s?void 0:s.hp_regen)||"0"]})]}),!(null===(a=f.hero_stats)||void 0===a||!a.mana)&&(0,p.jsxs)("div",{className:b.statPill,"data-type":"mana",children:[(0,p.jsx)("span",{className:b.statPillValue,children:f.hero_stats.mana}),(0,p.jsx)("span",{className:b.statPillLabel,children:"MP"}),(0,p.jsxs)("span",{className:b.statPillGrowth,children:["+",(null===(o=f.hero_stats)||void 0===o?void 0:o.mana_regen)||"0"]})]})]}),(0,p.jsxs)("div",{className:b.statsStripRight,children:[f.damage_type&&(0,p.jsxs)("div",{className:b.tagGroup,children:[(0,p.jsx)("span",{className:b.tagGroupLabel,children:u("heroDetail.damageType")}),(0,p.jsx)("span",{className:b.tagPill,children:(0,n.gk)(f.damage_type,g.language)})]}),f.lane&&f.lane.length>0&&(0,p.jsxs)("div",{className:b.tagGroup,children:[(0,p.jsx)("span",{className:b.tagGroupLabel,children:u("heroDetail.lane")}),(0,n.gr)(f.lane,g.language).map((e,s)=>(0,p.jsx)("span",{className:b.tagPill,children:e},"lane-".concat(s)))]}),f.specialty&&f.specialty.length>0&&(0,p.jsxs)("div",{className:b.tagGroup,children:[(0,p.jsx)("span",{className:b.tagGroupLabel,children:u("heroDetail.specialty")}),(0,n.hn)(f.specialty,g.language).map((e,s)=>(0,p.jsx)("span",{className:b.tagPill,"data-accent":"true",children:e},"spec-".concat(s)))]})]})]}),(0,p.jsxs)("div",{className:b.heroMainContent,children:[(0,p.jsx)(y,{activeTab:V,onTabChange:z}),(0,p.jsxs)("div",{className:b.tabContent,children:["info"===V&&(0,p.jsx)(v,{hero:f,abilitiesLabel:ne,getRatingLevel:e=>e>=60?{level:u("heroDetail.ratingVeryHigh"),color:"high"}:e>=40?{level:u("heroDetail.ratingHigh"),color:"medium-high"}:e>=20?{level:u("heroDetail.ratingAverage"),color:"medium"}:{level:u("heroDetail.ratingLow"),color:"low"}}),"about"===V&&(0,p.jsx)(j,{hero:f}),"counter"===V&&(0,p.jsx)(S,{hero:f,allHeroes:R,counterSubTab:W,setCounterSubTab:K}),"synergy"===V&&(0,p.jsx)(k,{hero:f,allHeroes:R,synergySubTab:O,setSynergySubTab:q}),"history"===V&&(0,p.jsx)(I,{hero:f,heroPatches:ie}),"builds"===V&&(0,p.jsx)(E,{hero:f,buildsSubTab:J,setBuildsSubTab:Q})]})]}),(0,p.jsx)(x,{displaySkills:X,selectedSkillIndex:Y,selectedSkill:$,maxTransforms:ee,transformIndex:se,changedIndices:ae,onSkillSelect:le,onTransformCycle:te}),H&&(f.painting||f.image)&&(0,p.jsxs)("div",{className:b.lightboxOverlay,onClick:()=>P(!1),children:[(0,p.jsx)("button",{className:b.lightboxClose,onClick:()=>P(!1),"aria-label":"Close",children:(0,p.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,p.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,p.jsx)("img",{className:b.lightboxImage,src:f.painting||f.image,alt:(0,n.MJ)(f,g.language),onClick:e=>e.stopPropagation()})]})]})}},2606:(e,s,a)=>{a.d(s,{i:()=>l});var t=a(5043);const l=function(e){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,t.useEffect)(()=>{if(!s)return;const a=s=>{"Escape"===s.key&&e()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,s])}},5613:(e,s,a)=>{a.d(s,{P:()=>o});var t=a(5043);const l="Wiki for Mobile Legends (Unofficial)",i="Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.",n="".concat("https://moba-wiki-production.up.railway.app","/logo512.png"),r=(e,s)=>{let a=document.querySelector('meta[property="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("property",e),document.head.appendChild(a)),a.setAttribute("content",s)},c=(e,s)=>{let a=document.querySelector('meta[name="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("name",e),document.head.appendChild(a)),a.setAttribute("content",s)},o=function(){let{title:e,description:s,image:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.useEffect)(()=>{const t=e?"".concat(e," | ").concat(l):l,o=s||i,d=a||n,m=window.location.href;return document.title=t,c("description",o),r("og:title",t),r("og:description",o),r("og:image",d),r("og:url",m),r("og:type","website"),r("og:site_name","MOBA Wiki"),c("twitter:card","summary_large_image"),c("twitter:title",t),c("twitter:description",o),c("twitter:image",d),()=>{document.title=l,c("description",i)}},[e,s,a])}},9645:(e,s,a)=>{a.d(s,{r:()=>r});var t=a(5043),l=a(8261),i=a(3248),n=a(8687);const r=()=>{const e=(0,n.nc)(e=>e.token),s=(0,i.jE)(),{data:a=[],isLoading:r}=(0,l.I)({queryKey:["favorites"],queryFn:()=>(0,n.tm)("/favorites"),enabled:!!e,staleTime:3e4,retry:1}),c=(0,t.useCallback)(e=>a.some(s=>s.hero_id===e),[a]),o=(0,t.useCallback)(async e=>{const t=a.some(s=>s.hero_id===e);s.setQueryData(["favorites"],function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t?s.filter(s=>s.hero_id!==e):[...s,{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{t?await(0,n.tm)("/favorites/".concat(e),{method:"DELETE"}):await(0,n.tm)("/favorites/".concat(e),{method:"POST"}),s.invalidateQueries({queryKey:["favorites"]})}catch(l){throw s.invalidateQueries({queryKey:["favorites"]}),l}},[a,s]),d=(0,t.useCallback)(async e=>{s.setQueryData(["favorites"],function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{await(0,n.tm)("/favorites/".concat(e),{method:"POST"}),s.invalidateQueries({queryKey:["favorites"]})}catch(a){throw s.invalidateQueries({queryKey:["favorites"]}),a}},[s]);return{favorites:a,isLoading:r,isFavorite:c,toggleFavorite:o,addFavorite:d}}}}]);
//# sourceMappingURL=471.c5888e5e.chunk.js.map