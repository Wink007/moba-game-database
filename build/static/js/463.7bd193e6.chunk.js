"use strict";(self.webpackChunkmoba_wiki=self.webpackChunkmoba_wiki||[]).push([[463],{330:(e,t,a)=>{a.d(t,{A:()=>s});const s={container:"styles_container__vg70K",error:"styles_error__6ZwUQ",heroGrid:"styles_heroGrid__sDjw4",heroCard:"styles_heroCard__f+83B",heroImage:"styles_heroImage__5kAlW",heroImageWrapper:"styles_heroImageWrapper__b5WY-",heroImagePlaceholder:"styles_heroImagePlaceholder__-hlxR",heroImageOverlay:"styles_heroImageOverlay__2F8iV",heroContent:"styles_heroContent__xj5Mf",heroName:"styles_heroName__VnHVI",heroRoles:"styles_heroRoles__rgqiz",roleTag:"styles_roleTag__5LdMl",heroFooter:"styles_heroFooter__966s6",heroLanes:"styles_heroLanes__WL1zS",heroFavorite:"styles_heroFavorite__CikaW",laneIcon:"styles_laneIcon__MyI2-",laneTag:"styles_laneTag__UQ5Ea",heroDifficulty:"styles_heroDifficulty__irAj2",difficultyDot:"styles_difficultyDot__7ewIq",difficultyValue:"styles_difficultyValue__C78E-",noData:"styles_noData__jQcTW"}},463:(e,t,a)=>{a.d(t,{FavoritesPage:()=>N});a(5043);var s=a(4218),o=a(6930),r=a(5836),i=a(5935),l=a(1795),n=a(8687),c=a(9645),d=a(5613),_=a(623),h=a(6250);const m="styles_container__CJL55",u="styles_title__mUcaf",g="styles_grid__Dpny+",v="styles_loginPrompt__vWqO2",y="styles_loginButton__I4qVq",f="styles_empty__7LqHr",p="styles_browseLink__IhSQG";var j=a(579);const N=()=>{const{t:e}=(0,o.Bd)();(0,d.P)({title:e("favorites.pageTitle"),description:e("favorites.pageDescription")});const{selectedGameId:t}=(0,l.T)(),a=(0,n.nc)(e=>e.user),{favorites:N,isLoading:x}=(0,c.r)(),{data:w,isLoading:L}=(0,i.GA)(t),A=(0,_.h)();if(!a)return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("h1",{className:u,children:e("favorites.pageTitle")}),(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)("p",{children:e("favorites.loginRequired")}),(0,j.jsx)("button",{className:y,onClick:()=>A(),children:e("auth.login")})]})]});if(x||L)return(0,j.jsx)(r.a,{});const I=new Set(N.map(e=>e.hero_id)),b=(w||[]).filter(e=>I.has(e.id));return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("h1",{className:u,children:e("favorites.pageTitle")}),0===b.length?(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("p",{children:e("favorites.empty")}),(0,j.jsx)(s.N_,{to:"/".concat(t,"/heroes"),className:p,children:e("favorites.browseHeroes")})]}):(0,j.jsx)("div",{className:g,children:b.map(e=>(0,j.jsx)(h.X,{hero:e,gameId:t},e.id))})]})}},1743:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(5043),o=a(6930),r=a(8687),i=a(9645),l=a(623);const n="styles_favWrapper__3fhqK",c="styles_favoriteBtn__mC9D2",d="styles_active__aHoUL",_="styles_notAuth__M-vT0",h="styles_loginTooltip__4+vqv",m="styles_loginTooltipTop__s+6X-";var u=a(579);const g=e=>{let{heroId:t,className:a,tooltipPosition:g="bottom"}=e;const{t:v}=(0,o.Bd)(),{user:y}=(0,r.nc)(),{isFavorite:f,toggleFavorite:p,addFavorite:j,isLoading:N}=(0,i.r)(),[x,w]=(0,s.useState)(!1),[L,A]=(0,s.useState)(!1),I=(0,s.useRef)(null),b=f(t),C=(0,l.h)((0,s.useCallback)(async()=>{if(null!==I.current){try{await j(I.current)}catch(e){}I.current=null}},[j])),k=v(y?b?"favorites.remove":"favorites.add":"favorites.loginToAdd");return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("button",{className:"".concat(c," ").concat(b?d:""," ").concat(y?"":_," ").concat(a||""),onClick:async()=>{if(!x&&!N){if(!y)return I.current=t,A(!0),setTimeout(()=>A(!1),2500),void setTimeout(()=>C(),400);w(!0);try{await p(t)}catch(e){console.error("Failed to toggle favorite:",e)}finally{w(!1)}}},disabled:x,title:k,"aria-label":k,children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:b?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:(0,u.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),L&&(0,u.jsx)("div",{className:"".concat(h," ").concat("top"===g?m:""),children:v("favorites.loginToAdd")})]})}},5613:(e,t,a)=>{a.d(t,{P:()=>c});var s=a(5043);const o="Wiki for Mobile Legends (Unofficial)",r="Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.",i="".concat("https://moba-wiki-production.up.railway.app","/logo512.png"),l=(e,t)=>{let a=document.querySelector('meta[property="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("property",e),document.head.appendChild(a)),a.setAttribute("content",t)},n=(e,t)=>{let a=document.querySelector('meta[name="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("name",e),document.head.appendChild(a)),a.setAttribute("content",t)},c=function(){let{title:e,description:t,image:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.useEffect)(()=>{const s=e?"".concat(e," | ").concat(o):o,c=t||r,d=a||i,_=window.location.href;return document.title=s,n("description",c),l("og:title",s),l("og:description",c),l("og:image",d),l("og:url",_),l("og:type","website"),l("og:site_name","MOBA Wiki"),n("twitter:card","summary_large_image"),n("twitter:title",s),n("twitter:description",c),n("twitter:image",d),()=>{document.title=o,n("description",r)}},[e,t,a])}},6250:(e,t,a)=>{a.d(t,{X:()=>d});var s=a(4218),o=a(6930),r=a(9889),i=a(9046),l=a(1743),n=a(330),c=a(579);const d=e=>{let{hero:t,gameId:a}=e;const{i18n:d}=(0,o.Bd)();return(0,c.jsxs)(s.N_,{to:"/".concat(a,"/heroes/").concat(t.id),className:n.A.heroCard,children:[(0,c.jsxs)("div",{className:n.A.heroImageWrapper,children:[t.image?(0,c.jsx)("img",{src:t.image,alt:(0,i.MJ)(t,d.language),className:n.A.heroImage}):(0,c.jsx)("div",{className:n.A.heroImagePlaceholder,children:(0,c.jsx)("span",{children:(0,i.MJ)(t,d.language).charAt(0)})}),(0,c.jsx)("div",{className:n.A.heroImageOverlay}),t.lane&&t.lane.length>0&&(0,c.jsx)("div",{className:n.A.heroLanes,children:t.lane.slice(0,2).map((e,a)=>{const s=(e=>{const t=Object.values(r.G).find(t=>t.toLowerCase()===e.toLowerCase());return t?r.S[t]:void 0})(e),o=(0,i.gr)(t.lane||[],d.language);return s?(0,c.jsx)("img",{src:s,alt:o[a]||e,className:n.A.laneIcon,title:o[a]||e},e):null})})]}),(0,c.jsx)("div",{className:n.A.heroFavorite,onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,c.jsx)(l.Z,{heroId:t.id,tooltipPosition:"top"})}),(0,c.jsxs)("div",{className:n.A.heroContent,children:[(0,c.jsx)("h3",{className:n.A.heroName,children:(0,i.MJ)(t,d.language)}),(0,c.jsx)("div",{className:n.A.heroFooter}),t.roles&&t.roles.length>0&&(0,c.jsx)("p",{className:n.A.heroRoles,children:(0,i.CD)(t.roles,d.language).slice(0,2).join(" \u2022 ")})]})]})}},9645:(e,t,a)=>{a.d(t,{r:()=>l});var s=a(5043),o=a(8261),r=a(3248),i=a(8687);const l=()=>{const e=(0,i.nc)(e=>e.token),t=(0,r.jE)(),{data:a=[],isLoading:l}=(0,o.I)({queryKey:["favorites"],queryFn:()=>(0,i.tm)("/favorites"),enabled:!!e,staleTime:3e4,retry:1}),n=(0,s.useCallback)(e=>a.some(t=>t.hero_id===e),[a]),c=(0,s.useCallback)(async e=>{const s=a.some(t=>t.hero_id===e);t.setQueryData(["favorites"],function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s?t.filter(t=>t.hero_id!==e):[...t,{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{s?await(0,i.tm)("/favorites/".concat(e),{method:"DELETE"}):await(0,i.tm)("/favorites/".concat(e),{method:"POST"}),t.invalidateQueries({queryKey:["favorites"]})}catch(o){throw t.invalidateQueries({queryKey:["favorites"]}),o}},[a,t]),d=(0,s.useCallback)(async e=>{t.setQueryData(["favorites"],function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{await(0,i.tm)("/favorites/".concat(e),{method:"POST"}),t.invalidateQueries({queryKey:["favorites"]})}catch(a){throw t.invalidateQueries({queryKey:["favorites"]}),a}},[t]);return{favorites:a,isLoading:l,isFavorite:n,toggleFavorite:c,addFavorite:d}}},9889:(e,t,a)=>{a.d(t,{G:()=>s,S:()=>o});let s=function(e){return e.EXP_LANE="Exp Lane",e.JUNGLE="Jungle",e.MID_LANE="Mid Lane",e.ROAM="Roam",e.GOLD_LANE="Gold Lane",e}({});const o={[s.EXP_LANE]:"/exp.svg",[s.JUNGLE]:"/jungle.svg",[s.MID_LANE]:"/mid.svg",[s.ROAM]:"/roam.svg",[s.GOLD_LANE]:"/gold.svg"}}}]);
//# sourceMappingURL=463.7bd193e6.chunk.js.map