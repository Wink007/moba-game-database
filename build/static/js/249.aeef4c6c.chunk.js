"use strict";(self.webpackChunkmoba_wiki=self.webpackChunkmoba_wiki||[]).push([[249],{726:(e,t,s)=>{s.d(t,{x:()=>i});const i=e=>e.replace(/(\+?\d+(?:\.\d+)?\s*%|\+\d+(?:\.\d+)?|\d+(?:\.\d+)?\s*(?:seconds?|\u0441\u0435\u043a\u0443\u043d\u0434[\u0438\u0430]?|\u0441\u0435\u043a\.?|HP|hp|MP|mp|s\b))/g,'<span class="stat-highlight">$1</span>')},2389:(e,t,s)=>{s.d(t,{p:()=>l});var i=s(7977);const l=e=>e?i.A.sanitize(e,{ALLOWED_TAGS:["b","i","em","strong","u","s","br","p","span","div","ul","ol","li","a","h1","h2","h3","h4","h5","h6","table","thead","tbody","tr","th","td","img","sup","sub"],ALLOWED_ATTR:["href","target","rel","class","style","src","alt","title"]}):""},4249:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var i=s(4218),l=s(5043),a=s(6930),n=s(3931);const c={itemsPage:"styles_itemsPage__X9LKL",loading:"styles_loading__Dherr",sidebar:"styles_sidebar__uJmCU",filtersWrapper:"styles_filtersWrapper__WCmA1",filterGroup:"styles_filterGroup__OGqOC",searchInput:"styles_searchInput__yTdMU",tierButtons:"styles_tierButtons__KqP0I",categoryButtons:"styles_categoryButtons__-g-JW",tierButton:"styles_tierButton__aWxPK",categoryButton:"styles_categoryButton__myQ9o",active:"styles_active__IQXGF",filterStats:"styles_filterStats__PWzQ3",contentWrapper:"styles_contentWrapper__B9d28",mainContent:"styles_mainContent__lt9GU",itemsGrid:"styles_itemsGrid__vnV-H",itemCard:"styles_itemCard__pFtBl",selected:"styles_selected__SmAVs",itemIcon:"styles_itemIcon__w6HgS",itemInfo:"styles_itemInfo__eiF6H",itemPrice:"styles_itemPrice__wm30T",goldIcon:"styles_goldIcon__8pvsC",itemTier:"styles_itemTier__JlFtH",tierI:"styles_tierI__cosCX",tierII:"styles_tierII__pylCc",tierIII:"styles_tierIII__sirN4",craftingPanel:"styles_craftingPanel__vsX-A",open:"styles_open__X8zzv",selectedItemHeader:"styles_selectedItemHeader__9DyO8",priceInfo:"styles_priceInfo__803cT",selectedItemIcon:"styles_selectedItemIcon__G3q8f",itemDescription:"styles_itemDescription__dPW2v",descTagline:"styles_descTagline__QlFh7",descAttributes:"styles_descAttributes__uJZ6k",descAttr:"styles_descAttr__BHXu9",descAbilities:"styles_descAbilities__ymlOO",descAbility:"styles_descAbility__TVe0w",abilityHeader:"styles_abilityHeader__QYLAz",abilityType:"styles_abilityType__0UyrK",abilityName:"styles_abilityName__ajsNL",abilityDesc:"styles_abilityDesc__3I2an",itemStats:"styles_itemStats__MjIvT",statRow:"styles_statRow__TBpLc",statName:"styles_statName__kCVIO",statValue:"styles_statValue__mflwY",craftingTree:"styles_craftingTree__0aI4G",treeLevel:"styles_treeLevel__d05Nn",baseItem:"styles_baseItem__a2uh+",itemName:"styles_itemName__5hBme",itemMeta:"styles_itemMeta__9jzmU",selectedResult:"styles_selectedResult__B3PYJ",resultCard:"styles_resultCard__Zo+-l",itemTitle:"styles_itemTitle__RhwjO",totalCost:"styles_totalCost__-ZZe7",costValue:"styles_costValue__fdy8i",requiredSection:"styles_requiredSection__jEsTb",sectionTitle:"styles_sectionTitle__y1h6K",itemsList:"styles_itemsList__ywQm5",tier:"styles_tier__rFuWi",price:"styles_price__BNXoo",quantity:"styles_quantity__nOoLl",craftingItemIcon:"styles_craftingItemIcon__bHkAI",componentPrice:"styles_componentPrice__rgGtI",emptyState:"styles_emptyState__ZY9R4",overlay:"styles_overlay__KVjac",closeButton:"styles_closeButton__W0-ls",mobileFilterButton:"styles_mobileFilterButton__JCYkI",usedInSection:"styles_usedInSection__02y8b",usedInList:"styles_usedInList__04eeI",usedInItem:"styles_usedInItem__xEGdF"};var r=s(579);const o=e=>{let{tiers:t,categories:s,selectedTier:i,selectedCategory:l,searchQuery:n,filteredCount:o,onTierChange:d,onCategoryChange:m,onSearchChange:_,isOpen:u}=e;const{t:h}=(0,a.Bd)(),p=e=>{const t=e.toLowerCase(),s="items.categories.".concat(t),i=h(s);return i!==s?i:e};return(0,r.jsx)("aside",{className:"".concat(c.sidebar," ").concat(u?c.open:""),children:(0,r.jsxs)("div",{className:c.filtersWrapper,children:[(0,r.jsxs)("div",{className:c.filterGroup,children:[(0,r.jsx)("h4",{children:h("items.tier")}),(0,r.jsxs)("div",{className:c.tierButtons,children:[(0,r.jsx)("button",{className:"".concat(c.tierButton," ").concat(null===i?c.active:""),onClick:()=>d(null),children:h("items.all")}),t.map(e=>(0,r.jsxs)("button",{className:"".concat(c.tierButton," ").concat(i===e?c.active:""),onClick:()=>d(e),children:["T",e]},e))]})]}),(0,r.jsxs)("div",{className:c.filterGroup,children:[(0,r.jsx)("h4",{children:h("items.filters.category")}),(0,r.jsxs)("div",{className:c.categoryButtons,children:[(0,r.jsx)("button",{className:"".concat(c.categoryButton," ").concat(null===l?c.active:""),onClick:()=>m(null),children:h("items.all")}),s.map(e=>(0,r.jsx)("button",{className:"".concat(c.categoryButton," ").concat(l===e?c.active:""),onClick:()=>m(e),children:p(e)},e))]})]}),(0,r.jsxs)("div",{className:c.filterGroup,children:[(0,r.jsx)("h4",{children:h("items.search",{count:o})}),(0,r.jsx)("input",{type:"text",placeholder:h("items.searchPlaceholder"),value:n,onChange:e=>_(e.target.value),className:c.searchInput})]})]})})};var d=s(9046);const m=l.memo(e=>{let{items:t,selectedItemId:s,onItemClick:i}=e;const{i18n:l}=(0,a.Bd)();return(0,r.jsx)("main",{className:c.mainContent,children:(0,r.jsx)("div",{className:c.itemsGrid,children:t.map(e=>(0,r.jsxs)("div",{className:"".concat(c.itemCard," ").concat(s===e.id?c.selected:""),"data-tier":e.tier,onClick:()=>i(e),children:[(0,r.jsx)("div",{className:c.itemIcon,children:e.icon_url&&(0,r.jsx)("img",{src:e.icon_url,alt:e.name})}),(0,r.jsxs)("div",{className:c.itemInfo,children:[(0,r.jsx)("h4",{children:(0,d.H0)(e,l.language)}),e.price_total&&(0,r.jsxs)("div",{className:c.itemPrice,children:[(0,r.jsx)("span",{className:c.goldIcon,children:"\ud83d\udcb0"}),e.price_total]})]}),e.tier&&(0,r.jsxs)("div",{className:"".concat(c.itemTier," ").concat(c["tier".concat(e.tier)]),children:["T",e.tier]})]},e.id))})})});var _=s(726),u=s(2389);const h=(e,t)=>{if(!e)return{attributes:[],abilities:[]};let s=e.trim();if(s.startsWith(t))s=s.slice(t.length).trim();else{const e=s.indexOf("+"),t=function(e){const t=[/\u0423\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0438\u0439\s+(?:\u043f\u0430\u0441\u0438\u0432|\u0430\u043a\u0442\u0438\u0432|\u0430\u0442\u0440\u0438\u0431\u0443\u0442)/i,/Unique\s+(?:Passive|Active|Attribute)/i];let s=-1;for(const i of t){const t=e.match(i);t&&void 0!==t.index&&(-1===s||t.index<s)&&(s=t.index)}return s}(s);if(e>0&&(-1===t||e<t)){const t=s.slice(0,e).trim();if(t.length>0){s=t+" "+s.slice(e);const i=s.match(/^[A-Z][a-zA-Z'-]*(?:\s+(?:of|the|for|and|in|to)\s+[A-Z][a-zA-Z'-]*|\s+[A-Z][a-zA-Z'-]*)*/);i&&i[0].length>3&&(s=s.slice(i[0].length).trim())}}else t>0&&(s=s.slice(0,t).trim()+" "+s.slice(t))}const i=[];let l=s;const a=Array.from(s.matchAll(/(\u0423\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0438\u0439\s+(?:\u043f\u0430\u0441\u0438\u0432|\u0430\u043a\u0442\u0438\u0432|\u0430\u0442\u0440\u0438\u0431\u0443\u0442)|Unique\s+(?:Passive|Active|Attribute))\s*[\u2014\u2013-]\s*/gi));if(a.length>0){l=s.slice(0,a[0].index).trim();for(let e=0;e<a.length;e++){const t=a[e],l=t[1],n=t.index+t[0].length,c=e+1<a.length?a[e+1].index:s.length,r=s.slice(n,c).trim(),o=r.indexOf(":");let d="",m=r;o>0&&o<60&&(d=r.slice(0,o).trim(),m=r.slice(o+1).trim()),m=m.replace(/\.\s*$/,""),i.push({type:l,name:d,description:m})}}const n=l.match(/\+\d+/);let c,r="";n&&void 0!==n.index?(c=l.slice(0,n.index).trim()||void 0,r=l.slice(n.index).trim()):c=l.trim()||void 0;const o=[];if(r){const e=r.split(/(?=\+\d)/);for(const t of e){const e=t.trim();e&&o.push(e)}}return{tagline:c,attributes:o,abilities:i}};const p=e=>{let{selectedItem:t,craftingComponents:s,usedInItems:i,isOpen:n,onClose:o,onItemClick:m,getCraftingTree:p}=e;const{t:y,i18n:g}=(0,a.Bd)();if(!t)return(0,r.jsxs)("aside",{className:"".concat(c.craftingPanel," ").concat(n?c.open:""),children:[(0,r.jsx)("button",{className:c.closeButton,onClick:o,children:"\u2715"}),(0,r.jsx)("div",{className:c.emptyState,children:(0,r.jsx)("p",{children:y("items.selectItem")})})]});const f={[y("items.statLabels.physicalAttack")]:t.physical_attack,[y("items.statLabels.magicPower")]:t.magic_power,[y("items.statLabels.attackSpeed")]:t.attack_speed,[y("items.statLabels.physicalDefense")]:t.physical_defense,[y("items.statLabels.magicDefense")]:t.magic_defense,[y("items.statLabels.hp")]:t.hp,[y("items.statLabels.manaRegen")]:t.mana_regen,[y("items.statLabels.cdr")]:t.cooldown_reduction,[y("items.statLabels.critChance")]:t.crit_chance,[y("items.statLabels.lifesteal")]:t.lifesteal,[y("items.statLabels.movementSpeed")]:t.movement_speed},x=Object.entries(f).filter(e=>{let[t,s]=e;return null!=s&&0!==Number(s)}),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=p(e);return 0===s.length?[]:s.map(e=>(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("div",{className:c.baseItem,"data-tier":e.tier,style:{paddingLeft:"".concat(40*t+8,"px")},onClick:()=>m(e),children:[(0,r.jsx)("div",{className:c.itemIcon,children:e.icon_url&&(0,r.jsx)("img",{src:e.icon_url,alt:e.name})}),(0,r.jsxs)("div",{className:c.itemInfo,children:[(0,r.jsx)("div",{className:c.itemName,children:(0,d.H0)(e,g.language)}),(0,r.jsxs)("div",{className:c.itemMeta,children:[e.tier&&(0,r.jsxs)("span",{className:c.tier,"data-tier":e.tier,children:["T",e.tier]}),(0,r.jsxs)("span",{className:c.price,children:["\ud83d\udcb0 ",e.price_total]})]})]})]}),j(e,t+1)]},"".concat(e.id,"-").concat(t)))};return(0,r.jsxs)("aside",{className:"".concat(c.craftingPanel," ").concat(n?c.open:""),children:[(0,r.jsx)("button",{className:c.closeButton,onClick:o,children:"\u2715"}),(0,r.jsxs)("div",{className:c.selectedItemHeader,children:[(0,r.jsx)("div",{className:c.selectedItemIcon,children:t.icon_url&&(0,r.jsx)("img",{src:t.icon_url,alt:t.name})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:(0,d.H0)(t,g.language)}),(0,r.jsxs)("div",{className:c.priceInfo,children:[t.price_total&&(0,r.jsxs)("div",{className:c.itemPrice,children:[(0,r.jsx)("span",{className:c.goldIcon,children:"\ud83d\udcb0"}),(0,r.jsxs)("span",{children:[y("items.buy"),": ",t.price_total]})]}),t.price_total&&(0,r.jsxs)("div",{className:c.itemPrice,children:[(0,r.jsx)("span",{className:c.goldIcon,children:"\ud83d\udcb0"}),(0,r.jsxs)("span",{children:[y("items.sell"),": ",t.price_sell&&t.price_sell>0?t.price_sell:Math.round(.6*t.price_total)]})]})]})]})]}),(t.description||t.description_uk)&&(()=>{const e=(e=>{let t=e;const s=["Recipe","Price","In-depth","Visual effect","Builds","Sellable","\u0420\u0435\u0446\u0435\u043f\u0442","\u0426\u0456\u043d\u0430","\u041f\u0440\u043e\u0434\u0430\u0436","\u0417\u0431\u0456\u0440\u043a\u0430"];for(const i of s){const e=t.indexOf(i);e>0&&(t=t.substring(0,e))}return t.trim()||y("items.noDescription")})((0,d.Ui)(t,g.language)),s=h(e,t.name);return(0,r.jsxs)("div",{className:c.itemDescription,children:[s.tagline&&(0,r.jsx)("div",{className:c.descTagline,children:s.tagline}),s.attributes.length>0&&(0,r.jsx)("div",{className:c.descAttributes,children:s.attributes.map((e,t)=>(0,r.jsx)("span",{className:c.descAttr,children:e},t))}),s.abilities.length>0&&(0,r.jsx)("div",{className:c.descAbilities,children:s.abilities.map((e,t)=>(0,r.jsxs)("div",{className:c.descAbility,children:[(0,r.jsxs)("div",{className:c.abilityHeader,children:[(0,r.jsx)("span",{className:c.abilityType,children:e.type}),e.name&&(0,r.jsx)("span",{className:c.abilityName,children:e.name})]}),(0,r.jsx)("div",{className:c.abilityDesc,dangerouslySetInnerHTML:{__html:(0,u.p)((0,_.x)(e.description))}})]},t))})]})})(),x.length>0&&(0,r.jsxs)("div",{className:c.itemStats,children:[(0,r.jsx)("h3",{children:y("items.stats")}),x.map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:c.statRow,children:[(0,r.jsx)("span",{className:c.statName,children:t}),(0,r.jsxs)("span",{className:c.statValue,children:["+",s]})]},t)})]}),s.length>0&&(0,r.jsxs)("div",{className:c.craftingTree,children:[(0,r.jsx)("h3",{children:y("items.recipe")}),(0,r.jsx)("div",{className:c.selectedResult,children:(0,r.jsxs)("div",{className:c.resultCard,onClick:()=>m(t),children:[(0,r.jsx)("div",{className:c.itemIcon,children:t.icon_url&&(0,r.jsx)("img",{src:t.icon_url,alt:t.name})}),(0,r.jsxs)("div",{className:c.itemInfo,children:[(0,r.jsx)("div",{className:c.itemTitle,children:(0,d.H0)(t,g.language)}),(0,r.jsxs)("div",{className:c.itemPrice,children:["\ud83d\udcb0 ",t.price_total]})]})]})}),(0,r.jsxs)("div",{className:c.requiredSection,children:[(0,r.jsx)("div",{className:c.sectionTitle,children:y("items.fullRecipe")}),(0,r.jsx)("div",{className:c.itemsList,children:j(t)})]})]}),i.length>0&&(0,r.jsxs)("div",{className:c.usedInSection,children:[(0,r.jsx)("h3",{children:y("items.buildsInto")}),(0,r.jsx)("div",{className:c.usedInList,children:i.map(e=>(0,r.jsxs)("div",{className:c.usedInItem,"data-tier":e.tier,onClick:()=>m(e),children:[(0,r.jsx)("div",{className:c.itemIcon,children:e.icon_url&&(0,r.jsx)("img",{src:e.icon_url,alt:e.name})}),(0,r.jsxs)("div",{className:c.itemInfo,children:[(0,r.jsx)("div",{className:c.itemName,children:(0,d.H0)(e,g.language)}),(0,r.jsxs)("div",{className:c.itemMeta,children:[e.tier&&(0,r.jsxs)("span",{className:c.tier,"data-tier":e.tier,children:["T",e.tier]}),(0,r.jsxs)("span",{className:c.price,children:["\ud83d\udcb0 ",e.price_total]})]})]})]},e.id))})]})]})};var y=s(5613),g=s(5836);const f=function(){const{t:e}=(0,a.Bd)(),{gameId:t}=(0,i.g)(),[s,d]=(0,i.ok)();(0,y.P)({title:"Items",description:"Browse all Mobile Legends items \u2014 equipment, roaming, jungling and more."});const{data:_=[],isLoading:u,isError:h}=(0,n.o)(Number(t)),[f,x]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),[I,b]=(0,l.useState)(null),[N,C]=(0,l.useState)(""),[A,T]=(0,l.useState)(!1),[w,L]=(0,l.useState)(!1);(0,l.useEffect)(()=>{const e=s.get("item");if(e&&_.length>0){const t=_.find(t=>t.id===Number(e));t&&(x(t),L(!0),s.delete("item"),d(s,{replace:!0}))}},[_,s,d]),(0,l.useEffect)(()=>{if(w&&window.innerWidth<=1024){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[w]);const{tiers:k,categories:B}=(e=>({tiers:(0,l.useMemo)(()=>{const t=new Set(e.map(e=>e.tier).filter(e=>void 0!==e&&null!==e));return Array.from(t).sort()},[e]),categories:(0,l.useMemo)(()=>{const t=new Set(e.map(e=>e.category).filter(e=>void 0!==e&&null!==e));return Array.from(t)},[e])}))(_),{filteredItems:S}=(e=>{let{items:t,selectedTier:s,selectedCategory:i,searchQuery:a}=e;return{filteredItems:(0,l.useMemo)(()=>t.filter(e=>(!s||e.tier===s)&&(!i||e.category===i)&&!(a&&!e.name.toLowerCase().includes(a.toLowerCase()))),[t,s,i,a])}})({items:_,selectedTier:j,selectedCategory:I,searchQuery:N}),{craftingComponents:P,usedInItems:M}=((e,t)=>{const s=e=>e&&e.recipe&&Array.isArray(e.recipe)?e.recipe.map(e=>{const s="object"===typeof e?e.id:e;return t.find(e=>e.id===s)}).filter(e=>void 0!==e):[],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const l=s(e);return{item:e,count:t,children:l.map(e=>i(e,t))}},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2]){const s=t.get(e.item.id);s?s.count+=e.count:t.set(e.item.id,{item:e.item,count:e.count})}return e.children.forEach(e=>a(e,t,!1)),t},n=s(e),c=e?i(e):null,r=c?a(c,new Map,!0):new Map,o=Array.from(r.values()),d=o.reduce((e,t)=>{let{item:s,count:i}=t;return e+(s.price_total||0)*i},0),m={};r.forEach(e=>{let{item:t,count:s}=e;m[t.id]=s});const _=(0,l.useMemo)(()=>e?t.filter(t=>!(!t.recipe||!Array.isArray(t.recipe))&&t.recipe.some(t=>("object"===typeof t?t.id:t)===e.id)):[],[t,e]);return{craftingComponents:n,recipeTree:c,allRecipeItems:o,totalCost:d,itemCounts:m,usedInItems:_}})(f,_),W=e=>{x(e),L(!0)};return u?(0,r.jsx)("div",{className:c.loading,children:(0,r.jsx)(g.a,{})}):h?(0,r.jsx)("div",{className:c.loading,children:(0,r.jsx)("p",{style:{color:"#94a3b8"},children:e("items.failedToLoad")})}):(0,r.jsxs)("div",{className:c.itemsPage,children:[(A||w)&&(0,r.jsx)("div",{className:c.overlay,onClick:()=>{T(!1),L(!1)}}),(0,r.jsx)(o,{tiers:k,categories:B,selectedTier:j,selectedCategory:I,searchQuery:N,filteredCount:S.length,onTierChange:v,onCategoryChange:b,onSearchChange:C,isOpen:A}),(0,r.jsxs)("div",{className:c.contentWrapper,children:[(0,r.jsx)(m,{items:S,selectedItemId:null===f||void 0===f?void 0:f.id,onItemClick:W}),(0,r.jsx)(p,{selectedItem:f,craftingComponents:P,usedInItems:M,isOpen:w,onClose:()=>L(!1),onItemClick:W,getCraftingTree:e=>e&&e.recipe&&Array.isArray(e.recipe)?e.recipe.map(e=>{const t="object"===typeof e?e.id:e;return _.find(e=>e.id===t)}).filter(e=>void 0!==e):[]})]})]})}},5613:(e,t,s)=>{s.d(t,{P:()=>o});var i=s(5043);const l="Wiki for Mobile Legends (Unofficial)",a="Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.",n="".concat("https://moba-wiki-production.up.railway.app","/logo512.png"),c=(e,t)=>{let s=document.querySelector('meta[property="'.concat(e,'"]'));s||(s=document.createElement("meta"),s.setAttribute("property",e),document.head.appendChild(s)),s.setAttribute("content",t)},r=(e,t)=>{let s=document.querySelector('meta[name="'.concat(e,'"]'));s||(s=document.createElement("meta"),s.setAttribute("name",e),document.head.appendChild(s)),s.setAttribute("content",t)},o=function(){let{title:e,description:t,image:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.useEffect)(()=>{const i=e?"".concat(e," | ").concat(l):l,o=t||a,d=s||n,m=window.location.href;return document.title=i,r("description",o),c("og:title",i),c("og:description",o),c("og:image",d),c("og:url",m),c("og:type","website"),c("og:site_name","MOBA Wiki"),r("twitter:card","summary_large_image"),r("twitter:title",i),r("twitter:description",o),r("twitter:image",d),()=>{document.title=l,r("description",a)}},[e,t,s])}}}]);
//# sourceMappingURL=249.aeef4c6c.chunk.js.map