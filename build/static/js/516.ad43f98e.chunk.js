"use strict";(self.webpackChunkmoba_wiki=self.webpackChunkmoba_wiki||[]).push([[516],{330:(e,t,a)=>{a.d(t,{A:()=>s});const s={container:"styles_container__vg70K",error:"styles_error__6ZwUQ",heroGrid:"styles_heroGrid__sDjw4",heroCard:"styles_heroCard__f+83B",heroImage:"styles_heroImage__5kAlW",heroImageWrapper:"styles_heroImageWrapper__b5WY-",heroImagePlaceholder:"styles_heroImagePlaceholder__-hlxR",heroImageOverlay:"styles_heroImageOverlay__2F8iV",heroContent:"styles_heroContent__xj5Mf",heroName:"styles_heroName__VnHVI",heroRoles:"styles_heroRoles__rgqiz",roleTag:"styles_roleTag__5LdMl",heroFooter:"styles_heroFooter__966s6",heroLanes:"styles_heroLanes__WL1zS",heroFavorite:"styles_heroFavorite__CikaW",laneIcon:"styles_laneIcon__MyI2-",laneTag:"styles_laneTag__UQ5Ea",heroDifficulty:"styles_heroDifficulty__irAj2",difficultyDot:"styles_difficultyDot__7ewIq",difficultyValue:"styles_difficultyValue__C78E-",noData:"styles_noData__jQcTW"}},1738:(e,t,a)=>{a.d(t,{A:()=>r});a(5043);const s="styles_loadMoreSection__0qnCI",l="styles_loadMoreButton__Njzss";var o=a(579);const r=e=>{let{onClick:t,disabled:a=!1,loading:r=!1,children:i="Show More"}=e;return(0,o.jsx)("div",{className:s,children:(0,o.jsx)("button",{onClick:t,disabled:a||r,className:l,children:r?"Loading...":i})})}},1743:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(5043),l=a(6930),o=a(8687),r=a(9645),i=a(623);const n="styles_favWrapper__3fhqK",c="styles_favoriteBtn__mC9D2",d="styles_active__aHoUL",h="styles_notAuth__M-vT0",u="styles_loginTooltip__4+vqv",_="styles_loginTooltipTop__s+6X-";var m=a(579);const g=e=>{let{heroId:t,className:a,tooltipPosition:g="bottom"}=e;const{t:v}=(0,l.Bd)(),{user:y}=(0,o.nc)(),{isFavorite:p,toggleFavorite:f,addFavorite:x,isLoading:j}=(0,r.r)(),[b,C]=(0,s.useState)(!1),[N,L]=(0,s.useState)(!1),S=(0,s.useRef)(null),w=p(t),A=(0,i.h)((0,s.useCallback)(async()=>{if(null!==S.current){try{await x(S.current)}catch(e){}S.current=null}},[x])),I=v(y?w?"favorites.remove":"favorites.add":"favorites.loginToAdd");return(0,m.jsxs)("div",{className:n,children:[(0,m.jsx)("button",{className:"".concat(c," ").concat(w?d:""," ").concat(y?"":h," ").concat(a||""),onClick:async()=>{if(!b&&!j){if(!y)return S.current=t,L(!0),setTimeout(()=>L(!1),2500),void setTimeout(()=>A(),400);C(!0);try{await f(t)}catch(e){console.error("Failed to toggle favorite:",e)}finally{C(!1)}}},disabled:b,title:I,"aria-label":I,children:(0,m.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:w?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:(0,m.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),N&&(0,m.jsx)("div",{className:"".concat(u," ").concat("top"===g?_:""),children:v("favorites.loginToAdd")})]})}},3450:(e,t,a)=>{a.d(t,{o:()=>f});var s=a(5043),l=a(6930);const o="styles_filters__dCtU8",r="styles_filtersWrapper__1K8aN",i="styles_filtersToggle__ZX1Gw",n="styles_filtersToggleText__CEdzy",c="styles_toggleIcon__s8i0P",d="styles_toggleIconExpanded__zaT-3",h="styles_filtersContent__Z0vh8",u="styles_filtersExpanded__c1QGp",_="styles_filterGroup__6CKuN",m="styles_filterLabel__V28hh",g="styles_tabGroup__JvRwP",v="styles_tab__ZS5S2",y="styles_tabActive__EaKe5";var p=a(579);const f=e=>{let{filterGroups:t,collapsible:a=!1,defaultExpanded:f=!0}=e;const{t:x}=(0,l.Bd)(),[j,b]=(0,s.useState)(f);return a?(0,p.jsxs)("div",{className:r,children:[(0,p.jsxs)("button",{className:i,onClick:()=>b(!j),children:[(0,p.jsx)("span",{className:n,children:x("heroes.filters.title")}),(0,p.jsx)("span",{className:j?"".concat(c," ").concat(d):c,children:(0,p.jsx)("img",{src:"/arrow-small.svg",alt:"filter icon"})})]}),(0,p.jsx)("div",{className:j?"".concat(h," ").concat(u):h,children:(0,p.jsx)("div",{className:o,children:t.map((e,t)=>(0,p.jsxs)("div",{className:_,children:[(0,p.jsxs)("label",{className:m,children:[e.emoji&&(0,p.jsx)("span",{children:e.emoji})," ",e.label]}),(0,p.jsx)("div",{className:g,children:e.options.map(t=>(0,p.jsx)("button",{onClick:()=>e.onChange(String(t.value)),className:String(e.selectedValue)===String(t.value)?"".concat(v," ").concat(y):v,children:t.label},t.value))})]},t))})})]}):(0,p.jsx)("div",{className:o,children:t.map((e,t)=>(0,p.jsxs)("div",{className:_,children:[(0,p.jsxs)("label",{className:m,children:[e.emoji&&(0,p.jsx)("span",{children:e.emoji})," ",e.label]}),(0,p.jsx)("div",{className:g,children:e.options.map(t=>(0,p.jsx)("button",{onClick:()=>e.onChange(String(t.value)),className:String(e.selectedValue)===String(t.value)?"".concat(v," ").concat(y):v,children:t.label},t.value))})]},t))})}},5516:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(2555),l=a(5043),o=a(6930),r=a(5836),i=a(5935),n=a(1795);var c=a(9645),d=a(3450);const h=e=>[{value:"all",label:e("heroes.filters.allRoles")},{value:"Tank",label:e("heroes.filters.tank")},{value:"Fighter",label:e("heroes.filters.fighter")},{value:"Assassin",label:e("heroes.filters.assassin")},{value:"Mage",label:e("heroes.filters.mage")},{value:"Marksman",label:e("heroes.filters.marksman")},{value:"Support",label:e("heroes.filters.support")}],u=e=>[{value:"all",label:e("heroes.filters.allLanes")},{value:"Exp Lane",label:e("heroes.filters.expLane")},{value:"Mid Lane",label:e("heroes.filters.midLane")},{value:"Gold Lane",label:e("heroes.filters.goldLane")},{value:"Jungle",label:e("heroes.filters.jungle")},{value:"Roam",label:e("heroes.filters.roam")}],_=e=>[{value:"all",label:e("heroes.filters.all")},{value:"Easy",label:e("heroes.filters.simple")},{value:"Medium",label:e("heroes.filters.moderate")},{value:"Hard",label:e("heroes.filters.complex")}],m=e=>[{value:"name",label:e("heroes.filters.name")},{value:"newest",label:e("heroes.filters.newestFirst")}],g="HeroFilters_header__7dBf2",v="HeroFilters_titleSection__jstSJ",y="HeroFilters_title__HaPTm",p="HeroFilters_subtitle__m9VuO",f="HeroFilters_searchWrapper__iaXuw",x="HeroFilters_searchInput__bA2B+",j="HeroFilters_clearButton__-+xN-";var b=a(579);const C=l.memo(e=>{let{searchQuery:t,onSearchChange:a,selectedRole:s,selectedLane:l,selectedComplexity:r,sortBy:i,onRoleChange:n,onLaneChange:c,onComplexityChange:C,onSortChange:N,totalCount:L,displayedCount:S}=e;const{t:w}=(0,o.Bd)(),A=[{label:w("heroes.filters.role"),emoji:"\ud83c\udfad",options:h(w),selectedValue:s,onChange:n},{label:w("heroes.filters.lane"),emoji:"\ud83d\udee3\ufe0f",options:u(w),selectedValue:l,onChange:c},{label:w("heroes.filters.complexity"),emoji:"\u26a1",options:_(w),selectedValue:r,onChange:C},{label:w("heroes.filters.sortBy"),emoji:"\ud83d\udcca",options:m(w),selectedValue:i,onChange:N}];return(0,b.jsxs)("div",{className:g,children:[(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("h1",{className:y,children:w("heroes.title")}),(0,b.jsxs)("p",{className:p,children:[w("heroes.browse")," \u2022 ",w("heroes.showing",{displayed:S,total:L})]})]}),(0,b.jsxs)("div",{className:f,children:[(0,b.jsx)("input",{type:"text",placeholder:w("heroes.searchPlaceholder"),value:t,onChange:e=>a(e.target.value),className:x}),t&&(0,b.jsx)("button",{onClick:()=>a(""),className:j,children:"\u2715"})]}),(0,b.jsx)(d.o,{filterGroups:A,collapsible:!0,defaultExpanded:!1})]})});var N=a(6250),L=a(1738);const S="HeroGrid_heroGrid__Qi8SS",w="HeroGrid_noData__4XOT3",A=l.memo(e=>{let{heroes:t,gameId:a,hasMore:s,remainingCount:l,onLoadMore:r,isFiltering:i}=e;const{t:n}=(0,o.Bd)();return 0===t.length?(0,b.jsx)("div",{className:w,children:n("heroes.noHeroesFound")}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:S,style:i?{opacity:.5,transition:"opacity 0.2s"}:{transition:"opacity 0.2s"},children:t.map(e=>(0,b.jsx)(N.X,{hero:e,gameId:a},e.id))}),s&&(0,b.jsx)(L.A,{onClick:r,children:n("heroes.showMore",{count:l})})]})});var I=a(5613),M=a(330);const k=function(){var e,t;const{t:a}=(0,o.Bd)();(0,I.P)({title:"Heroes",description:"Browse all Mobile Legends heroes \u2014 filter by role, lane, and specialty."});const{selectedGameId:d}=(0,n.T)(),{favorites:h}=(0,c.r)(),{filters:u,apiFilters:_,setters:m}=(()=>{const[e,t]=(0,l.useState)("all"),[a,s]=(0,l.useState)("all"),[o,r]=(0,l.useState)("all"),[i,n]=(0,l.useState)("name"),[c,d]=(0,l.useState)(""),[h,u]=(0,l.useState)("");return(0,l.useEffect)(()=>{const e=setTimeout(()=>u(c),300);return()=>clearTimeout(e)},[c]),{filters:{selectedRole:e,selectedLane:a,selectedComplexity:o,sortBy:i,searchQuery:c},apiFilters:{role:"all"!==e?e:void 0,lane:"all"!==a?a:void 0,complexity:"all"!==o?o:void 0,search:h||void 0,sort:i},setters:{setSelectedRole:t,setSelectedLane:s,setSelectedComplexity:r,setSortBy:n,setSearchQuery:d}}})(),g=(0,l.useMemo)(()=>h.map(e=>e.hero_id),[h]),{data:v,isLoading:y,isError:p,fetchNextPage:f,hasNextPage:x,isFetching:j,isPlaceholderData:N}=(0,i.or)(d,(0,s.A)((0,s.A)({size:24},_),{},{favorite_ids:g})),L=(0,l.useMemo)(()=>null!==v&&void 0!==v&&v.pages?v.pages.flatMap(e=>e.data):[],[v]),S=null!==(e=null===v||void 0===v||null===(t=v.pages[0])||void 0===t?void 0:t.total)&&void 0!==e?e:0,w=S-L.length;return y&&!N?(0,b.jsx)(r.a,{}):p?(0,b.jsx)("div",{className:M.A.error,children:a("heroes.failedToLoad")}):d?(0,b.jsxs)("div",{className:M.A.container,children:[(0,b.jsx)(C,{searchQuery:u.searchQuery,onSearchChange:m.setSearchQuery,selectedRole:u.selectedRole,selectedLane:u.selectedLane,selectedComplexity:u.selectedComplexity,sortBy:u.sortBy,onRoleChange:m.setSelectedRole,onLaneChange:m.setSelectedLane,onComplexityChange:m.setSelectedComplexity,onSortChange:m.setSortBy,totalCount:S,displayedCount:L.length}),(0,b.jsx)(A,{heroes:L,gameId:d,hasMore:!!x&&!N,remainingCount:w,onLoadMore:()=>f(),isFiltering:j&&N})]}):(0,b.jsx)("div",{className:M.A.error,children:a("heroes.selectGame")})}},5613:(e,t,a)=>{a.d(t,{P:()=>c});var s=a(5043);const l="Wiki for Mobile Legends (Unofficial)",o="Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.",r="".concat("https://moba-wiki-production.up.railway.app","/logo512.png"),i=(e,t)=>{let a=document.querySelector('meta[property="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("property",e),document.head.appendChild(a)),a.setAttribute("content",t)},n=(e,t)=>{let a=document.querySelector('meta[name="'.concat(e,'"]'));a||(a=document.createElement("meta"),a.setAttribute("name",e),document.head.appendChild(a)),a.setAttribute("content",t)},c=function(){let{title:e,description:t,image:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.useEffect)(()=>{const s=e?"".concat(e," | ").concat(l):l,c=t||o,d=a||r,h=window.location.href;return document.title=s,n("description",c),i("og:title",s),i("og:description",c),i("og:image",d),i("og:url",h),i("og:type","website"),i("og:site_name","MOBA Wiki"),n("twitter:card","summary_large_image"),n("twitter:title",s),n("twitter:description",c),n("twitter:image",d),()=>{document.title=l,n("description",o)}},[e,t,a])}},6250:(e,t,a)=>{a.d(t,{X:()=>d});var s=a(4218),l=a(6930),o=a(9889),r=a(9046),i=a(1743),n=a(330),c=a(579);const d=e=>{let{hero:t,gameId:a}=e;const{i18n:d}=(0,l.Bd)();return(0,c.jsxs)(s.N_,{to:"/".concat(a,"/heroes/").concat(t.id),className:n.A.heroCard,children:[(0,c.jsxs)("div",{className:n.A.heroImageWrapper,children:[t.image?(0,c.jsx)("img",{src:t.image,alt:(0,r.MJ)(t,d.language),className:n.A.heroImage}):(0,c.jsx)("div",{className:n.A.heroImagePlaceholder,children:(0,c.jsx)("span",{children:(0,r.MJ)(t,d.language).charAt(0)})}),(0,c.jsx)("div",{className:n.A.heroImageOverlay}),t.lane&&t.lane.length>0&&(0,c.jsx)("div",{className:n.A.heroLanes,children:t.lane.slice(0,2).map((e,a)=>{const s=(e=>{const t=Object.values(o.G).find(t=>t.toLowerCase()===e.toLowerCase());return t?o.S[t]:void 0})(e),l=(0,r.gr)(t.lane||[],d.language);return s?(0,c.jsx)("img",{src:s,alt:l[a]||e,className:n.A.laneIcon,title:l[a]||e},e):null})})]}),(0,c.jsx)("div",{className:n.A.heroFavorite,onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,c.jsx)(i.Z,{heroId:t.id,tooltipPosition:"top"})}),(0,c.jsxs)("div",{className:n.A.heroContent,children:[(0,c.jsx)("h3",{className:n.A.heroName,children:(0,r.MJ)(t,d.language)}),(0,c.jsx)("div",{className:n.A.heroFooter}),t.roles&&t.roles.length>0&&(0,c.jsx)("p",{className:n.A.heroRoles,children:(0,r.CD)(t.roles,d.language).slice(0,2).join(" \u2022 ")})]})]})}},9645:(e,t,a)=>{a.d(t,{r:()=>i});var s=a(5043),l=a(8261),o=a(3248),r=a(8687);const i=()=>{const e=(0,r.nc)(e=>e.token),t=(0,o.jE)(),{data:a=[],isLoading:i}=(0,l.I)({queryKey:["favorites"],queryFn:()=>(0,r.tm)("/favorites"),enabled:!!e,staleTime:3e4,retry:1}),n=(0,s.useCallback)(e=>a.some(t=>t.hero_id===e),[a]),c=(0,s.useCallback)(async e=>{const s=a.some(t=>t.hero_id===e);t.setQueryData(["favorites"],function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s?t.filter(t=>t.hero_id!==e):[...t,{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{s?await(0,r.tm)("/favorites/".concat(e),{method:"DELETE"}):await(0,r.tm)("/favorites/".concat(e),{method:"POST"}),t.invalidateQueries({queryKey:["favorites"]})}catch(l){throw t.invalidateQueries({queryKey:["favorites"]}),l}},[a,t]),d=(0,s.useCallback)(async e=>{t.setQueryData(["favorites"],function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{id:Date.now(),hero_id:e,created_at:(new Date).toISOString()}]});try{await(0,r.tm)("/favorites/".concat(e),{method:"POST"}),t.invalidateQueries({queryKey:["favorites"]})}catch(a){throw t.invalidateQueries({queryKey:["favorites"]}),a}},[t]);return{favorites:a,isLoading:i,isFavorite:n,toggleFavorite:c,addFavorite:d}}},9889:(e,t,a)=>{a.d(t,{G:()=>s,S:()=>l});let s=function(e){return e.EXP_LANE="Exp Lane",e.JUNGLE="Jungle",e.MID_LANE="Mid Lane",e.ROAM="Roam",e.GOLD_LANE="Gold Lane",e}({});const l={[s.EXP_LANE]:"/exp.svg",[s.JUNGLE]:"/jungle.svg",[s.MID_LANE]:"/mid.svg",[s.ROAM]:"/roam.svg",[s.GOLD_LANE]:"/gold.svg"}}}]);
//# sourceMappingURL=516.ad43f98e.chunk.js.map