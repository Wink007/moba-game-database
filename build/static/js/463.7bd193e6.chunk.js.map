{"version":3,"file":"static/js/463.7bd193e6.chunk.js","mappings":"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","sources":["webpack://moba-wiki/./src/pages/HeroesPage/styles.module.scss?f566","webpack://moba-wiki/./src/pages/FavoritesPage/styles.module.scss?4c7d","pages/FavoritesPage/index.tsx","webpack://moba-wiki/./src/components/FavoriteButton/styles.module.scss?2bc5","components/FavoriteButton/index.tsx","hooks/useSEO.ts","pages/HeroesPage/components/HeroCard.tsx","hooks/useFavorites.ts","enum.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__vg70K\",\"error\":\"styles_error__6ZwUQ\",\"heroGrid\":\"styles_heroGrid__sDjw4\",\"heroCard\":\"styles_heroCard__f+83B\",\"heroImage\":\"styles_heroImage__5kAlW\",\"heroImageWrapper\":\"styles_heroImageWrapper__b5WY-\",\"heroImagePlaceholder\":\"styles_heroImagePlaceholder__-hlxR\",\"heroImageOverlay\":\"styles_heroImageOverlay__2F8iV\",\"heroContent\":\"styles_heroContent__xj5Mf\",\"heroName\":\"styles_heroName__VnHVI\",\"heroRoles\":\"styles_heroRoles__rgqiz\",\"roleTag\":\"styles_roleTag__5LdMl\",\"heroFooter\":\"styles_heroFooter__966s6\",\"heroLanes\":\"styles_heroLanes__WL1zS\",\"heroFavorite\":\"styles_heroFavorite__CikaW\",\"laneIcon\":\"styles_laneIcon__MyI2-\",\"laneTag\":\"styles_laneTag__UQ5Ea\",\"heroDifficulty\":\"styles_heroDifficulty__irAj2\",\"difficultyDot\":\"styles_difficultyDot__7ewIq\",\"difficultyValue\":\"styles_difficultyValue__C78E-\",\"noData\":\"styles_noData__jQcTW\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__CJL55\",\"title\":\"styles_title__mUcaf\",\"grid\":\"styles_grid__Dpny+\",\"loginPrompt\":\"styles_loginPrompt__vWqO2\",\"loginButton\":\"styles_loginButton__I4qVq\",\"empty\":\"styles_empty__7LqHr\",\"browseLink\":\"styles_browseLink__IhSQG\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Loader } from '../../components/Loader';\nimport { useHeroesQuery } from '../../queries/useHeroesQuery';\nimport { useGameStore } from '../../store/gameStore';\nimport { useAuthStore } from '../../store/authStore';\nimport { useFavorites } from '../../hooks/useFavorites';\nimport { useSEO } from '../../hooks/useSEO';\nimport { useGoogleAuth } from '../../hooks/useGoogleAuth';\nimport { HeroCard } from '../HeroesPage/components/HeroCard';\nimport styles from './styles.module.scss';\n\nexport const FavoritesPage: React.FC = () => {\n  const { t } = useTranslation();\n  useSEO({\n    title: t('favorites.pageTitle'),\n    description: t('favorites.pageDescription'),\n  });\n\n  const { selectedGameId } = useGameStore();\n  const user = useAuthStore((s) => s.user);\n  const { favorites, isLoading: favLoading } = useFavorites();\n  const { data: heroes, isLoading: heroesLoading } = useHeroesQuery(selectedGameId);\n\n  const googleLogin = useGoogleAuth();\n\n  // Not logged in\n  if (!user) {\n    return (\n      <div className={styles.container}>\n        <h1 className={styles.title}>{t('favorites.pageTitle')}</h1>\n        <div className={styles.loginPrompt}>\n          <p>{t('favorites.loginRequired')}</p>\n          <button className={styles.loginButton} onClick={() => googleLogin()}>\n            {t('auth.login')}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (favLoading || heroesLoading) return <Loader />;\n\n  // Cross-reference favorites with hero data\n  const favoriteHeroIds = new Set(favorites.map((f) => f.hero_id));\n  const favoriteHeroes = (heroes || []).filter((h) => favoriteHeroIds.has(h.id));\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>{t('favorites.pageTitle')}</h1>\n\n      {favoriteHeroes.length === 0 ? (\n        <div className={styles.empty}>\n          <p>{t('favorites.empty')}</p>\n          <Link to={`/${selectedGameId}/heroes`} className={styles.browseLink}>\n            {t('favorites.browseHeroes')}\n          </Link>\n        </div>\n      ) : (\n        <div className={styles.grid}>\n          {favoriteHeroes.map((hero) => (\n            <HeroCard key={hero.id} hero={hero} gameId={selectedGameId} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FavoritesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"favWrapper\":\"styles_favWrapper__3fhqK\",\"favoriteBtn\":\"styles_favoriteBtn__mC9D2\",\"active\":\"styles_active__aHoUL\",\"notAuth\":\"styles_notAuth__M-vT0\",\"loginTooltip\":\"styles_loginTooltip__4+vqv\",\"tooltipFade\":\"styles_tooltipFade__ywqoM\",\"tooltipFadeMobile\":\"styles_tooltipFadeMobile__OnizT\",\"loginTooltipTop\":\"styles_loginTooltipTop__s+6X-\",\"tooltipFadeTop\":\"styles_tooltipFadeTop__QA1Bl\",\"tooltipFadeTopMobile\":\"styles_tooltipFadeTopMobile__hey0z\"};","import React, { useState, useRef, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuthStore } from '../../store/authStore';\nimport { useFavorites } from '../../hooks/useFavorites';\nimport { useGoogleAuth } from '../../hooks/useGoogleAuth';\nimport styles from './styles.module.scss';\n\ninterface FavoriteButtonProps {\n  heroId: number;\n  className?: string;\n  tooltipPosition?: 'top' | 'bottom';\n}\n\nexport const FavoriteButton: React.FC<FavoriteButtonProps> = ({ heroId, className, tooltipPosition = 'bottom' }) => {\n  const { t } = useTranslation();\n  const { user } = useAuthStore();\n  const { isFavorite, toggleFavorite, addFavorite, isLoading: favLoading } = useFavorites();\n  const [isToggling, setIsToggling] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const pendingHeroRef = useRef<number | null>(null);\n\n  const active = isFavorite(heroId);\n\n  // Google login for non-auth users — auto-adds favorite after login\n  const googleLogin = useGoogleAuth(useCallback(async () => {\n    if (pendingHeroRef.current !== null) {\n      try { await addFavorite(pendingHeroRef.current); } catch { /* user can retry */ }\n      pendingHeroRef.current = null;\n    }\n  }, [addFavorite]));\n\n  const handleClick = async () => {\n    if (isToggling || favLoading) return;\n\n    // Not logged in — show tooltip then trigger Google login\n    if (!user) {\n      pendingHeroRef.current = heroId;\n      setShowTooltip(true);\n      setTimeout(() => setShowTooltip(false), 2500);\n      setTimeout(() => googleLogin(), 400);\n      return;\n    }\n\n    setIsToggling(true);\n    try {\n      await toggleFavorite(heroId);\n    } catch (err) {\n      console.error('Failed to toggle favorite:', err);\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  const tooltipText = user\n    ? (active ? t('favorites.remove') : t('favorites.add'))\n    : t('favorites.loginToAdd');\n\n  return (\n    <div className={styles.favWrapper}>\n      <button\n        className={`${styles.favoriteBtn} ${active ? styles.active : ''} ${!user ? styles.notAuth : ''} ${className || ''}`}\n        onClick={handleClick}\n        disabled={isToggling}\n        title={tooltipText}\n        aria-label={tooltipText}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill={active ? 'currentColor' : 'none'} stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\" />\n        </svg>\n      </button>\n      {showTooltip && (\n        <div className={`${styles.loginTooltip} ${tooltipPosition === 'top' ? styles.loginTooltipTop : ''}`}>\n          {t('favorites.loginToAdd')}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useEffect } from 'react';\n\ninterface SEOProps {\n  title?: string;\n  description?: string;\n  image?: string;\n}\n\nconst BASE_TITLE = 'Wiki for Mobile Legends (Unofficial)';\nconst BASE_DESCRIPTION = 'Unofficial fan-made guide for Mobile Legends. Heroes stats, builds, rankings, items and more. Not affiliated with Moonton.';\nconst BASE_URL = 'https://moba-wiki-production.up.railway.app';\nconst DEFAULT_IMAGE = `${BASE_URL}/logo512.png`;\n\nconst setMetaTag = (property: string, content: string) => {\n  let meta = document.querySelector(`meta[property=\"${property}\"]`);\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('property', property);\n    document.head.appendChild(meta);\n  }\n  meta.setAttribute('content', content);\n};\n\nconst setNameMeta = (name: string, content: string) => {\n  let meta = document.querySelector(`meta[name=\"${name}\"]`);\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', name);\n    document.head.appendChild(meta);\n  }\n  meta.setAttribute('content', content);\n};\n\nexport const useSEO = ({ title, description, image }: SEOProps = {}) => {\n  useEffect(() => {\n    const fullTitle = title ? `${title} | ${BASE_TITLE}` : BASE_TITLE;\n    const desc = description || BASE_DESCRIPTION;\n    const img = image || DEFAULT_IMAGE;\n    const url = window.location.href;\n\n    document.title = fullTitle;\n\n    // Standard meta\n    setNameMeta('description', desc);\n\n    // Open Graph\n    setMetaTag('og:title', fullTitle);\n    setMetaTag('og:description', desc);\n    setMetaTag('og:image', img);\n    setMetaTag('og:url', url);\n    setMetaTag('og:type', 'website');\n    setMetaTag('og:site_name', 'MOBA Wiki');\n\n    // Twitter Card\n    setNameMeta('twitter:card', 'summary_large_image');\n    setNameMeta('twitter:title', fullTitle);\n    setNameMeta('twitter:description', desc);\n    setNameMeta('twitter:image', img);\n\n    return () => {\n      document.title = BASE_TITLE;\n      setNameMeta('description', BASE_DESCRIPTION);\n    };\n  }, [title, description, image]);\n};\n","import { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport type { Hero } from '../../../types';\nimport { Lanes, LanesIcons } from '../../../enum';\nimport { getHeroName, translateRoles, translateLanes } from '../../../utils/translation';\nimport { FavoriteButton } from '../../../components/FavoriteButton';\nimport styles from '../styles.module.scss';\n\ninterface HeroCardProps {\n  hero: Hero;\n  gameId: number;\n}\n\nexport const HeroCard = ({ hero, gameId }: HeroCardProps) => {\n  const { i18n } = useTranslation();\n  const getLaneIcon = (lane: string): string | undefined => {\n    const laneKey = Object.values(Lanes).find(l => l.toLowerCase() === lane.toLowerCase());\n    return laneKey ? LanesIcons[laneKey as Lanes] : undefined;\n  };\n\n  return (\n    <Link to={`/${gameId}/heroes/${hero.id}`} className={styles.heroCard}>\n      <div className={styles.heroImageWrapper}>\n        {hero.image ? (\n          <img src={hero.image} alt={getHeroName(hero, i18n.language)} className={styles.heroImage} />\n        ) : (\n          <div className={styles.heroImagePlaceholder}>\n            <span>{getHeroName(hero, i18n.language).charAt(0)}</span>\n          </div>\n        )}\n        <div className={styles.heroImageOverlay} />\n        \n        {/* Lane icons in top left corner */}\n        {hero.lane && hero.lane.length > 0 && (\n          <div className={styles.heroLanes}>\n            {hero.lane.slice(0, 2).map((lane, index) => {\n              const icon = getLaneIcon(lane);\n              const translatedLanes = translateLanes(hero.lane || [], i18n.language);\n              return icon ? (\n                <img \n                  key={lane} \n                  src={icon} \n                  alt={translatedLanes[index] || lane}\n                  className={styles.laneIcon}\n                  title={translatedLanes[index] || lane}\n                />\n              ) : null;\n            })}\n          </div>\n        )}\n\n      </div>\n\n      {/* Favorite button in top right corner — outside heroImageWrapper to avoid overflow clip */}\n      <div className={styles.heroFavorite} onClick={(e) => { e.preventDefault(); e.stopPropagation(); }}>\n        <FavoriteButton heroId={hero.id} tooltipPosition=\"top\" />\n      </div>\n      \n      <div className={styles.heroContent}>\n        <h3 className={styles.heroName}>{getHeroName(hero, i18n.language)}</h3>\n        <div className={styles.heroFooter} />\n        {hero.roles && hero.roles.length > 0 && (\n          <p className={styles.heroRoles}>\n            {translateRoles(hero.roles, i18n.language).slice(0, 2).join(' • ')}\n          </p>\n        )}\n        \n      </div>\n    </Link>\n  );\n};\n\n","import { useCallback } from 'react';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { useAuthStore, authFetch } from '../store/authStore';\n\ninterface Favorite {\n  id: number;\n  hero_id: number;\n  created_at: string;\n  name?: string;\n  image?: string;\n}\n\n/**\n * Shared favorites hook — loads favorites ONCE and shares across all components.\n * Uses react-query for caching, deduplication, and automatic refetch.\n */\nexport const useFavorites = () => {\n  const token = useAuthStore((s) => s.token);\n  const queryClient = useQueryClient();\n\n  const { data: favorites = [], isLoading } = useQuery<Favorite[]>({\n    queryKey: ['favorites'],\n    queryFn: () => authFetch('/favorites'),\n    enabled: !!token,\n    staleTime: 30 * 1000, // 30 seconds\n    retry: 1,\n  });\n\n  const isFavorite = useCallback(\n    (heroId: number) => favorites.some((f) => f.hero_id === heroId),\n    [favorites]\n  );\n\n  const toggleFavorite = useCallback(\n    async (heroId: number) => {\n      const currentlyFavorite = favorites.some((f) => f.hero_id === heroId);\n\n      // Optimistic update\n      queryClient.setQueryData<Favorite[]>(['favorites'], (old = []) =>\n        currentlyFavorite\n          ? old.filter((f) => f.hero_id !== heroId)\n          : [...old, { id: Date.now(), hero_id: heroId, created_at: new Date().toISOString() }]\n      );\n\n      try {\n        if (currentlyFavorite) {\n          await authFetch(`/favorites/${heroId}`, { method: 'DELETE' });\n        } else {\n          await authFetch(`/favorites/${heroId}`, { method: 'POST' });\n        }\n        // Refetch to sync with server\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n      } catch (err) {\n        // Rollback optimistic update\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n        throw err;\n      }\n    },\n    [favorites, queryClient]\n  );\n\n  const addFavorite = useCallback(\n    async (heroId: number) => {\n      // Optimistic update\n      queryClient.setQueryData<Favorite[]>(['favorites'], (old = []) => [\n        ...old,\n        { id: Date.now(), hero_id: heroId, created_at: new Date().toISOString() },\n      ]);\n\n      try {\n        await authFetch(`/favorites/${heroId}`, { method: 'POST' });\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n      } catch (err) {\n        queryClient.invalidateQueries({ queryKey: ['favorites'] });\n        throw err;\n      }\n    },\n    [queryClient]\n  );\n\n  return { favorites, isLoading, isFavorite, toggleFavorite, addFavorite };\n};\n","export enum Lanes {\n    EXP_LANE = 'Exp Lane',\n    JUNGLE = 'Jungle',\n    MID_LANE = 'Mid Lane',\n    ROAM = 'Roam',\n    GOLD_LANE = 'Gold Lane',\n}\n\nexport const LanesIcons: Record<Lanes, string> = {\n    [Lanes.EXP_LANE]: '/exp.svg',\n    [Lanes.JUNGLE]: '/jungle.svg',\n    [Lanes.MID_LANE]: '/mid.svg',\n    [Lanes.ROAM]: '/roam.svg',\n    [Lanes.GOLD_LANE]: '/gold.svg',\n}"],"names":["FavoritesPage","t","useTranslation","useSEO","title","description","selectedGameId","useGameStore","user","useAuthStore","s","favorites","isLoading","favLoading","useFavorites","data","heroes","heroesLoading","useHeroesQuery","googleLogin","useGoogleAuth","_jsxs","className","styles","children","_jsx","onClick","Loader","favoriteHeroIds","Set","map","f","hero_id","favoriteHeroes","filter","h","has","id","length","Link","to","concat","hero","HeroCard","gameId","FavoriteButton","_ref","heroId","tooltipPosition","isFavorite","toggleFavorite","addFavorite","isToggling","setIsToggling","useState","showTooltip","setShowTooltip","pendingHeroRef","useRef","active","useCallback","async","current","_unused","tooltipText","setTimeout","err","console","error","disabled","width","height","viewBox","fill","stroke","strokeWidth","d","BASE_TITLE","BASE_DESCRIPTION","DEFAULT_IMAGE","setMetaTag","property","content","meta","document","querySelector","createElement","setAttribute","head","appendChild","setNameMeta","name","image","arguments","undefined","useEffect","fullTitle","desc","img","url","window","location","href","i18n","heroCard","heroImageWrapper","src","alt","getHeroName","language","heroImage","heroImagePlaceholder","charAt","heroImageOverlay","lane","heroLanes","slice","index","icon","laneKey","Object","values","Lanes","find","l","toLowerCase","LanesIcons","getLaneIcon","translatedLanes","translateLanes","laneIcon","heroFavorite","e","preventDefault","stopPropagation","heroContent","heroName","heroFooter","roles","heroRoles","translateRoles","join","token","queryClient","useQueryClient","useQuery","queryKey","queryFn","authFetch","enabled","staleTime","retry","some","currentlyFavorite","setQueryData","old","Date","now","created_at","toISOString","method","invalidateQueries","EXP_LANE","JUNGLE","MID_LANE","ROAM","GOLD_LANE"],"ignoreList":[],"sourceRoot":""}