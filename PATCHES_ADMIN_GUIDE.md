# Patches Management in Admin Panel

## –©–æ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ

–î–æ–¥–∞–Ω–æ –ø–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞—Ç—á–∞–º–∏ (patches) –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –¥–æ–¥–∞–≤–∞—Ç–∏, —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –ø–∞—Ç—á—ñ.

## –ó–º—ñ–Ω–∏ –≤ API (api_server.py)

### –ù–æ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:

1. **POST /api/patches** - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ç—á—É
   - –ü—Ä–∏–π–º–∞—î JSON –∑ –¥–∞–Ω–∏–º–∏ –ø–∞—Ç—á—É
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –Ω–µ —ñ—Å–Ω—É—î –≤–∂–µ –ø–∞—Ç—á –∑ —Ç–∞–∫–æ—é –≤–µ—Ä—Å—ñ—î—é
   - –î–æ–¥–∞—î –ø–∞—Ç—á –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ —Å–ø–∏—Å–∫—É (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ —Å–ø–æ—á–∞—Ç–∫—É)

2. **PUT /api/patches/<version>** - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ –ø–∞—Ç—á—É
   - –ü—Ä–∏–π–º–∞—î JSON –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
   - –ó–±–µ—Ä—ñ–≥–∞—î –≤–µ—Ä—Å—ñ—é –±–µ–∑ –∑–º—ñ–Ω
   - –û–Ω–æ–≤–ª—é—î –≤—Å—ñ —ñ–Ω—à—ñ –ø–æ–ª—è

3. **DELETE /api/patches/<version>** - –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞—Ç—á—É
   - –í–∏–¥–∞–ª—è—î –ø–∞—Ç—á –∑–∞ –≤–µ—Ä—Å—ñ—î—é

### –Ü—Å–Ω—É—é—á—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (–±–µ–∑ –∑–º—ñ–Ω):
- GET /api/patches - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –≤—Å—ñ—Ö –ø–∞—Ç—á—ñ–≤
- GET /api/patches/<version> - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞—Ç—á—É
- POST /api/patches/refresh - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ç—á—ñ–≤ –∑ Liquipedia

## –ù–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ Admin Panel

### 1. PatchList.js
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø–∞—Ç—á—ñ–≤ –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º:
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ –ø–∞—Ç—á—ñ–≤ –∑ –æ—Å–Ω–æ–≤–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (10 –ø–∞—Ç—á—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É)
- –ö–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–∞—Ç—á—É
- –ö–Ω–æ–ø–∫–∞ "Refresh from Liquipedia" –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ç—á—ñ–≤
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–∞—Ç–∏ –≤–∏–ø—É—Å–∫—É
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ hero adjustments

### 2. PatchForm.js
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–∞—Ç—á—ñ–≤ –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º:
- **Form Mode** - –°–ø—Ä–æ—â–µ–Ω–∏–π —Ä–µ–∂–∏–º –¥–ª—è –±–∞–∑–æ–≤–∏—Ö –ø–æ–ª—ñ–≤:
  - Version (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ, –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ)
  - Release Date
- **JSON Mode** - –ü–æ–≤–Ω–∏–π —Ä–µ–∂–∏–º –¥–ª—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö:
  - –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ JSON –ø–∞—Ç—á—É
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è JSON –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
  - –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
- –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ —Ä–µ–∂–∏–º–∞–º–∏
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–∞—Ç—á—ñ–≤ –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö

### 3. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ App.js
- –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç–∏ PatchList —Ç–∞ PatchForm
- –î–æ–¥–∞–Ω–æ —Å—Ç–µ–π—Ç –¥–ª—è patches, showPatchForm, editingPatch
- –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é loadPatches() –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–∞—Ç—á—ñ–≤
- –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é deletePatch() –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞—Ç—á—ñ–≤
- –î–æ–¥–∞–Ω–æ –≤–∫–ª–∞–¥–∫—É "üìã Patches" –≤ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
- –ü–∞—Ç—á—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏
- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–∞—Ü—é—î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –æ–±—Ä–∞–Ω–æ—ó –≥—Ä–∏ (patches –Ω–µ –ø—Ä–∏–≤'—è–∑–∞–Ω—ñ –¥–æ game_id)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –ø–∞—Ç—á—É

```json
{
  "version": "2.1.40",
  "release_date": "2024-12-17",
  "new_hero": {
    "name": "Hero Name",
    "description": "Hero description"
  },
  "hero_adjustments": {
    "HeroName": {
      "summary": "Overall summary",
      "skills": [
        {
          "name": "Skill Name",
          "changes": ["Change 1", "Change 2"]
        }
      ]
    }
  },
  "emblem_adjustments": {
    "EmblemName": {
      "sections": [
        {
          "title": "Section Title",
          "changes": ["Change 1", "Change 2"]
        }
      ]
    }
  },
  "battlefield_adjustments": {
    "Title": {
      "changes": ["Change 1", "Change 2"]
    }
  },
  "system_adjustments": [
    "System change 1",
    "System change 2"
  ]
}
```

## –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ç—á—É:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "üìã Patches"
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "+ Add Patch"
3. –£ Form Mode –≤–≤–µ–¥—ñ—Ç—å Version —Ç–∞ Release Date
4. –ü–µ—Ä–µ–º–∫–Ω—ñ—Ç—å—Å—è –≤ JSON Mode –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
5. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ JSON –∑ —É—Å—ñ–º–∞ –¥–µ—Ç–∞–ª—è–º–∏ –ø–∞—Ç—á—É
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create"

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–∞—Ç—á—É:
1. –£ —Å–ø–∏—Å–∫—É –ø–∞—Ç—á—ñ–≤ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Edit"
2. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –¥–∞–Ω—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è JSON Mode –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–º—ñ–Ω)
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Update"

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞—Ç—á—É:
1. –£ —Å–ø–∏—Å–∫—É –ø–∞—Ç—á—ñ–≤ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Delete"
2. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ Liquipedia:
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "üîÑ Refresh from Liquipedia"
2. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –¥—ñ—é
3. –ó–∞—á–µ–∫–∞–π—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è (–º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –¥–µ—è–∫–∏–π —á–∞—Å)

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

- –ü–∞—Ç—á—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª—ñ `patches_data.json` —è–∫ –º–∞—Å–∏–≤
- –í–µ—Ä—Å—ñ—è –ø–∞—Ç—á—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- JSON Mode –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–æ 10 –ø–∞—Ç—á—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
- –ö–Ω–æ–ø–∫–∞ Refresh –≤–∏–∫–ª–∏–∫–∞—î —ñ—Å–Ω—É—é—á–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –ø–∞—Ä—Å–∏–Ω–≥—É –∑ Liquipedia

## API Endpoints Summary

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/patches | Get all patches |
| GET | /api/patches/<version> | Get specific patch |
| POST | /api/patches | Create new patch |
| PUT | /api/patches/<version> | Update patch |
| DELETE | /api/patches/<version> | Delete patch |
| POST | /api/patches/refresh | Refresh from Liquipedia |

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ç—á—É:
```bash
curl -X POST https://web-production-8570.up.railway.app/api/patches \
  -H "Content-Type: application/json" \
  -d '{
    "version": "2.1.41",
    "release_date": "2025-01-10",
    "hero_adjustments": {},
    "system_adjustments": ["Bug fixes"]
  }'
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ç—á—É:
```bash
curl -X PUT https://web-production-8570.up.railway.app/api/patches/2.1.41 \
  -H "Content-Type: application/json" \
  -d '{
    "version": "2.1.41",
    "release_date": "2025-01-10",
    "system_adjustments": ["Bug fixes", "Performance improvements"]
  }'
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞—Ç—á—É:
```bash
curl -X DELETE https://web-production-8570.up.railway.app/api/patches/2.1.41
```
